import{r as b,j as r}from"./index-CC8smfP6.js";import{A as re,G as q,C as oe,T as M}from"./HTMLText-cIpQP9JN.js";const E=480,D=480,s=6,i=80,w=[[{id:0,x:1,y:2,width:2,height:1,color:16724787,direction:"horizontal",isTarget:!0},{id:1,x:3,y:1,width:1,height:3,color:4286945,direction:"vertical"},{id:2,x:0,y:0,width:2,height:1,color:3329330,direction:"horizontal"},{id:3,x:4,y:0,width:1,height:2,color:16766720,direction:"vertical"},{id:4,x:0,y:1,width:1,height:2,color:16738740,direction:"vertical"},{id:5,x:1,y:3,width:2,height:1,color:9055202,direction:"horizontal"},{id:6,x:4,y:4,width:2,height:1,color:52945,direction:"horizontal"}],[{id:0,x:0,y:2,width:2,height:1,color:16724787,direction:"horizontal",isTarget:!0},{id:1,x:2,y:0,width:1,height:3,color:4286945,direction:"vertical"},{id:2,x:3,y:0,width:2,height:1,color:3329330,direction:"horizontal"},{id:3,x:5,y:0,width:1,height:3,color:16766720,direction:"vertical"},{id:4,x:0,y:0,width:1,height:2,color:16738740,direction:"vertical"},{id:5,x:1,y:0,width:1,height:2,color:9055202,direction:"vertical"},{id:6,x:3,y:3,width:1,height:2,color:52945,direction:"vertical"},{id:7,x:4,y:3,width:1,height:2,color:16753920,direction:"vertical"},{id:8,x:0,y:4,width:3,height:1,color:9662683,direction:"horizontal"}],[{id:0,x:2,y:2,width:2,height:1,color:16724787,direction:"horizontal",isTarget:!0},{id:1,x:0,y:0,width:1,height:3,color:4286945,direction:"vertical"},{id:2,x:1,y:0,width:2,height:1,color:3329330,direction:"horizontal"},{id:3,x:4,y:0,width:1,height:2,color:16766720,direction:"vertical"},{id:4,x:5,y:0,width:1,height:3,color:16738740,direction:"vertical"},{id:5,x:1,y:1,width:1,height:2,color:9055202,direction:"vertical"},{id:6,x:4,y:3,width:2,height:1,color:52945,direction:"horizontal"},{id:7,x:2,y:0,width:1,height:2,color:16753920,direction:"vertical"},{id:8,x:3,y:1,width:1,height:2,color:9662683,direction:"vertical"},{id:9,x:0,y:4,width:2,height:1,color:2263842,direction:"horizontal"},{id:10,x:2,y:4,width:2,height:1,color:14423100,direction:"horizontal"}],[{id:0,x:1,y:2,width:2,height:1,color:16724787,direction:"horizontal",isTarget:!0},{id:1,x:0,y:0,width:1,height:2,color:4286945,direction:"vertical"},{id:2,x:1,y:0,width:1,height:2,color:3329330,direction:"vertical"},{id:3,x:2,y:0,width:2,height:1,color:16766720,direction:"horizontal"},{id:4,x:4,y:0,width:1,height:3,color:16738740,direction:"vertical"},{id:5,x:5,y:0,width:1,height:2,color:9055202,direction:"vertical"},{id:6,x:2,y:1,width:1,height:2,color:52945,direction:"vertical"},{id:7,x:3,y:1,width:1,height:2,color:16753920,direction:"vertical"},{id:8,x:0,y:3,width:1,height:2,color:9662683,direction:"vertical"},{id:9,x:3,y:3,width:2,height:1,color:2263842,direction:"horizontal"},{id:10,x:5,y:3,width:1,height:2,color:14423100,direction:"vertical"},{id:11,x:1,y:4,width:2,height:1,color:4620980,direction:"horizontal"},{id:12,x:4,y:5,width:2,height:1,color:11674146,direction:"horizontal"}],[{id:0,x:0,y:2,width:2,height:1,color:16724787,direction:"horizontal",isTarget:!0},{id:1,x:2,y:0,width:1,height:2,color:4286945,direction:"vertical"},{id:2,x:3,y:0,width:1,height:3,color:3329330,direction:"vertical"},{id:3,x:4,y:0,width:2,height:1,color:16766720,direction:"horizontal"},{id:4,x:0,y:0,width:2,height:1,color:16738740,direction:"horizontal"},{id:5,x:0,y:1,width:1,height:2,color:9055202,direction:"vertical"},{id:6,x:1,y:1,width:1,height:2,color:52945,direction:"vertical"},{id:7,x:4,y:1,width:1,height:2,color:16753920,direction:"vertical"},{id:8,x:5,y:1,width:1,height:3,color:9662683,direction:"vertical"},{id:9,x:2,y:3,width:1,height:2,color:2263842,direction:"vertical"},{id:10,x:3,y:4,width:1,height:2,color:14423100,direction:"vertical"},{id:11,x:0,y:4,width:2,height:1,color:4620980,direction:"horizontal"},{id:12,x:4,y:4,width:1,height:2,color:11674146,direction:"vertical"},{id:13,x:0,y:5,width:3,height:1,color:9419919,direction:"horizontal"}]],le=()=>{const j=b.useRef(null),[S,y]=b.useState("start"),[c,k]=b.useState(0),[B,z]=b.useState(0),[p,H]=b.useState(()=>{const o=localStorage.getItem("unblockme-best-moves");return o?JSON.parse(o):Array(w.length).fill(1/0)});b.useEffect(()=>{if(S!=="playing")return;const o=new re({width:E,height:D,backgroundColor:2889744});j.current&&o.view instanceof Node&&j.current.appendChild(o.view);let x=!0,g=w[c].map(e=>({...e})),m=null,C={x:0,y:0},v=0,A=!1,I={x:0,y:0};const f=new q;f.beginFill(9127187),f.drawRect(0,0,E,D),f.endFill();for(let e=0;e<20;e++)f.lineStyle(2,6636321,.3),f.moveTo(Math.random()*E,0),f.lineTo(Math.random()*E,D);o.stage.addChild(f);const l=new q;l.beginFill(16113331),l.lineStyle(4,9127187),l.drawRoundedRect(0,0,s*i,s*i,10),l.endFill();for(let e=0;e<=s;e++)l.lineStyle(1,13808780,.5),l.moveTo(e*i,0),l.lineTo(e*i,s*i),l.moveTo(0,e*i),l.lineTo(s*i,e*i);l.lineStyle(4,16724787),l.beginFill(16724787,.3),l.drawRect(s*i-20,2*i+10,20,i-20),l.endFill(),l.beginFill(16724787),l.drawPolygon([s*i-15,2*i+20,s*i-5,2*i+30,s*i-15,2*i+40]),l.endFill(),o.stage.addChild(l);const L=[];function _(e,d){const t=new q;if(t.beginFill(0,.2),t.drawRoundedRect(4,4,e.width*i-8,e.height*i-8,8),t.endFill(),e.isTarget){t.beginFill(16724787),t.drawRoundedRect(0,0,e.width*i-8,e.height*i-8,8),t.endFill(),t.beginFill(16737894,.5),t.drawRoundedRect(2,2,e.width*i-12,e.height*i/2-6,6),t.endFill(),t.beginFill(16777215);const n=(e.width*i-8)/2,a=(e.height*i-8)/2;t.drawCircle(n,a,8),t.endFill(),t.beginFill(16724787),t.drawCircle(n,a,5),t.endFill()}else{t.beginFill(e.color),t.drawRoundedRect(0,0,e.width*i-8,e.height*i-8,8),t.endFill();const n=Math.min(255,(e.color>>16&255)+51),a=Math.min(255,(e.color>>8&255)+51),h=Math.min(255,(e.color&255)+51),u=n<<16|a<<8|h;t.beginFill(u,.5),t.drawRoundedRect(2,2,e.width*i-12,e.height*i/2-6,6),t.endFill()}if(m===d&&(t.lineStyle(4,16766720),t.drawRoundedRect(-2,-2,e.width*i-4,e.height*i-4,10)),t.beginFill(16777215,.8),e.direction==="horizontal"){const n=(e.height*i-8)/2;t.drawPolygon([5,n-3,10,n,5,n+3]),t.drawPolygon([e.width*i-13,n-3,e.width*i-8,n,e.width*i-13,n+3])}else{const n=(e.width*i-8)/2;t.drawPolygon([n-3,5,n,10,n+3,5]),t.drawPolygon([n-3,e.height*i-13,n,e.height*i-8,n+3,e.height*i-13])}return t.endFill(),t.x=e.x*i+4,t.y=e.y*i+4,t.interactive=!0,t.cursor="pointer",t}function R(){L.forEach(e=>o.stage.removeChild(e)),L.length=0,g.forEach((e,d)=>{const t=_(e,d);L.push(t),o.stage.addChild(t)})}function Y(e,d,t,n){if(d<0||t<0||d+e.width>s||t+e.height>s)return!1;for(let a=0;a<g.length;a++){if(a===n)continue;const h=g[a];if(d<h.x+h.width&&d+e.width>h.x&&t<h.y+h.height&&t+e.height>h.y)return!1}return!0}function K(){const e=g.find(d=>d.isTarget);return e?e.x+e.width===s:!1}function Q(e){if(!x)return;const{x:d,y:t}=e.global,n=d-4,a=t-4;for(let h=0;h<g.length;h++){const u=g[h],W=u.x*i,G=u.y*i,ie=W+u.width*i,te=G+u.height*i;if(n>=W&&n<=ie&&a>=G&&a<=te){m=h,A=!0,I={x:u.x,y:u.y},C.x=n-W,C.y=a-G,R();break}}}function X(e){if(!x||m===null||!A)return;const d=g[m],{x:t,y:n}=e.global;let a=d.x,h=d.y;d.direction==="horizontal"?a=Math.round((t-4-C.x)/i):h=Math.round((n-4-C.y)/i),Y(d,a,h,m)&&(d.x=a,d.y=h,R())}function U(){if(!x||m===null)return;const e=g[m];if((e.x!==I.x||e.y!==I.y)&&(v++,z(v),K())){if(x=!1,v<p[c]){const d=[...p];d[c]=v,H(d),localStorage.setItem("unblockme-best-moves",JSON.stringify(d))}c===w.length-1?y("gameComplete"):y("levelComplete")}m=null,A=!1,R()}const F=new oe,P=new M(`Nivel ${c+1}/${w.length}`,{fontSize:24,fill:16777215,fontWeight:"bold",stroke:0,strokeThickness:2});P.x=10,P.y=10,F.addChild(P);const T=new M(`Movimientos: ${v}`,{fontSize:20,fill:16777215,fontWeight:"bold",stroke:0,strokeThickness:2});T.x=10,T.y=40,F.addChild(T);const O=new M(`Mejor: ${p[c]===1/0?"-":p[c]}`,{fontSize:18,fill:16766720,fontWeight:"bold",stroke:0,strokeThickness:2});O.x=10,O.y=65,F.addChild(O);const N=new M("Mueve el bloque rojo a la salida â†’",{fontSize:16,fill:16777215,stroke:0,strokeThickness:1});N.x=10,N.y=D-30,F.addChild(N),o.stage.addChild(F),o.stage.interactive=!0,o.stage.on("pointerdown",Q),o.stage.on("pointermove",X),o.stage.on("pointerup",U),o.stage.on("pointerupoutside",U);function ee(){x&&(T.text=`Movimientos: ${v}`)}return o.ticker.add(ee),R(),()=>{x=!1,j.current&&o.view instanceof Node&&j.current.removeChild(o.view),o.destroy()}},[S,c]);const V=()=>{y("playing"),k(0),z(0)},Z=()=>{k(o=>o+1),z(0),y("playing")},$=()=>{z(0),y("playing")},J=()=>{k(0),z(0),H(Array(w.length).fill(1/0)),localStorage.removeItem("unblockme-best-moves"),y("playing")};if(S==="start")return r.jsx("div",{style:{width:"100vw",height:"100vh",background:"linear-gradient(45deg, #8B4513 0%, #CD853F 50%, #DEB887 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif",color:"white",overflowY:"auto"},children:r.jsxs("div",{style:{maxWidth:"600px",width:"90%",padding:"2rem",textAlign:"center",background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",margin:"2rem auto"},children:[r.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1.5rem",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",color:"#FFD700"},children:"ğŸ§© UNBLOCK ME"}),r.jsxs("div",{style:{background:"rgba(139, 69, 19, 0.2)",borderRadius:"15px",padding:"1.5rem",marginBottom:"1.5rem",border:"1px solid rgba(139, 69, 19, 0.4)"},children:[r.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#FFD700",fontSize:"1.3rem"},children:"ğŸ¯ Objetivo"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"Mueve el bloque rojo ğŸŸ¥ hasta la salida usando el menor nÃºmero de movimientos"})]}),r.jsxs("div",{style:{background:"rgba(139, 69, 19, 0.2)",borderRadius:"15px",padding:"1.5rem",marginBottom:"1.5rem",border:"1px solid rgba(139, 69, 19, 0.4)"},children:[r.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#FFD700",fontSize:"1.3rem"},children:"ğŸ•¹ï¸ Controles"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"â€¢ ğŸ–±ï¸ Click y arrastra los bloques"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"â€¢ â†”ï¸ Bloques horizontales: izq/der"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"â€¢ â†•ï¸ Bloques verticales: arriba/abajo"})]}),r.jsxs("div",{style:{background:"rgba(139, 69, 19, 0.2)",borderRadius:"15px",padding:"1.5rem",marginBottom:"2rem",border:"1px solid rgba(139, 69, 19, 0.4)"},children:[r.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#FFD700",fontSize:"1.3rem"},children:"ğŸ’¡ Estrategia"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"â€¢ Planifica antes de mover â€¢ Libera espacio primero â€¢ Piensa varios pasos adelante"}),r.jsxs("p",{style:{margin:"0.5rem 0",fontSize:"1rem",color:"#DEB887"},children:[w.length," niveles de dificultad creciente"]})]}),r.jsx("button",{onClick:V,style:{padding:"1rem 3rem",fontSize:"1.5rem",background:"linear-gradient(45deg, #8B4513, #CD853F)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseOver:o=>{o.currentTarget.style.transform="translateY(-2px)",o.currentTarget.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)"},onMouseOut:o=>{o.currentTarget.style.transform="translateY(0)",o.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:"ğŸ§© Â¡COMENZAR PUZZLE!"})]})});if(S==="levelComplete"){const o=B<p[c];return r.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #32CD32 0%, #98FB98 100%)",fontFamily:"Arial, sans-serif",color:"white",padding:"2rem"},children:r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"3rem",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[r.jsx("h1",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:o?"ğŸ† Â¡NUEVO RÃ‰CORD!":"ğŸ‰ Â¡NIVEL COMPLETADO!"}),r.jsxs("div",{style:{fontSize:"1.5rem",margin:"2rem 0"},children:[r.jsxs("p",{children:["ğŸ“Š Nivel ",c+1," completado"]}),r.jsxs("p",{children:["ğŸ¯ Movimientos usados: ",r.jsx("strong",{children:B})]}),r.jsxs("p",{children:["ğŸ† Tu mejor rÃ©cord: ",r.jsx("strong",{children:Math.min(B,p[c])})]}),o&&r.jsx("p",{style:{color:"#FFD700"},children:"Â¡Has superado tu rÃ©cord anterior!"})]}),r.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[r.jsx("button",{onClick:Z,style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #32CD32, #98FB98)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"â¡ï¸ Siguiente Nivel"}),r.jsx("button",{onClick:$,style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #8B4513, #CD853F)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"ğŸ”„ Repetir Nivel"})]})]})})}if(S==="gameComplete"){const o=p.reduce((x,g)=>x+(g===1/0?0:g),0);return r.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",fontFamily:"Arial, sans-serif",color:"white",padding:"2rem"},children:r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"3rem",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[r.jsx("h1",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:"ğŸ† Â¡JUEGO COMPLETADO!"}),r.jsxs("div",{style:{fontSize:"1.5rem",margin:"2rem 0"},children:[r.jsxs("p",{children:["ğŸ¯ Has completado todos los ",w.length," niveles"]}),r.jsxs("p",{children:["ğŸ† Total de movimientos Ã³ptimos: ",r.jsx("strong",{children:o})]}),r.jsx("p",{children:"ğŸ§  Â¡Eres un maestro del puzzle!"})]}),r.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[r.jsx("button",{onClick:J,style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #8B4513, #CD853F)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"ğŸ”„ Jugar de Nuevo"}),r.jsx("button",{onClick:()=>y("start"),style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #4169E1, #87CEEB)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"ğŸ  MenÃº Principal"})]})]})})}return r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",background:"linear-gradient(135deg, #8B4513 0%, #CD853F 100%)",minHeight:"100vh",fontFamily:"Arial, sans-serif",color:"white"},children:[r.jsx("h1",{style:{margin:"0 0 20px 0",fontSize:"2.5rem"},children:"ğŸ§© UNBLOCK ME"}),r.jsx("div",{ref:j,style:{border:"3px solid #8B4513",borderRadius:"10px"}}),r.jsx("div",{style:{marginTop:"20px",fontSize:"1.2rem",textAlign:"center"},children:r.jsx("p",{children:"ğŸ–±ï¸ Arrastra los bloques â€¢ ğŸ¯ Libera el bloque rojo"})})]})};export{le as default};
