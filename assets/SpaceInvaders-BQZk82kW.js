import{r as S,j as _}from"./index-Bp0Tw0QP.js";import{A as D,G as h,T as E}from"./HTMLText-CfZOicZQ.js";const d=800,c=600,u=60,m=20,l=32,g=8,b=4,A=10,j=()=>{const p=S.useRef(null);return S.useEffect(()=>{const i=new D({width:d,height:c,backgroundColor:34});p.current&&i.view instanceof Node&&p.current.appendChild(i.view);const r=new h;r.beginFill(65280),r.drawRect(-u/2,-m/2,u,m),r.endFill(),r.x=d/2,r.y=c-40,i.stage.addChild(r);let n=[],C=1,I=20,T=1.5;for(let t=0;t<b;t++)for(let a=0;a<A;a++){const e=new h;e.beginFill(16777215),e.drawRect(-l/2,-l/2,l,l),e.endFill(),e.x=80+a*60,e.y=60+t*50,i.stage.addChild(e),n.push(e)}let o=[],k=8,v=!0,w=0,s=!1;function F(){if(!v||s)return;const t=new h;t.beginFill(16711680),t.drawRect(-g/2,-g/2,g,g),t.endFill(),t.x=r.x,t.y=r.y-m/2,i.stage.addChild(t),o.push(t),v=!1,setTimeout(()=>{v=!0},200)}function G(){n.forEach(t=>i.stage.removeChild(t)),o.forEach(t=>i.stage.removeChild(t)),n=[],o=[],w=0,s=!1;for(let t=0;t<b;t++)for(let a=0;a<A;a++){const e=new h;e.beginFill(16777215),e.drawRect(-l/2,-l/2,l,l),e.endFill(),e.x=80+a*60,e.y=60+t*50,i.stage.addChild(e),n.push(e)}r.x=d/2}function L(){if(s)return;let t=!1;for(const e of n)e.x+=C*T,(e.x<40||e.x>d-40)&&(t=!0);if(t){C*=-1;for(const e of n)e.y+=I}for(let e=o.length-1;e>=0;e--)o[e].y-=k,o[e].y<0&&(i.stage.removeChild(o[e]),o.splice(e,1));for(let e=o.length-1;e>=0;e--)for(let f=n.length-1;f>=0;f--){const x=o[e],y=n[f];if(Math.abs(x.x-y.x)<l/2&&Math.abs(x.y-y.y)<l/2){i.stage.removeChild(y),i.stage.removeChild(x),n.splice(f,1),o.splice(e,1),w++;break}}for(const e of n)e.y>c-80&&(s=!0);n.length===0&&(s=!0),i.stage.children.filter(e=>e instanceof E).forEach(e=>i.stage.removeChild(e));const a=new E(`Score: ${w}`,{fill:16777215,fontSize:32});if(a.x=10,a.y=10,i.stage.addChild(a),s){const e=new E("Game Over! Pulsa espacio para reiniciar",{fill:16711680,fontSize:32});e.x=200,e.y=c/2-30,i.stage.addChild(e)}}i.ticker.add(L);const R=t=>{if(s&&t.code==="Space"){G();return}s||(t.key==="ArrowLeft"&&(r.x-=20),t.key==="ArrowRight"&&(r.x+=20),r.x=Math.max(u/2,Math.min(d-u/2,r.x)),t.code==="Space"&&F())};return window.addEventListener("keydown",R),()=>{window.removeEventListener("keydown",R),i.destroy(!0,{children:!0})}},[]),_.jsx("div",{ref:p,style:{width:d,height:c,margin:"auto"}})};export{j as default};
