import{r as F,j as r}from"./index-Cg4ALjnl.js";import{A as K,C as Y,G as v,T as U}from"./HTMLText-DvwlAgNv.js";const x=480,s=640,l=24,c=80,a=140,q=()=>{const h=F.useRef(null),[j,u]=F.useState("start"),[S,R]=F.useState(0),[f,I]=F.useState(()=>{const t=localStorage.getItem("flappy-highscore");return t?parseInt(t):0});F.useEffect(()=>{if(j!=="playing")return;const t=new K({width:x,height:s,backgroundColor:7390670});h.current&&t.view instanceof Node&&h.current.appendChild(t.view);let b=!0,d=0,T=3,k=0,E=0;const A=new Y;t.stage.addChild(A);const B=new Y;A.addChild(B);function N(){const e=new v;return e.beginFill(16777215,.8),e.drawCircle(0,0,18),e.drawCircle(25,0,22),e.drawCircle(50,0,18),e.drawCircle(12,-10,14),e.drawCircle(37,-10,16),e.endFill(),e.x=x+Math.random()*100,e.y=80+Math.random()*150,e.alpha=.6,B.addChild(e),e}const g=new v;g.beginFill(9159498),g.drawRect(0,s-80,x,80),g.endFill(),g.beginFill(5025616);for(let e=0;e<x;e+=20)g.drawRect(e,s-20,10,20);g.endFill(),A.addChild(g);let p=s/2,C=0,D=0,M=0;const i=new v;function P(){i.clear(),i.beginFill(16766720),i.drawEllipse(0,0,l,l*.8),i.endFill();const e=Math.sin(M)*3;i.beginFill(16753920),i.drawEllipse(-8,e-5,15,8),i.endFill(),i.beginFill(16737095),i.drawPolygon([l-5,-3,l+8,0,l-5,3]),i.endFill(),i.beginFill(0),i.drawCircle(8,-5,4),i.endFill(),i.beginFill(16777215),i.drawCircle(10,-6,2),i.endFill(),i.beginFill(16747520),i.drawPolygon([-l+2,-8,-l-8,-4,-l-8,4,-l+2,8]),i.endFill()}i.x=120,i.y=p,t.stage.addChild(i),P();let y=[],m=[];function V(){const e=120+Math.random()*(s-280),n=new v;n.beginFill(5025616),n.drawRoundedRect(0,0,c,e-a/2,8),n.endFill(),n.beginFill(3706428),n.drawRoundedRect(-8,e-a/2-20,c+16,20,4),n.endFill(),n.beginFill(6732650),n.drawRect(8,0,8,e-a/2),n.drawRect(c-16,0,8,e-a/2),n.endFill();const o=new v;o.beginFill(5025616),o.drawRoundedRect(0,e+a/2,c,s-(e+a/2)-80,8),o.endFill(),o.beginFill(3706428),o.drawRoundedRect(-8,e+a/2,c+16,20,4),o.endFill(),o.beginFill(6732650),o.drawRect(8,e+a/2,8,s-(e+a/2)-80),o.drawRect(c-16,e+a/2,8,s-(e+a/2)-80),o.endFill();const z=x;return n.x=z,o.x=z,t.stage.addChild(n),t.stage.addChild(o),{topSprite:n,bottomSprite:o,x:z,gapY:e,passed:!1}}const w=new U("0",{fontSize:48,fill:16777215,fontWeight:"bold",stroke:0,strokeThickness:4});w.anchor.set(.5),w.x=x/2,w.y=80,t.stage.addChild(w);function H(){b&&(C=-8,D=-.3)}function _(){if(b){E++,E>180+Math.random()*120&&(m.push(N()),E=0);for(let e=m.length-1;e>=0;e--)m[e].x-=1,m[e].x<-100&&(B.removeChild(m[e]),m.splice(e,1));k++,k>120&&(y.push(V()),k=0);for(let e=y.length-1;e>=0;e--){const n=y[e];n.x-=T,n.topSprite.x=n.x,n.bottomSprite.x=n.x,!n.passed&&n.x+c<i.x&&(n.passed=!0,d++,R(d),d%5===0&&(T+=.2)),n.x<-c&&(t.stage.removeChild(n.topSprite),t.stage.removeChild(n.bottomSprite),y.splice(e,1))}if(C+=.5,p+=C,D=Math.max(-.5,Math.min(1.2,C*.1)),M+=.3,i.y=p,i.rotation=D,P(),p-l<0||p+l>s-80){b=!1,u("gameOver"),d>f&&(I(d),localStorage.setItem("flappy-highscore",d.toString()));return}for(const e of y)if(i.x+l>e.x&&i.x-l<e.x+c&&(p-l<e.gapY-a/2||p+l>e.gapY+a/2)){b=!1,u("gameOver"),d>f&&(I(d),localStorage.setItem("flappy-highscore",d.toString()));return}w.text=d.toString()}}function W(e){switch(e.code){case"Space":case"ArrowUp":case"KeyW":e.preventDefault(),H();break}}function G(){H()}return window.addEventListener("keydown",W),t.view&&"addEventListener"in t.view&&t.view.addEventListener("click",G),t.ticker.add(_),()=>{b=!1,window.removeEventListener("keydown",W),t.view&&"removeEventListener"in t.view&&t.view.removeEventListener("click",G),h.current&&t.view instanceof Node&&h.current.removeChild(t.view),t.destroy()}},[j]);const O=()=>{u("playing"),R(0)},L=()=>{u("playing"),R(0)};if(j==="start")return r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #70C5CE 0%, #8BC34A 100%)",fontFamily:"Arial, sans-serif",padding:"1rem",overflowY:"auto"},children:r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"2rem",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",maxWidth:"500px",width:"95%",textAlign:"center",color:"white",margin:"1rem auto"},children:[r.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 30px rgba(255, 215, 0, 0.5)"},children:"üê¶ FLAPPY BIRD"}),r.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"1.5rem",opacity:.9,lineHeight:"1.4"},children:"¬°Ayuda al p√°jaro a volar entre las tuber√≠as!"}),r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[r.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"üéÆ Controles"}),r.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[r.jsx("p",{style:{marginBottom:"0.5rem"},children:"üöÄ Espacio/‚Üë/W: Aletear hacia arriba"}),r.jsx("p",{style:{marginBottom:"0.5rem"},children:"üñ±Ô∏è Click: Tambi√©n hace aletear"}),r.jsx("p",{children:"‚ö° ¬°Mant√©n el ritmo para no caer!"})]})]}),r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[r.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"üéØ Objetivo del Juego"}),r.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[r.jsxs("p",{style:{marginBottom:"0.5rem"},children:["üèÜ R√©cord actual: ",r.jsx("strong",{children:f})]}),r.jsx("p",{style:{marginBottom:"0.5rem"},children:"üìä 1 punto por tuber√≠a pasada"}),r.jsx("p",{children:"ÔøΩÔ∏è La velocidad aumenta cada 5 puntos"})]})]}),r.jsx("button",{onClick:O,style:{fontSize:"1.2rem",padding:"0.8rem 2rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",color:"#2E7D32",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 15px rgba(255, 215, 0, 0.3)",transition:"all 0.3s ease",transform:"translateY(0)",marginBottom:"1.5rem"},onMouseOver:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(255, 215, 0, 0.4)"},onMouseOut:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(255, 215, 0, 0.3)"},children:"üöÄ ¬°Empezar a Volar!"}),r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[r.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"üí° Consejos Pro"}),r.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[r.jsx("p",{style:{marginBottom:"0.5rem"},children:"‚Ä¢ El timing es la clave del √©xito"}),r.jsx("p",{style:{marginBottom:"0.5rem"},children:"‚Ä¢ No aletees demasiado seguido"}),r.jsx("p",{children:"‚Ä¢ Mant√©n una altitud constante"})]})]})]})});if(j==="gameOver"){const t=S===f&&S>0;return r.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:t?"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)":"linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%)",fontFamily:"Arial, sans-serif",color:"white",padding:"2rem"},children:r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"3rem",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[r.jsx("h1",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:t?"üèÜ ¬°NUEVO R√âCORD!":"üí• ¬°GAME OVER!"}),r.jsxs("div",{style:{fontSize:"1.5rem",margin:"2rem 0"},children:[r.jsxs("p",{children:["üéØ Puntuaci√≥n: ",r.jsx("strong",{children:S})]}),r.jsxs("p",{children:["üèÜ R√©cord: ",r.jsx("strong",{children:f})]}),t&&r.jsx("p",{style:{color:"#FFD700"},children:"¬°Vuelo espectacular!"}),!t&&r.jsx("p",{style:{color:"#FFB6C1"},children:"El p√°jaro se estrell√≥..."})]}),r.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[r.jsx("button",{onClick:L,style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #FFD700, #FFA500)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"üîÑ Volar de Nuevo"}),r.jsx("button",{onClick:()=>u("start"),style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #70C5CE, #8BC34A)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"üè† Men√∫ Principal"})]})]})})}return r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",background:"linear-gradient(135deg, #70C5CE 0%, #8BC34A 100%)",minHeight:"100vh",fontFamily:"Arial, sans-serif",color:"#2E7D32"},children:[r.jsx("h1",{style:{margin:"0 0 20px 0",fontSize:"2.5rem"},children:"üê¶ FLAPPY BIRD"}),r.jsx("div",{ref:h,style:{border:"3px solid #FFD700",borderRadius:"10px"}}),r.jsx("div",{style:{marginTop:"20px",fontSize:"1.2rem"},children:r.jsx("p",{children:"Espacio/‚Üë/W/Click para aletear"})})]})};export{q as default};
