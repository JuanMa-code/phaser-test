import{r as w,j as F}from"./index-CJB0W8ET.js";import{A as G,G as g,a as m}from"./HTMLText-Cx_dGUxy.js";const d=400,r=600,A=()=>{const p=w.useRef(null);return w.useEffect(()=>{const t=new G({width:d,height:r,backgroundColor:8900331});p.current&&t.view instanceof Node&&p.current.appendChild(t.view);const o=new g;o.beginFill(16776960),o.drawCircle(0,0,20),o.endFill(),o.x=100,o.y=r/2,t.stage.addChild(o);let c=0,y=1.2,i=[],f=0,h=0,a=!1;function v(){const e=Math.floor(Math.random()*(r-120-100))+50,u=e+120,E=r-u,s=new g;s.beginFill(2263842),s.drawRect(0,0,60,e),s.endFill(),s.x=d,s.y=0,t.stage.addChild(s);const l=new g;l.beginFill(2263842),l.drawRect(0,0,60,E),l.endFill(),l.x=d,l.y=u,t.stage.addChild(l),i.push({top:s,bottom:l,x:d})}function b(){i.forEach(n=>{t.stage.removeChild(n.top),t.stage.removeChild(n.bottom)}),i=[],o.x=100,o.y=r/2,c=0,h=0,a=!1}function C(){if(a)return;f++,f>90&&(v(),f=0);for(let e=i.length-1;e>=0;e--)i[e].x-=4,i[e].top.x=i[e].x,i[e].bottom.x=i[e].x,i[e].x<-60&&(t.stage.removeChild(i[e].top),t.stage.removeChild(i[e].bottom),i.splice(e,1),h++);o.y+=c,c+=y,(o.y<0||o.y>r)&&(a=!0);for(const e of i)o.x+20>e.x&&o.x-20<e.x+60&&(o.y-20<e.top.height||o.y+20>e.bottom.y)&&(a=!0);t.stage.children.filter(e=>e instanceof m).forEach(e=>t.stage.removeChild(e));const n=new m(`Score: ${h}`,{fill:2236962,fontSize:32});if(n.x=10,n.y=10,t.stage.addChild(n),a){const e=new m("Game Over! Pulsa espacio para reiniciar",{fill:16711680,fontSize:28});e.x=40,e.y=r/2-30,t.stage.addChild(e)}}t.ticker.add(C);const x=n=>{if(a&&n.code==="Space"){b();return}!a&&(n.code==="Space"||n.key==="ArrowUp")&&(c=-13)};return window.addEventListener("keydown",x),()=>{window.removeEventListener("keydown",x),t.destroy(!0,{children:!0})}},[]),F.jsx("div",{ref:p,style:{width:d,height:r,margin:"auto"}})};export{A as default};
