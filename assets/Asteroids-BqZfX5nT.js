import{r as h,j as n}from"./index-Cg4ALjnl.js";import{A as ae,C as oe,G as C,T as G}from"./HTMLText-DvwlAgNv.js";const f=800,x=600,l=15,le=40,de=25,ce=15,Z=4,W=8,he=()=>{const u=h.useRef(null),[J,T]=h.useState(0),[pe,z]=h.useState(3),[Q,I]=h.useState(1),[E,j]=h.useState(!1),[R,O]=h.useState(!1);h.useEffect(()=>{if(!R||E)return;const s=new ae({width:f,height:x,backgroundColor:17});u.current&&s.view instanceof Node&&u.current.appendChild(s.view);let m=!0,L=0,b=3,S=1,y=!1,F=0;const N=new oe;s.stage.addChild(N);for(let e=0;e<150;e++){const r=new C;r.beginFill(16777215),r.drawCircle(0,0,Math.random()*1.5),r.endFill(),r.x=Math.random()*f,r.y=Math.random()*x,r.alpha=Math.random()*.8+.2,N.addChild(r)}const t={sprite:new C,x:f/2,y:x/2,vx:0,vy:0,angle:0,size:l};let d=[],c=[];const o={};function _(){t.sprite.clear();const e=y&&Math.floor(Date.now()/100)%2?4473924:65535;t.sprite.beginFill(e,.3),t.sprite.lineStyle(2,e),t.sprite.moveTo(0,-l),t.sprite.lineTo(-l*.8,l*.8),t.sprite.lineTo(0,l*.4),t.sprite.lineTo(l*.8,l*.8),t.sprite.closePath(),t.sprite.endFill(),(o.ArrowUp||o.w||o.W)&&(t.sprite.beginFill(16729088,.7),t.sprite.lineStyle(2,16729088),t.sprite.moveTo(-l*.3,l*.8),t.sprite.lineTo(0,l*1.5+Math.random()*5),t.sprite.lineTo(l*.3,l*.8),t.sprite.closePath(),t.sprite.endFill())}const w=new G("Score: 0",{fontSize:24,fill:16777215}),M=new G("Lives: 3",{fontSize:24,fill:16711680}),A=new G("Level: 1",{fontSize:24,fill:65280});w.x=20,w.y=20,M.x=200,M.y=20,A.x=350,A.y=20,s.stage.addChild(w),s.stage.addChild(M),s.stage.addChild(A),t.sprite.x=t.x,t.sprite.y=t.y,s.stage.addChild(t.sprite),_();function D(e,r,a){const i={sprite:new C,x:e,y:r,vx:(Math.random()-.5)*4,vy:(Math.random()-.5)*4,angle:Math.random()*Math.PI*2,size:a==="large"?le:a==="medium"?de:ce,active:!0,type:a},k=i.size,v=8+Math.floor(Math.random()*4),P=[11184810,8947848,6710886];i.sprite.beginFill(P[Math.floor(Math.random()*P.length)]),i.sprite.lineStyle(1,13421772);for(let g=0;g<v;g++){const p=g/v*Math.PI*2,$=k*(.8+Math.random()*.4),K=Math.cos(p)*$,X=Math.sin(p)*$;g===0?i.sprite.moveTo(K,X):i.sprite.lineTo(K,X)}return i.sprite.closePath(),i.sprite.endFill(),i.sprite.x=e,i.sprite.y=r,s.stage.addChild(i.sprite),i}function te(e,r,a){const i={sprite:new C,x:e,y:r,vx:Math.cos(a)*12,vy:Math.sin(a)*12,angle:a,size:Z,active:!0};return i.sprite.beginFill(16776960),i.sprite.drawCircle(0,0,Z),i.sprite.endFill(),i.sprite.x=e,i.sprite.y=r,s.stage.addChild(i.sprite),i}function H(){d=[];const e=4+S*2;for(let r=0;r<e;r++){let a,i;do a=Math.random()*f,i=Math.random()*x;while(Math.hypot(a-t.x,i-t.y)<100);d.push(D(a,i,"large"))}}function B(e){e.x<-e.size&&(e.x=f+e.size),e.x>f+e.size&&(e.x=-e.size),e.y<-e.size&&(e.y=x+e.size),e.y>x+e.size&&(e.y=-e.size),e.sprite.x=e.x,e.sprite.y=e.y}function re(){if(!m)return;(o.ArrowLeft||o.a||o.A)&&(t.angle-=.2),(o.ArrowRight||o.d||o.D)&&(t.angle+=.2),(o.ArrowUp||o.w||o.W)&&(t.vx+=Math.cos(t.angle)*.3,t.vy+=Math.sin(t.angle)*.3),t.vx*=.99,t.vy*=.99;const e=Math.hypot(t.vx,t.vy);e>W&&(t.vx=t.vx/e*W,t.vy=t.vy/e*W),t.x+=t.vx,t.y+=t.vy,B(t),t.sprite.rotation=t.angle+Math.PI/2,_(),y&&(F--,F<=0&&(y=!1))}function ie(){for(let e of d)e.active&&(e.x+=e.vx,e.y+=e.vy,e.angle+=.02,e.sprite.rotation=e.angle,B(e))}function ne(){for(let e=c.length-1;e>=0;e--){const r=c[e];if(r.active){if(r.x+=r.vx,r.y+=r.vy,r.x<0||r.x>f||r.y<0||r.y>x){r.active=!1,s.stage.removeChild(r.sprite),c.splice(e,1);continue}r.sprite.x=r.x,r.sprite.y=r.y}}}function se(){for(let e=c.length-1;e>=0;e--){const r=c[e];if(r.active)for(let a=d.length-1;a>=0;a--){const i=d[a];if(!i.active)continue;const k=r.x-i.x,v=r.y-i.y;if(Math.sqrt(k*k+v*v)<i.size){r.active=!1,i.active=!1,s.stage.removeChild(r.sprite),s.stage.removeChild(i.sprite),c.splice(e,1);const g=i.type==="large"?20:i.type==="medium"?50:100;if(L+=g,T(L),i.type==="large")for(let p=0;p<2;p++)d.push(D(i.x,i.y,"medium"));else if(i.type==="medium")for(let p=0;p<2;p++)d.push(D(i.x,i.y,"small"));d.splice(a,1);break}}}if(!y)for(let e of d){if(!e.active)continue;const r=t.x-e.x,a=t.y-e.y;if(Math.sqrt(r*r+a*a)<e.size+t.size){b--,z(b),y=!0,F=180,t.x=f/2,t.y=x/2,t.vx=0,t.vy=0,t.angle=0,b<=0&&(m=!1,j(!0));break}}d.every(e=>!e.active)&&(S++,I(S),H())}function U(){m&&(re(),ie(),ne(),se(),w.text=`Score: ${L}`,M.text=`Lives: ${b}`,A.text=`Level: ${S}`,requestAnimationFrame(U))}function q(e){if(o[e.key]=!0,e.key===" "&&m&&c.length<4){const r=t.x+Math.cos(t.angle)*t.size,a=t.y+Math.sin(t.angle)*t.size;c.push(te(r,a,t.angle))}}function Y(e){o[e.key]=!1}return window.addEventListener("keydown",q),window.addEventListener("keyup",Y),H(),U(),()=>{m=!1,window.removeEventListener("keydown",q),window.removeEventListener("keyup",Y),u.current&&s.view instanceof Node&&u.current.removeChild(s.view),s.destroy()}},[R,E]);const V=()=>{O(!0),j(!1),T(0),z(3),I(1)},ee=()=>{j(!1),T(0),z(3),I(1)};return R?E?n.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"linear-gradient(135deg, #110000 0%, #220011 100%)",fontFamily:"Arial, sans-serif",color:"white",padding:"2rem"},children:n.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"3rem",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[n.jsx("h1",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:"💥 ¡MISIÓN FALLIDA!"}),n.jsxs("div",{style:{fontSize:"1.5rem",margin:"2rem 0"},children:[n.jsxs("p",{children:["🎯 Puntuación Final: ",n.jsx("strong",{children:J})]}),n.jsxs("p",{children:["🌟 Nivel Alcanzado: ",n.jsx("strong",{children:Q})]}),n.jsx("p",{style:{color:"#ff0080"},children:"Tu nave fue destruida en el espacio..."})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[n.jsx("button",{onClick:ee,style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #00ffff, #ffff00)",border:"none",borderRadius:"50px",color:"black",cursor:"pointer",fontWeight:"bold"},children:"🔄 Nueva Misión"}),n.jsx("button",{onClick:()=>O(!1),style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #000011, #001122)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"🏠 Base Espacial"})]})]})}):n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",background:"linear-gradient(135deg, #000011 0%, #001122 100%)",minHeight:"100vh",fontFamily:"Arial, sans-serif",color:"white"},children:[n.jsx("h1",{style:{margin:"0 0 20px 0",fontSize:"2.5rem"},children:"🚀 ASTEROIDS"}),n.jsx("div",{ref:u,style:{border:"2px solid #444",borderRadius:"10px"}}),n.jsx("div",{style:{marginTop:"20px",fontSize:"1.2rem"},children:n.jsx("p",{children:"← → A D rotar, ↑ W acelerar, Espacio disparar"})})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #000011 0%, #001122 100%)",fontFamily:"Arial, sans-serif",color:"white",padding:"2rem"},children:n.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"3rem",maxWidth:"600px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},children:[n.jsx("h1",{style:{fontSize:"4rem",margin:"0 0 1rem 0",background:"linear-gradient(45deg, #ffffff, #00ffff, #ffff00, #ff0080)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"🚀 ASTEROIDS"}),n.jsx("p",{style:{fontSize:"1.2rem",margin:"1rem 0",opacity:.9},children:"¡Navega por el espacio y destruye asteroides!"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",margin:"2rem 0"},children:[n.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"15px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[n.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#00ffff"},children:"🎮 Controles"}),n.jsx("p",{children:"← → A D: Rotar nave"}),n.jsx("p",{children:"↑ W: Acelerar"}),n.jsx("p",{children:"Espacio: Disparar"})]}),n.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"15px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[n.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#ffff00"},children:"💎 Puntuación"}),n.jsx("p",{children:"Asteroide grande: 20 pts"}),n.jsx("p",{children:"Asteroide mediano: 50 pts"}),n.jsx("p",{children:"Asteroide pequeño: 100 pts"})]}),n.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"15px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[n.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#ff0080"},children:"⚡ Física Espacial"}),n.jsx("p",{children:"Inercia y gravedad cero"}),n.jsx("p",{children:"Teletransporte en bordes"}),n.jsx("p",{children:"3 segundos invulnerable"})]})]}),n.jsx("button",{onClick:V,style:{padding:"1rem 3rem",fontSize:"1.5rem",background:"linear-gradient(45deg, #00ffff, #ffff00)",border:"none",borderRadius:"50px",color:"black",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseOver:s=>{s.currentTarget.style.transform="translateY(-2px)",s.currentTarget.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)"},onMouseOut:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:"🌌 ¡INICIAR MISIÓN!"})]})})};export{he as default};
