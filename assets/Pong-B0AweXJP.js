import{r as y,j as r}from"./index-Dl9Mtil6.js";import{A as F,G as w}from"./HTMLText-BfyFZK-P.js";const m=800,s=600,c=20,i=100,d=12,P=6,O=()=>{const b=y.useRef(null),[S,k]=y.useState(0),[j,v]=y.useState(0),[C,M]=y.useState(!1),[A,h]=y.useState(!1),[x,g]=y.useState("");y.useEffect(()=>{if(!C||A)return;const l=new F({width:m,height:s,backgroundColor:986915});b.current&&l.view instanceof Node&&b.current.appendChild(l.view);const p=new w;p.lineStyle(3,4473924,.8);for(let o=0;o<s;o+=20)p.moveTo(m/2,o),p.lineTo(m/2,o+10);l.stage.addChild(p);const a=new w;a.beginFill(5090295),a.drawRoundedRect(-c/2,-i/2,c,i,5),a.endFill(),a.x=40,a.y=s/2,l.stage.addChild(a);const n=new w;n.beginFill(16729943),n.drawRoundedRect(-c/2,-i/2,c,i,5),n.endFill(),n.x=m-40,n.y=s/2,l.stage.addChild(n);const e=new w;e.beginFill(16697943),e.drawCircle(0,0,d),e.endFill(),e.x=m/2,e.y=s/2,l.stage.addChild(e);let t={x:Math.random()>.5?5:-5,y:(Math.random()-.5)*6};const D=4.5;let E=!1,R=!1;const G=o=>{(o.key.toLowerCase()==="w"||o.key==="ArrowUp")&&(E=!0),(o.key.toLowerCase()==="s"||o.key==="ArrowDown")&&(R=!0)},B=o=>{(o.key.toLowerCase()==="w"||o.key==="ArrowUp")&&(E=!1),(o.key.toLowerCase()==="s"||o.key==="ArrowDown")&&(R=!1)};window.addEventListener("keydown",G),window.addEventListener("keyup",B);const W=()=>{E&&a.y>i/2&&(a.y-=P),R&&a.y<s-i/2&&(a.y+=P);const o=n.y,I=e.y;I<o-10?n.y=Math.max(i/2,n.y-D):I>o+10&&(n.y=Math.min(s-i/2,n.y+D)),e.x+=t.x,e.y+=t.y,(e.y<=d||e.y>=s-d)&&(t.y*=-1,e.y=Math.max(d,Math.min(s-d,e.y))),e.x-d<=a.x+c/2&&e.y>=a.y-i/2&&e.y<=a.y+i/2&&t.x<0&&(t.x=Math.abs(t.x)*1.05,t.y+=(e.y-a.y)*.1,e.x=a.x+c/2+d),e.x+d>=n.x-c/2&&e.y>=n.y-i/2&&e.y<=n.y+i/2&&t.x>0&&(t.x=-Math.abs(t.x)*1.05,t.y+=(e.y-n.y)*.1,e.x=n.x-c/2-d),e.x<0?(v(L=>{const u=L+1;return u>=5&&(g("AI"),h(!0)),u}),z()):e.x>m&&(k(L=>{const u=L+1;return u>=5&&(g("Jugador"),h(!0)),u}),z());const f=12;Math.abs(t.x)>f&&(t.x=t.x>0?f:-f),Math.abs(t.y)>f&&(t.y=t.y>0?f:-f)};function z(){e.x=m/2,e.y=s/2,t={x:Math.random()>.5?5:-5,y:(Math.random()-.5)*6}}return l.ticker.add(W),()=>{window.removeEventListener("keydown",G),window.removeEventListener("keyup",B),l.destroy(!0,{children:!0})}},[C,A]);const J=()=>{M(!0),k(0),v(0),h(!1),g("")},T=()=>{M(!1),k(0),v(0),h(!1),g("")};return C?A?r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("h1",{style:{color:x==="Jugador"?"#4dabf7":"#ff4757",fontSize:"3rem",marginBottom:"1rem"},children:x==="Jugador"?"üéâ ¬°VICTORIA!":"üò¢ DERROTA"}),r.jsxs("p",{style:{fontSize:"1.5rem",marginBottom:"2rem"},children:[x," gana ",x==="Jugador"?S:j," - ",x==="Jugador"?j:S]}),r.jsx("button",{onClick:T,style:{fontSize:"1.2rem",padding:"1rem 2rem",backgroundColor:"#4dabf7",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",marginRight:"1rem",fontWeight:"bold"},children:"üîÑ Jugar de Nuevo"}),r.jsx("button",{onClick:()=>window.history.back(),style:{fontSize:"1.2rem",padding:"1rem 2rem",backgroundColor:"#747d8c",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"üè† Volver al Men√∫"})]}):r.jsxs("div",{style:{textAlign:"center",padding:"1rem"},children:[r.jsx("h1",{style:{marginBottom:"1rem",color:"#4dabf7"},children:"üèì Pong"}),r.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",marginBottom:"1rem",fontSize:"2rem",fontWeight:"bold"},children:[r.jsxs("span",{style:{color:"#4dabf7"},children:["Jugador: ",S]}),r.jsxs("span",{style:{color:"#ff4757"},children:["AI: ",j]})]}),r.jsx("div",{style:{marginBottom:"1rem",color:"#666"},children:"Usa W/S o las flechas para moverte"}),r.jsx("div",{ref:b,style:{display:"inline-block",border:"3px solid #4dabf7",borderRadius:"8px",overflow:"hidden"}})]}):r.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[r.jsx("h1",{style:{color:"#4dabf7",fontSize:"3rem",marginBottom:"1rem"},children:"üèì PONG"}),r.jsx("p",{style:{fontSize:"1.2rem",marginBottom:"2rem",color:"#666"},children:"Primer jugador en llegar a 5 puntos gana"}),r.jsxs("div",{style:{marginBottom:"2rem",color:"#666"},children:[r.jsx("p",{children:"üéÆ Controles:"}),r.jsx("p",{children:"W/S o ‚Üë/‚Üì para mover la paleta"})]}),r.jsx("button",{onClick:J,style:{fontSize:"1.2rem",padding:"1rem 2rem",backgroundColor:"#4dabf7",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"‚ñ∂Ô∏è Comenzar Juego"})]})};export{O as default};
