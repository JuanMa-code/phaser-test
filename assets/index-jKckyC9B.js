(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z_(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function zE(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var e=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var a=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:function(){return s[r]}})}),e}var uf={exports:{}},ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function XE(){if(xv)return ol;xv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:s,type:r,key:h,ref:a!==void 0?a:null,props:o}}return ol.Fragment=t,ol.jsx=e,ol.jsxs=e,ol}var bv;function VE(){return bv||(bv=1,uf.exports=XE()),uf.exports}var It=VE(),hf={exports:{}},ul={},cf={exports:{}},ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function jE(){return Ev||(Ev=1,function(s){function t(w,C){var M=w.length;w.push(C);t:for(;0<M;){var k=M-1>>>1,E=w[k];if(0<a(E,C))w[k]=C,w[M]=E,M=k;else break t}}function e(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var C=w[0],M=w.pop();if(M!==C){w[0]=M;t:for(var k=0,E=w.length,N=E>>>1;k<N;){var F=2*(k+1)-1,L=w[F],$=F+1,rt=w[$];if(0>a(L,M))$<E&&0>a(rt,L)?(w[k]=rt,w[$]=M,k=$):(w[k]=L,w[F]=M,k=F);else if($<E&&0>a(rt,M))w[k]=rt,w[$]=M,k=$;else break t}}return C}function a(w,C){var M=w.sortIndex-C.sortIndex;return M!==0?M:w.id-C.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();s.unstable_now=function(){return h.now()-c}}var d=[],p=[],g=1,y=null,v=3,_=!1,x=!1,S=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function P(w){for(var C=e(p);C!==null;){if(C.callback===null)r(p);else if(C.startTime<=w)r(p),C.sortIndex=C.expirationTime,t(d,C);else break;C=e(p)}}function O(w){if(S=!1,P(w),!x)if(e(d)!==null)x=!0,X||(X=!0,H());else{var C=e(p);C!==null&&dt(O,C.startTime-w)}}var X=!1,B=-1,V=5,tt=-1;function at(){return A?!0:!(s.unstable_now()-tt<V)}function et(){if(A=!1,X){var w=s.unstable_now();tt=w;var C=!0;try{t:{x=!1,S&&(S=!1,I(B),B=-1),_=!0;var M=v;try{e:{for(P(w),y=e(d);y!==null&&!(y.expirationTime>w&&at());){var k=y.callback;if(typeof k=="function"){y.callback=null,v=y.priorityLevel;var E=k(y.expirationTime<=w);if(w=s.unstable_now(),typeof E=="function"){y.callback=E,P(w),C=!0;break e}y===e(d)&&r(d),P(w)}else r(d);y=e(d)}if(y!==null)C=!0;else{var N=e(p);N!==null&&dt(O,N.startTime-w),C=!1}}break t}finally{y=null,v=M,_=!1}C=void 0}}finally{C?H():X=!1}}}var H;if(typeof D=="function")H=function(){D(et)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,J=Q.port2;Q.port1.onmessage=et,H=function(){J.postMessage(null)}}else H=function(){T(et,0)};function dt(w,C){B=T(function(){w(s.unstable_now())},C)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(w){w.callback=null},s.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<w?Math.floor(1e3/w):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(w){switch(v){case 1:case 2:case 3:var C=3;break;default:C=v}var M=v;v=C;try{return w()}finally{v=M}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(w,C){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var M=v;v=w;try{return C()}finally{v=M}},s.unstable_scheduleCallback=function(w,C,M){var k=s.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?k+M:k):M=k,w){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=M+E,w={id:g++,callback:C,priorityLevel:w,startTime:M,expirationTime:E,sortIndex:-1},M>k?(w.sortIndex=M,t(p,w),e(d)===null&&w===e(p)&&(S?(I(B),B=-1):S=!0,dt(O,M-k))):(w.sortIndex=E,t(d,w),x||_||(x=!0,X||(X=!0,H()))),w},s.unstable_shouldYield=at,s.unstable_wrapCallback=function(w){var C=v;return function(){var M=v;v=C;try{return w.apply(this,arguments)}finally{v=M}}}}(ff)),ff}var Tv;function qE(){return Tv||(Tv=1,cf.exports=jE()),cf.exports}var df={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function YE(){if(Av)return Lt;Av=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function A(E,N,F){this.props=E,this.context=N,this.refs=S,this.updater=F||_}A.prototype.isReactComponent={},A.prototype.setState=function(E,N){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,N,"setState")},A.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function T(){}T.prototype=A.prototype;function I(E,N,F){this.props=E,this.context=N,this.refs=S,this.updater=F||_}var D=I.prototype=new T;D.constructor=I,x(D,A.prototype),D.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function B(E,N,F,L,$,rt){return F=rt.ref,{$$typeof:s,type:E,key:N,ref:F!==void 0?F:null,props:rt}}function V(E,N){return B(E.type,N,void 0,void 0,void 0,E.props)}function tt(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function at(E){var N={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(F){return N[F]})}var et=/\/+/g;function H(E,N){return typeof E=="object"&&E!==null&&E.key!=null?at(""+E.key):N.toString(36)}function Q(){}function J(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Q,Q):(E.status="pending",E.then(function(N){E.status==="pending"&&(E.status="fulfilled",E.value=N)},function(N){E.status==="pending"&&(E.status="rejected",E.reason=N)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function dt(E,N,F,L,$){var rt=typeof E;(rt==="undefined"||rt==="boolean")&&(E=null);var lt=!1;if(E===null)lt=!0;else switch(rt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(E.$$typeof){case s:case t:lt=!0;break;case g:return lt=E._init,dt(lt(E._payload),N,F,L,$)}}if(lt)return $=$(E),lt=L===""?"."+H(E,0):L,P($)?(F="",lt!=null&&(F=lt.replace(et,"$&/")+"/"),dt($,N,F,"",function(yt){return yt})):$!=null&&(tt($)&&($=V($,F+($.key==null||E&&E.key===$.key?"":(""+$.key).replace(et,"$&/")+"/")+lt)),N.push($)),1;lt=0;var ft=L===""?".":L+":";if(P(E))for(var ct=0;ct<E.length;ct++)L=E[ct],rt=ft+H(L,ct),lt+=dt(L,N,F,rt,$);else if(ct=v(E),typeof ct=="function")for(E=ct.call(E),ct=0;!(L=E.next()).done;)L=L.value,rt=ft+H(L,ct++),lt+=dt(L,N,F,rt,$);else if(rt==="object"){if(typeof E.then=="function")return dt(J(E),N,F,L,$);throw N=String(E),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return lt}function w(E,N,F){if(E==null)return E;var L=[],$=0;return dt(E,L,"","",function(rt){return N.call(F,rt,$++)}),L}function C(E){if(E._status===-1){var N=E._result;N=N(),N.then(function(F){(E._status===0||E._status===-1)&&(E._status=1,E._result=F)},function(F){(E._status===0||E._status===-1)&&(E._status=2,E._result=F)}),E._status===-1&&(E._status=0,E._result=N)}if(E._status===1)return E._result.default;throw E._result}var M=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function k(){}return Lt.Children={map:w,forEach:function(E,N,F){w(E,function(){N.apply(this,arguments)},F)},count:function(E){var N=0;return w(E,function(){N++}),N},toArray:function(E){return w(E,function(N){return N})||[]},only:function(E){if(!tt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Lt.Component=A,Lt.Fragment=e,Lt.Profiler=a,Lt.PureComponent=I,Lt.StrictMode=r,Lt.Suspense=d,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(E){return O.H.useMemoCache(E)}},Lt.cache=function(E){return function(){return E.apply(null,arguments)}},Lt.cloneElement=function(E,N,F){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var L=x({},E.props),$=E.key,rt=void 0;if(N!=null)for(lt in N.ref!==void 0&&(rt=void 0),N.key!==void 0&&($=""+N.key),N)!X.call(N,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&N.ref===void 0||(L[lt]=N[lt]);var lt=arguments.length-2;if(lt===1)L.children=F;else if(1<lt){for(var ft=Array(lt),ct=0;ct<lt;ct++)ft[ct]=arguments[ct+2];L.children=ft}return B(E.type,$,void 0,void 0,rt,L)},Lt.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:o,_context:E},E},Lt.createElement=function(E,N,F){var L,$={},rt=null;if(N!=null)for(L in N.key!==void 0&&(rt=""+N.key),N)X.call(N,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&($[L]=N[L]);var lt=arguments.length-2;if(lt===1)$.children=F;else if(1<lt){for(var ft=Array(lt),ct=0;ct<lt;ct++)ft[ct]=arguments[ct+2];$.children=ft}if(E&&E.defaultProps)for(L in lt=E.defaultProps,lt)$[L]===void 0&&($[L]=lt[L]);return B(E,rt,void 0,void 0,null,$)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(E){return{$$typeof:c,render:E}},Lt.isValidElement=tt,Lt.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:C}},Lt.memo=function(E,N){return{$$typeof:p,type:E,compare:N===void 0?null:N}},Lt.startTransition=function(E){var N=O.T,F={};O.T=F;try{var L=E(),$=O.S;$!==null&&$(F,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(k,M)}catch(rt){M(rt)}finally{O.T=N}},Lt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Lt.use=function(E){return O.H.use(E)},Lt.useActionState=function(E,N,F){return O.H.useActionState(E,N,F)},Lt.useCallback=function(E,N){return O.H.useCallback(E,N)},Lt.useContext=function(E){return O.H.useContext(E)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(E,N){return O.H.useDeferredValue(E,N)},Lt.useEffect=function(E,N,F){var L=O.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return L.useEffect(E,N)},Lt.useId=function(){return O.H.useId()},Lt.useImperativeHandle=function(E,N,F){return O.H.useImperativeHandle(E,N,F)},Lt.useInsertionEffect=function(E,N){return O.H.useInsertionEffect(E,N)},Lt.useLayoutEffect=function(E,N){return O.H.useLayoutEffect(E,N)},Lt.useMemo=function(E,N){return O.H.useMemo(E,N)},Lt.useOptimistic=function(E,N){return O.H.useOptimistic(E,N)},Lt.useReducer=function(E,N,F){return O.H.useReducer(E,N,F)},Lt.useRef=function(E){return O.H.useRef(E)},Lt.useState=function(E){return O.H.useState(E)},Lt.useSyncExternalStore=function(E,N,F){return O.H.useSyncExternalStore(E,N,F)},Lt.useTransition=function(){return O.H.useTransition()},Lt.version="19.1.0",Lt}var Sv;function Ep(){return Sv||(Sv=1,df.exports=YE()),df.exports}var pf={exports:{}},ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function $E(){if(wv)return ze;wv=1;var s=Ep();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ze.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,g)},ze.flushSync=function(d){var p=h.T,g=r.p;try{if(h.T=null,r.p=2,d)return d()}finally{h.T=p,r.p=g,r.d.f()}},ze.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},ze.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ze.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=c(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ze.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=c(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},ze.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=c(g,p.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ze.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=c(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},ze.requestFormReset=function(d){r.d.r(d)},ze.unstable_batchedUpdates=function(d,p){return d(p)},ze.useFormState=function(d,p,g){return h.H.useFormState(d,p,g)},ze.useFormStatus=function(){return h.H.useHostTransitionStatus()},ze.version="19.1.0",ze}var Rv;function WE(){if(Rv)return pf.exports;Rv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),pf.exports=$E(),pf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function ZE(){if(Cv)return ul;Cv=1;var s=qE(),t=Ep(),e=WE();function r(i){var n="https://react.dev/errors/"+i;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var n=i,l=i;if(i.alternate)for(;n.return;)n=n.return;else{i=n;do n=i,(n.flags&4098)!==0&&(l=n.return),i=n.return;while(i)}return n.tag===3?l:null}function h(i){if(i.tag===13){var n=i.memoizedState;if(n===null&&(i=i.alternate,i!==null&&(n=i.memoizedState)),n!==null)return n.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var n=i.alternate;if(!n){if(n=o(i),n===null)throw Error(r(188));return n!==i?null:i}for(var l=i,u=n;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return c(f),i;if(m===u)return c(f),n;m=m.sibling}throw Error(r(188))}if(l.return!==u.return)l=f,u=m;else{for(var b=!1,R=f.child;R;){if(R===l){b=!0,l=f,u=m;break}if(R===u){b=!0,u=f,l=m;break}R=R.sibling}if(!b){for(R=m.child;R;){if(R===l){b=!0,l=m,u=f;break}if(R===u){b=!0,u=m,l=f;break}R=R.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:n}function p(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i;for(i=i.child;i!==null;){if(n=p(i),n!==null)return n;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=et&&i[et]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Symbol.for("react.client.reference");function J(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Q?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case A:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case X:return"SuspenseList";case tt:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case D:return(i.displayName||"Context")+".Provider";case I:return(i._context.displayName||"Context")+".Consumer";case P:var n=i.render;return i=i.displayName,i||(i=n.displayName||n.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case B:return n=i.displayName||null,n!==null?n:J(i.type)||"Memo";case V:n=i._payload,i=i._init;try{return J(i(n))}catch{}}return null}var dt=Array.isArray,w=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},k=[],E=-1;function N(i){return{current:i}}function F(i){0>E||(i.current=k[E],k[E]=null,E--)}function L(i,n){E++,k[E]=i.current,i.current=n}var $=N(null),rt=N(null),lt=N(null),ft=N(null);function ct(i,n){switch(L(lt,n),L(rt,i),L($,null),n.nodeType){case 9:case 11:i=(i=n.documentElement)&&(i=i.namespaceURI)?$y(i):0;break;default:if(i=n.tagName,n=n.namespaceURI)n=$y(n),i=Wy(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F($),L($,i)}function yt(){F($),F(rt),F(lt)}function ut(i){i.memoizedState!==null&&L(ft,i);var n=$.current,l=Wy(n,i.type);n!==l&&(L(rt,i),L($,l))}function vt(i){rt.current===i&&(F($),F(rt)),ft.current===i&&(F(ft),rl._currentValue=M)}var xt=Object.prototype.hasOwnProperty,Ot=s.unstable_scheduleCallback,Ft=s.unstable_cancelCallback,Tt=s.unstable_shouldYield,St=s.unstable_requestPaint,Yt=s.unstable_now,me=s.unstable_getCurrentPriorityLevel,sr=s.unstable_ImmediatePriority,xi=s.unstable_UserBlockingPriority,Fe=s.unstable_NormalPriority,Gr=s.unstable_LowPriority,ar=s.unstable_IdlePriority,kr=s.log,th=s.unstable_setDisableYieldValue,Rn=null,Ge=null;function Li(i){if(typeof kr=="function"&&th(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Rn,i)}catch{}}var Te=Math.clz32?Math.clz32:eh,fa=Math.log,Nl=Math.LN2;function eh(i){return i>>>=0,i===0?32:31-(fa(i)/Nl|0)|0}var hs=256,Hr=4194304;function li(i){var n=i&42;if(n!==0)return n;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Y(i,n,l){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var R=u&134217727;return R!==0?(u=R&~m,u!==0?f=li(u):(b&=R,b!==0?f=li(b):l||(l=R&~i,l!==0&&(f=li(l))))):(R=u&~m,R!==0?f=li(R):b!==0?f=li(b):l||(l=u&~i,l!==0&&(f=li(l)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:f}function K(i,n){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&n)===0}function qt(i,n){switch(i){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zt(){var i=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),i}function Jt(){var i=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),i}function Pt(i){for(var n=[],l=0;31>l;l++)n.push(i);return n}function je(i,n){i.pendingLanes|=n,n!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function lr(i,n,l,u,f,m){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var R=i.entanglements,U=i.expirationTimes,q=i.hiddenUpdates;for(l=b&~l;0<l;){var it=31-Te(l),ot=1<<it;R[it]=0,U[it]=-1;var W=q[it];if(W!==null)for(q[it]=null,it=0;it<W.length;it++){var Z=W[it];Z!==null&&(Z.lane&=-536870913)}l&=~ot}u!==0&&ke(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(b&~n))}function ke(i,n,l){i.pendingLanes|=n,i.suspendedLanes&=~n;var u=31-Te(n);i.entangledLanes|=n,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194090}function bi(i,n){var l=i.entangledLanes|=n;for(i=i.entanglements;l;){var u=31-Te(l),f=1<<u;f&n|i[u]&n&&(i[u]|=n),l&=~f}}function Cn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Fi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qe(){var i=C.p;return i!==0?i:(i=window.event,i===void 0?32:pv(i.type))}function Pl(i,n){var l=C.p;try{return C.p=i,n()}finally{C.p=l}}var Ei=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Ei,_e="__reactProps$"+Ei,Gi="__reactContainer$"+Ei,zr="__reactEvents$"+Ei,da="__reactListeners$"+Ei,pa="__reactHandles$"+Ei,ma="__reactResources$"+Ei,Xr="__reactMarker$"+Ei;function Mn(i){delete i[Ae],delete i[_e],delete i[zr],delete i[da],delete i[pa]}function or(i){var n=i[Ae];if(n)return n;for(var l=i.parentNode;l;){if(n=l[Gi]||l[Ae]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(i=Jy(i);i!==null;){if(l=i[Ae])return l;i=Jy(i)}return n}i=l,l=i.parentNode}return null}function ki(i){if(i=i[Ae]||i[Gi]){var n=i.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return i}return null}function Vr(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i.stateNode;throw Error(r(33))}function jr(i){var n=i[ma];return n||(n=i[ma]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(i){i[Xr]=!0}var ur=new Set,Dn={};function hr(i,n){cr(i,n),cr(i+"Capture",n)}function cr(i,n){for(Dn[i]=n,i=0;i<n.length;i++)ur.add(n[i])}var Nb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gp={},kp={};function Pb(i){return xt.call(kp,i)?!0:xt.call(Gp,i)?!1:Nb.test(i)?kp[i]=!0:(Gp[i]=!0,!1)}function Ul(i,n,l){if(Pb(n))if(l===null)i.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(n);return}}i.setAttribute(n,""+l)}}function Ll(i,n,l){if(l===null)i.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(n);return}i.setAttribute(n,""+l)}}function fr(i,n,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(n,l,""+u)}}var ih,Hp;function cs(i){if(ih===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);ih=n&&n[1]||"",Hp=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ih+i+Hp}var rh=!1;function nh(i,n){if(!i||rh)return"";rh=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(Z){var W=Z}Reflect.construct(i,[],ot)}else{try{ot.call()}catch(Z){W=Z}i.call(ot.prototype)}}else{try{throw Error()}catch(Z){W=Z}(ot=i())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),b=m[0],R=m[1];if(b&&R){var U=b.split(`
`),q=R.split(`
`);for(f=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===U.length||f===q.length)for(u=U.length-1,f=q.length-1;1<=u&&0<=f&&U[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(U[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||U[u]!==q[f]){var it=`
`+U[u].replace(" at new "," at ");return i.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",i.displayName)),it}while(1<=u&&0<=f);break}}}finally{rh=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?cs(l):""}function Ub(i){switch(i.tag){case 26:case 27:case 5:return cs(i.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 15:return nh(i.type,!1);case 11:return nh(i.type.render,!1);case 1:return nh(i.type,!0);case 31:return cs("Activity");default:return""}}function zp(i){try{var n="";do n+=Ub(i),i=i.return;while(i);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function oi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Xp(i){var n=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Lb(i){var n=Xp(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,n),u=""+i[n];if(!i.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(i,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,m.call(this,b)}}),Object.defineProperty(i,n,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[n]}}}}function Fl(i){i._valueTracker||(i._valueTracker=Lb(i))}function Vp(i){if(!i)return!1;var n=i._valueTracker;if(!n)return!0;var l=n.getValue(),u="";return i&&(u=Xp(i)?i.checked?"true":"false":i.value),i=u,i!==l?(n.setValue(i),!0):!1}function Gl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Fb=/[\n"\\]/g;function ui(i){return i.replace(Fb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sh(i,n,l,u,f,m,b,R){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),n!=null?b==="number"?(n===0&&i.value===""||i.value!=n)&&(i.value=""+oi(n)):i.value!==""+oi(n)&&(i.value=""+oi(n)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),n!=null?ah(i,b,oi(n)):l!=null?ah(i,b,oi(l)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+oi(R):i.removeAttribute("name")}function jp(i,n,l,u,f,m,b,R){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;l=l!=null?""+oi(l):"",n=n!=null?""+oi(n):l,R||n===i.value||(i.value=n),i.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=R?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function ah(i,n,l){n==="number"&&Gl(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function fs(i,n,l,u){if(i=i.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<i.length;l++)f=n.hasOwnProperty("$"+i[l].value),i[l].selected!==f&&(i[l].selected=f),f&&u&&(i[l].defaultSelected=!0)}else{for(l=""+oi(l),n=null,f=0;f<i.length;f++){if(i[f].value===l){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}n!==null||i[f].disabled||(n=i[f])}n!==null&&(n.selected=!0)}}function qp(i,n,l){if(n!=null&&(n=""+oi(n),n!==i.value&&(i.value=n),l==null)){i.defaultValue!==n&&(i.defaultValue=n);return}i.defaultValue=l!=null?""+oi(l):""}function Yp(i,n,l,u){if(n==null){if(u!=null){if(l!=null)throw Error(r(92));if(dt(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),n=l}l=oi(n),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function ds(i,n){if(n){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=n;return}}i.textContent=n}var Gb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $p(i,n,l){var u=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(n,""):n==="float"?i.cssFloat="":i[n]="":u?i.setProperty(n,l):typeof l!="number"||l===0||Gb.has(n)?n==="float"?i.cssFloat=l:i[n]=(""+l).trim():i[n]=l+"px"}function Wp(i,n,l){if(n!=null&&typeof n!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&l[f]!==u&&$p(i,f,u)}else for(var m in n)n.hasOwnProperty(m)&&$p(i,m,n[m])}function lh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(i){return Hb.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var oh=null;function uh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ps=null,ms=null;function Zp(i){var n=ki(i);if(n&&(i=n.stateNode)){var l=i[_e]||null;t:switch(i=n.stateNode,n.type){case"input":if(sh(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ui(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var u=l[n];if(u!==i&&u.form===i.form){var f=u[_e]||null;if(!f)throw Error(r(90));sh(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)u=l[n],u.form===i.form&&Vp(u)}break t;case"textarea":qp(i,l.value,l.defaultValue);break t;case"select":n=l.value,n!=null&&fs(i,!!l.multiple,n,!1)}}}var hh=!1;function Kp(i,n,l){if(hh)return i(n,l);hh=!0;try{var u=i(n);return u}finally{if(hh=!1,(ps!==null||ms!==null)&&(wo(),ps&&(n=ps,i=ms,ms=ps=null,Zp(n),i)))for(n=0;n<i.length;n++)Zp(i[n])}}function ga(i,n){var l=i.stateNode;if(l===null)return null;var u=l[_e]||null;if(u===null)return null;l=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,n,typeof l));return l}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ch=!1;if(dr)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){ch=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{ch=!1}var qr=null,fh=null,Hl=null;function Qp(){if(Hl)return Hl;var i,n=fh,l=n.length,u,f="value"in qr?qr.value:qr.textContent,m=f.length;for(i=0;i<l&&n[i]===f[i];i++);var b=l-i;for(u=1;u<=b&&n[l-u]===f[m-u];u++);return Hl=f.slice(i,1<u?1-u:void 0)}function zl(i){var n=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&n===13&&(i=13)):i=n,i===10&&(i=13),32<=i||i===13?i:0}function Xl(){return!0}function Jp(){return!1}function Ye(i){function n(l,u,f,m,b){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xl:Jp,this.isPropagationStopped=Jp,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),n}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=Ye(On),va=g({},On,{view:0,detail:0}),zb=Ye(va),dh,ph,_a,jl=g({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_a&&(_a&&i.type==="mousemove"?(dh=i.screenX-_a.screenX,ph=i.screenY-_a.screenY):ph=dh=0,_a=i),dh)},movementY:function(i){return"movementY"in i?i.movementY:ph}}),tm=Ye(jl),Xb=g({},jl,{dataTransfer:0}),Vb=Ye(Xb),jb=g({},va,{relatedTarget:0}),mh=Ye(jb),qb=g({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),Yb=Ye(qb),$b=g({},On,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wb=Ye($b),Zb=g({},On,{data:0}),em=Ye(Zb),Kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t1(i){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(i):(i=Jb[i])?!!n[i]:!1}function gh(){return t1}var e1=g({},va,{key:function(i){if(i.key){var n=Kb[i.key]||i.key;if(n!=="Unidentified")return n}return i.type==="keypress"?(i=zl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qb[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gh,charCode:function(i){return i.type==="keypress"?zl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),i1=Ye(e1),r1=g({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=Ye(r1),n1=g({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gh}),s1=Ye(n1),a1=g({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),l1=Ye(a1),o1=g({},jl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),u1=Ye(o1),h1=g({},On,{newState:0,oldState:0}),c1=Ye(h1),f1=[9,13,27,32],yh=dr&&"CompositionEvent"in window,xa=null;dr&&"documentMode"in document&&(xa=document.documentMode);var d1=dr&&"TextEvent"in window&&!xa,rm=dr&&(!yh||xa&&8<xa&&11>=xa),nm=" ",sm=!1;function am(i,n){switch(i){case"keyup":return f1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gs=!1;function p1(i,n){switch(i){case"compositionend":return lm(n);case"keypress":return n.which!==32?null:(sm=!0,nm);case"textInput":return i=n.data,i===nm&&sm?null:i;default:return null}}function m1(i,n){if(gs)return i==="compositionend"||!yh&&am(i,n)?(i=Qp(),Hl=fh=qr=null,gs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return rm&&n.locale!=="ko"?null:n.data;default:return null}}var g1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n==="input"?!!g1[i.type]:n==="textarea"}function um(i,n,l,u){ps?ms?ms.push(u):ms=[u]:ps=u,n=Bo(n,"onChange"),0<n.length&&(l=new Vl("onChange","change",null,l,u),i.push({event:l,listeners:n}))}var ba=null,Ea=null;function y1(i){Xy(i,0)}function ql(i){var n=Vr(i);if(Vp(n))return i}function hm(i,n){if(i==="change")return n}var cm=!1;if(dr){var vh;if(dr){var _h="oninput"in document;if(!_h){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),_h=typeof fm.oninput=="function"}vh=_h}else vh=!1;cm=vh&&(!document.documentMode||9<document.documentMode)}function dm(){ba&&(ba.detachEvent("onpropertychange",pm),Ea=ba=null)}function pm(i){if(i.propertyName==="value"&&ql(Ea)){var n=[];um(n,Ea,i,uh(i)),Kp(y1,n)}}function v1(i,n,l){i==="focusin"?(dm(),ba=n,Ea=l,ba.attachEvent("onpropertychange",pm)):i==="focusout"&&dm()}function _1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ql(Ea)}function x1(i,n){if(i==="click")return ql(n)}function b1(i,n){if(i==="input"||i==="change")return ql(n)}function E1(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var Qe=typeof Object.is=="function"?Object.is:E1;function Ta(i,n){if(Qe(i,n))return!0;if(typeof i!="object"||i===null||typeof n!="object"||n===null)return!1;var l=Object.keys(i),u=Object.keys(n);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!xt.call(n,f)||!Qe(i[f],n[f]))return!1}return!0}function mm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function gm(i,n){var l=mm(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=n&&u>=n)return{node:l,offset:n-i};i=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=mm(l)}}function ym(i,n){return i&&n?i===n?!0:i&&i.nodeType===3?!1:n&&n.nodeType===3?ym(i,n.parentNode):"contains"in i?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&16):!1:!1}function vm(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var n=Gl(i.document);n instanceof i.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)i=n.contentWindow;else break;n=Gl(i.document)}return n}function xh(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n&&(n==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||n==="textarea"||i.contentEditable==="true")}var T1=dr&&"documentMode"in document&&11>=document.documentMode,ys=null,bh=null,Aa=null,Eh=!1;function _m(i,n,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Eh||ys==null||ys!==Gl(u)||(u=ys,"selectionStart"in u&&xh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Aa&&Ta(Aa,u)||(Aa=u,u=Bo(bh,"onSelect"),0<u.length&&(n=new Vl("onSelect","select",null,n,l),i.push({event:n,listeners:u}),n.target=ys)))}function Bn(i,n){var l={};return l[i.toLowerCase()]=n.toLowerCase(),l["Webkit"+i]="webkit"+n,l["Moz"+i]="moz"+n,l}var vs={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionrun:Bn("Transition","TransitionRun"),transitionstart:Bn("Transition","TransitionStart"),transitioncancel:Bn("Transition","TransitionCancel"),transitionend:Bn("Transition","TransitionEnd")},Th={},xm={};dr&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function In(i){if(Th[i])return Th[i];if(!vs[i])return i;var n=vs[i],l;for(l in n)if(n.hasOwnProperty(l)&&l in xm)return Th[i]=n[l];return i}var bm=In("animationend"),Em=In("animationiteration"),Tm=In("animationstart"),A1=In("transitionrun"),S1=In("transitionstart"),w1=In("transitioncancel"),Am=In("transitionend"),Sm=new Map,Ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ah.push("scrollEnd");function Ti(i,n){Sm.set(i,n),hr(n,[i])}var wm=new WeakMap;function hi(i,n){if(typeof i=="object"&&i!==null){var l=wm.get(i);return l!==void 0?l:(n={value:i,source:n,stack:zp(n)},wm.set(i,n),n)}return{value:i,source:n,stack:zp(n)}}var ci=[],_s=0,Sh=0;function Yl(){for(var i=_s,n=Sh=_s=0;n<i;){var l=ci[n];ci[n++]=null;var u=ci[n];ci[n++]=null;var f=ci[n];ci[n++]=null;var m=ci[n];if(ci[n++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}m!==0&&Rm(l,f,m)}}function $l(i,n,l,u){ci[_s++]=i,ci[_s++]=n,ci[_s++]=l,ci[_s++]=u,Sh|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function wh(i,n,l,u){return $l(i,n,l,u),Wl(i)}function xs(i,n){return $l(i,null,null,n),Wl(i)}function Rm(i,n,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var f=!1,m=i.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&n!==null&&(f=31-Te(l),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[n]:u.push(n),n.lane=l|536870912),m):null}function Wl(i){if(50<Wa)throw Wa=0,Bc=null,Error(r(185));for(var n=i.return;n!==null;)i=n,n=i.return;return i.tag===3?i.stateNode:null}var bs={};function R1(i,n,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(i,n,l,u){return new R1(i,n,l,u)}function Rh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function pr(i,n){var l=i.alternate;return l===null?(l=Je(i.tag,n,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=n,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,n=i.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Cm(i,n){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,n=l.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i}function Zl(i,n,l,u,f,m){var b=0;if(u=i,typeof i=="function")Rh(i)&&(b=1);else if(typeof i=="string")b=ME(i,l,$.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case tt:return i=Je(31,l,n,f),i.elementType=tt,i.lanes=m,i;case x:return Nn(l.children,f,m,n);case S:b=8,f|=24;break;case A:return i=Je(12,l,n,f|2),i.elementType=A,i.lanes=m,i;case O:return i=Je(13,l,n,f),i.elementType=O,i.lanes=m,i;case X:return i=Je(19,l,n,f),i.elementType=X,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case D:b=10;break t;case I:b=9;break t;case P:b=11;break t;case B:b=14;break t;case V:b=16,u=null;break t}b=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return n=Je(b,l,n,f),n.elementType=i,n.type=u,n.lanes=m,n}function Nn(i,n,l,u){return i=Je(7,i,u,n),i.lanes=l,i}function Ch(i,n,l){return i=Je(6,i,null,n),i.lanes=l,i}function Mh(i,n,l){return n=Je(4,i.children!==null?i.children:[],i.key,n),n.lanes=l,n.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},n}var Es=[],Ts=0,Kl=null,Ql=0,fi=[],di=0,Pn=null,mr=1,gr="";function Un(i,n){Es[Ts++]=Ql,Es[Ts++]=Kl,Kl=i,Ql=n}function Mm(i,n,l){fi[di++]=mr,fi[di++]=gr,fi[di++]=Pn,Pn=i;var u=mr;i=gr;var f=32-Te(u)-1;u&=~(1<<f),l+=1;var m=32-Te(n)+f;if(30<m){var b=f-f%5;m=(u&(1<<b)-1).toString(32),u>>=b,f-=b,mr=1<<32-Te(n)+f|l<<f|u,gr=m+i}else mr=1<<m|l<<f|u,gr=i}function Dh(i){i.return!==null&&(Un(i,1),Mm(i,1,0))}function Oh(i){for(;i===Kl;)Kl=Es[--Ts],Es[Ts]=null,Ql=Es[--Ts],Es[Ts]=null;for(;i===Pn;)Pn=fi[--di],fi[di]=null,gr=fi[--di],fi[di]=null,mr=fi[--di],fi[di]=null}var Xe=null,de=null,Wt=!1,Ln=null,Hi=!1,Bh=Error(r(519));function Fn(i){var n=Error(r(418,""));throw Ra(hi(n,i)),Bh}function Dm(i){var n=i.stateNode,l=i.type,u=i.memoizedProps;switch(n[Ae]=i,n[_e]=u,l){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(l=0;l<Ka.length;l++)zt(Ka[l],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":zt("invalid",n),jp(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Fl(n);break;case"select":zt("invalid",n);break;case"textarea":zt("invalid",n),Yp(n,u.value,u.defaultValue,u.children),Fl(n)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||u.suppressHydrationWarning===!0||Yy(n.textContent,l)?(u.popover!=null&&(zt("beforetoggle",n),zt("toggle",n)),u.onScroll!=null&&zt("scroll",n),u.onScrollEnd!=null&&zt("scrollend",n),u.onClick!=null&&(n.onclick=Io),n=!0):n=!1,n||Fn(i)}function Om(i){for(Xe=i.return;Xe;)switch(Xe.tag){case 5:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:Xe=Xe.return}}function Sa(i){if(i!==Xe)return!1;if(!Wt)return Om(i),Wt=!0,!1;var n=i.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||$c(i.type,i.memoizedProps)),l=!l),l&&de&&Fn(i),Om(i),n===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,n=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(n===0){de=Si(i.nextSibling);break t}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;i=i.nextSibling}de=null}}else n===27?(n=de,un(i.type)?(i=Qc,Qc=null,de=i):de=n):de=Xe?Si(i.stateNode.nextSibling):null;return!0}function wa(){de=Xe=null,Wt=!1}function Bm(){var i=Ln;return i!==null&&(Ze===null?Ze=i:Ze.push.apply(Ze,i),Ln=null),i}function Ra(i){Ln===null?Ln=[i]:Ln.push(i)}var Ih=N(null),Gn=null,yr=null;function Yr(i,n,l){L(Ih,n._currentValue),n._currentValue=l}function vr(i){i._currentValue=Ih.current,F(Ih)}function Nh(i,n,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&n)!==n?(i.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),i===l)break;i=i.return}}function Ph(i,n,l,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;t:for(;m!==null;){var R=m;m=f;for(var U=0;U<n.length;U++)if(R.context===n[U]){m.lanes|=l,R=m.alternate,R!==null&&(R.lanes|=l),Nh(m.return,l,i),u||(b=null);break t}m=R.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=l,m=b.alternate,m!==null&&(m.lanes|=l),Nh(b,l,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ca(i,n,l,u){i=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var R=f.type;Qe(f.pendingProps.value,b.value)||(i!==null?i.push(R):i=[R])}}else if(f===ft.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(rl):i=[rl])}f=f.return}i!==null&&Ph(n,i,l,u),n.flags|=262144}function Jl(i){for(i=i.firstContext;i!==null;){if(!Qe(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function kn(i){Gn=i,yr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function He(i){return Im(Gn,i)}function to(i,n){return Gn===null&&kn(i),Im(i,n)}function Im(i,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},yr===null){if(i===null)throw Error(r(308));yr=n,i.dependencies={lanes:0,firstContext:n},i.flags|=524288}else yr=yr.next=n;return l}var C1=typeof AbortController<"u"?AbortController:function(){var i=[],n=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){n.aborted=!0,i.forEach(function(l){return l()})}},M1=s.unstable_scheduleCallback,D1=s.unstable_NormalPriority,Se={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uh(){return{controller:new C1,data:new Map,refCount:0}}function Ma(i){i.refCount--,i.refCount===0&&M1(D1,function(){i.controller.abort()})}var Da=null,Lh=0,As=0,Ss=null;function O1(i,n){if(Da===null){var l=Da=[];Lh=0,As=Gc(),Ss={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Lh++,n.then(Nm,Nm),n}function Nm(){if(--Lh===0&&Da!==null){Ss!==null&&(Ss.status="fulfilled");var i=Da;Da=null,As=0,Ss=null;for(var n=0;n<i.length;n++)(0,i[n])()}}function B1(i,n){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return i.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var Pm=w.S;w.S=function(i,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&O1(i,n),Pm!==null&&Pm(i,n)};var Hn=N(null);function Fh(){var i=Hn.current;return i!==null?i:ne.pooledCache}function eo(i,n){n===null?L(Hn,Hn.current):L(Hn,n.pool)}function Um(){var i=Fh();return i===null?null:{parent:Se._currentValue,pool:i}}var Oa=Error(r(460)),Lm=Error(r(474)),io=Error(r(542)),Gh={then:function(){}};function Fm(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ro(){}function Gm(i,n,l){switch(l=i[l],l===void 0?i.push(n):l!==n&&(n.then(ro,ro),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,Hm(i),i;default:if(typeof n.status=="string")n.then(ro,ro);else{if(i=ne,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=n,i.status="pending",i.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,Hm(i),i}throw Ba=n,Oa}}var Ba=null;function km(){if(Ba===null)throw Error(r(459));var i=Ba;return Ba=null,i}function Hm(i){if(i===Oa||i===io)throw Error(r(483))}var $r=!1;function kh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(i,n){i=i.updateQueue,n.updateQueue===i&&(n.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Wr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Zr(i,n,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=Wl(i),Rm(i,null,l),n}return $l(i,u,n,l),Wl(i)}function Ia(i,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var u=n.lanes;u&=i.pendingLanes,l|=u,n.lanes=l,bi(i,l)}}function zh(i,n){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,l=l.next}while(l!==null);m===null?f=m=n:m=m.next=n}else f=m=n;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=n:i.next=n,l.lastBaseUpdate=n}var Xh=!1;function Na(){if(Xh){var i=Ss;if(i!==null)throw i}}function Pa(i,n,l,u){Xh=!1;var f=i.updateQueue;$r=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var U=R,q=U.next;U.next=null,b===null?m=q:b.next=q,b=U;var it=i.alternate;it!==null&&(it=it.updateQueue,R=it.lastBaseUpdate,R!==b&&(R===null?it.firstBaseUpdate=q:R.next=q,it.lastBaseUpdate=U))}if(m!==null){var ot=f.baseState;b=0,it=q=U=null,R=m;do{var W=R.lane&-536870913,Z=W!==R.lane;if(Z?(Vt&W)===W:(u&W)===W){W!==0&&W===As&&(Xh=!0),it!==null&&(it=it.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Bt=i,Ct=R;W=n;var ie=l;switch(Ct.tag){case 1:if(Bt=Ct.payload,typeof Bt=="function"){ot=Bt.call(ie,ot,W);break t}ot=Bt;break t;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Ct.payload,W=typeof Bt=="function"?Bt.call(ie,ot,W):Bt,W==null)break t;ot=g({},ot,W);break t;case 2:$r=!0}}W=R.callback,W!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:R.tag,payload:R.payload,callback:R.callback,next:null},it===null?(q=it=Z,U=ot):it=it.next=Z,b|=W;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);it===null&&(U=ot),f.baseState=U,f.firstBaseUpdate=q,f.lastBaseUpdate=it,m===null&&(f.shared.lanes=0),sn|=b,i.lanes=b,i.memoizedState=ot}}function zm(i,n){if(typeof i!="function")throw Error(r(191,i));i.call(n)}function Xm(i,n){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)zm(l[i],n)}var ws=N(null),no=N(0);function Vm(i,n){i=Sr,L(no,i),L(ws,n),Sr=i|n.baseLanes}function Vh(){L(no,Sr),L(ws,ws.current)}function jh(){Sr=no.current,F(ws),F(no)}var Kr=0,Gt=null,te=null,xe=null,so=!1,Rs=!1,zn=!1,ao=0,Ua=0,Cs=null,I1=0;function ge(){throw Error(r(321))}function qh(i,n){if(n===null)return!1;for(var l=0;l<n.length&&l<i.length;l++)if(!Qe(i[l],n[l]))return!1;return!0}function Yh(i,n,l,u,f,m){return Kr=m,Gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,w.H=i===null||i.memoizedState===null?Rg:Cg,zn=!1,m=l(u,f),zn=!1,Rs&&(m=qm(n,l,u,f)),jm(i),m}function jm(i){w.H=fo;var n=te!==null&&te.next!==null;if(Kr=0,xe=te=Gt=null,so=!1,Ua=0,Cs=null,n)throw Error(r(300));i===null||Ce||(i=i.dependencies,i!==null&&Jl(i)&&(Ce=!0))}function qm(i,n,l,u){Gt=i;var f=0;do{if(Rs&&(Cs=null),Ua=0,Rs=!1,25<=f)throw Error(r(301));if(f+=1,xe=te=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}w.H=k1,m=n(l,u)}while(Rs);return m}function N1(){var i=w.H,n=i.useState()[0];return n=typeof n.then=="function"?La(n):n,i=i.useState()[0],(te!==null?te.memoizedState:null)!==i&&(Gt.flags|=1024),n}function $h(){var i=ao!==0;return ao=0,i}function Wh(i,n,l){n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~l}function Zh(i){if(so){for(i=i.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}so=!1}Kr=0,xe=te=Gt=null,Rs=!1,Ua=ao=0,Cs=null}function $e(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Gt.memoizedState=xe=i:xe=xe.next=i,xe}function be(){if(te===null){var i=Gt.alternate;i=i!==null?i.memoizedState:null}else i=te.next;var n=xe===null?Gt.memoizedState:xe.next;if(n!==null)xe=n,te=i;else{if(i===null)throw Gt.alternate===null?Error(r(467)):Error(r(310));te=i,i={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},xe===null?Gt.memoizedState=xe=i:xe=xe.next=i}return xe}function Kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function La(i){var n=Ua;return Ua+=1,Cs===null&&(Cs=[]),i=Gm(Cs,i,n),n=Gt,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,w.H=n===null||n.memoizedState===null?Rg:Cg),i}function lo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return La(i);if(i.$$typeof===D)return He(i)}throw Error(r(438,String(i)))}function Qh(i){var n=null,l=Gt.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var u=Gt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Kh(),Gt.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(i),u=0;u<i;u++)l[u]=at;return n.index++,l}function _r(i,n){return typeof n=="function"?n(i):n}function oo(i){var n=be();return Jh(n,te,i)}function Jh(i,n,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}n.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{n=f.next;var R=b=null,U=null,q=n,it=!1;do{var ot=q.lane&-536870913;if(ot!==q.lane?(Vt&ot)===ot:(Kr&ot)===ot){var W=q.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ot===As&&(it=!0);else if((Kr&W)===W){q=q.next,W===As&&(it=!0);continue}else ot={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},U===null?(R=U=ot,b=m):U=U.next=ot,Gt.lanes|=W,sn|=W;ot=q.action,zn&&l(m,ot),m=q.hasEagerState?q.eagerState:l(m,ot)}else W={lane:ot,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},U===null?(R=U=W,b=m):U=U.next=W,Gt.lanes|=ot,sn|=ot;q=q.next}while(q!==null&&q!==n);if(U===null?b=m:U.next=R,!Qe(m,i.memoizedState)&&(Ce=!0,it&&(l=Ss,l!==null)))throw l;i.memoizedState=m,i.baseState=b,i.baseQueue=U,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function tc(i){var n=be(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,f=l.pending,m=n.memoizedState;if(f!==null){l.pending=null;var b=f=f.next;do m=i(m,b.action),b=b.next;while(b!==f);Qe(m,n.memoizedState)||(Ce=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,u]}function Ym(i,n,l){var u=Gt,f=be(),m=Wt;if(m){if(l===void 0)throw Error(r(407));l=l()}else l=n();var b=!Qe((te||f).memoizedState,l);b&&(f.memoizedState=l,Ce=!0),f=f.queue;var R=Zm.bind(null,u,f,i);if(Fa(2048,8,R,[i]),f.getSnapshot!==n||b||xe!==null&&xe.memoizedState.tag&1){if(u.flags|=2048,Ms(9,uo(),Wm.bind(null,u,f,l,n),null),ne===null)throw Error(r(349));m||(Kr&124)!==0||$m(u,n,l)}return l}function $m(i,n,l){i.flags|=16384,i={getSnapshot:n,value:l},n=Gt.updateQueue,n===null?(n=Kh(),Gt.updateQueue=n,n.stores=[i]):(l=n.stores,l===null?n.stores=[i]:l.push(i))}function Wm(i,n,l,u){n.value=l,n.getSnapshot=u,Km(n)&&Qm(i)}function Zm(i,n,l){return l(function(){Km(n)&&Qm(i)})}function Km(i){var n=i.getSnapshot;i=i.value;try{var l=n();return!Qe(i,l)}catch{return!0}}function Qm(i){var n=xs(i,2);n!==null&&ni(n,i,2)}function ec(i){var n=$e();if(typeof i=="function"){var l=i;if(i=l(),zn){Li(!0);try{l()}finally{Li(!1)}}}return n.memoizedState=n.baseState=i,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:i},n}function Jm(i,n,l,u){return i.baseState=l,Jh(i,te,typeof u=="function"?u:_r)}function P1(i,n,l,u,f){if(co(i))throw Error(r(485));if(i=n.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};w.T!==null?l(!0):m.isTransition=!1,u(m),l=n.pending,l===null?(m.next=n.pending=m,tg(n,m)):(m.next=l.next,n.pending=l.next=m)}}function tg(i,n){var l=n.action,u=n.payload,f=i.state;if(n.isTransition){var m=w.T,b={};w.T=b;try{var R=l(f,u),U=w.S;U!==null&&U(b,R),eg(i,n,R)}catch(q){ic(i,n,q)}finally{w.T=m}}else try{m=l(f,u),eg(i,n,m)}catch(q){ic(i,n,q)}}function eg(i,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){ig(i,n,u)},function(u){return ic(i,n,u)}):ig(i,n,l)}function ig(i,n,l){n.status="fulfilled",n.value=l,rg(n),i.state=l,n=i.pending,n!==null&&(l=n.next,l===n?i.pending=null:(l=l.next,n.next=l,tg(i,l)))}function ic(i,n,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=l,rg(n),n=n.next;while(n!==u)}i.action=null}function rg(i){i=i.listeners;for(var n=0;n<i.length;n++)(0,i[n])()}function ng(i,n){return n}function sg(i,n){if(Wt){var l=ne.formState;if(l!==null){t:{var u=Gt;if(Wt){if(de){e:{for(var f=de,m=Hi;f.nodeType!==8;){if(!m){f=null;break e}if(f=Si(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){de=Si(f.nextSibling),u=f.data==="F!";break t}}Fn(u)}u=!1}u&&(n=l[0])}}return l=$e(),l.memoizedState=l.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ng,lastRenderedState:n},l.queue=u,l=Ag.bind(null,Gt,u),u.dispatch=l,u=ec(!1),m=lc.bind(null,Gt,!1,u.queue),u=$e(),f={state:n,dispatch:null,action:i,pending:null},u.queue=f,l=P1.bind(null,Gt,f,m,l),f.dispatch=l,u.memoizedState=i,[n,l,!1]}function ag(i){var n=be();return lg(n,te,i)}function lg(i,n,l){if(n=Jh(i,n,ng)[0],i=oo(_r)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=La(n)}catch(b){throw b===Oa?io:b}else u=n;n=be();var f=n.queue,m=f.dispatch;return l!==n.memoizedState&&(Gt.flags|=2048,Ms(9,uo(),U1.bind(null,f,l),null)),[u,m,i]}function U1(i,n){i.action=n}function og(i){var n=be(),l=te;if(l!==null)return lg(n,l,i);be(),n=n.memoizedState,l=be();var u=l.queue.dispatch;return l.memoizedState=i,[n,u,!1]}function Ms(i,n,l,u){return i={tag:i,create:l,deps:u,inst:n,next:null},n=Gt.updateQueue,n===null&&(n=Kh(),Gt.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,n.lastEffect=i),i}function uo(){return{destroy:void 0,resource:void 0}}function ug(){return be().memoizedState}function ho(i,n,l,u){var f=$e();u=u===void 0?null:u,Gt.flags|=i,f.memoizedState=Ms(1|n,uo(),l,u)}function Fa(i,n,l,u){var f=be();u=u===void 0?null:u;var m=f.memoizedState.inst;te!==null&&u!==null&&qh(u,te.memoizedState.deps)?f.memoizedState=Ms(n,m,l,u):(Gt.flags|=i,f.memoizedState=Ms(1|n,m,l,u))}function hg(i,n){ho(8390656,8,i,n)}function cg(i,n){Fa(2048,8,i,n)}function fg(i,n){return Fa(4,2,i,n)}function dg(i,n){return Fa(4,4,i,n)}function pg(i,n){if(typeof n=="function"){i=i();var l=n(i);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return i=i(),n.current=i,function(){n.current=null}}function mg(i,n,l){l=l!=null?l.concat([i]):null,Fa(4,4,pg.bind(null,n,i),l)}function rc(){}function gg(i,n){var l=be();n=n===void 0?null:n;var u=l.memoizedState;return n!==null&&qh(n,u[1])?u[0]:(l.memoizedState=[i,n],i)}function yg(i,n){var l=be();n=n===void 0?null:n;var u=l.memoizedState;if(n!==null&&qh(n,u[1]))return u[0];if(u=i(),zn){Li(!0);try{i()}finally{Li(!1)}}return l.memoizedState=[u,n],u}function nc(i,n,l){return l===void 0||(Kr&1073741824)!==0?i.memoizedState=n:(i.memoizedState=l,i=xy(),Gt.lanes|=i,sn|=i,l)}function vg(i,n,l,u){return Qe(l,n)?l:ws.current!==null?(i=nc(i,l,u),Qe(i,n)||(Ce=!0),i):(Kr&42)===0?(Ce=!0,i.memoizedState=l):(i=xy(),Gt.lanes|=i,sn|=i,n)}function _g(i,n,l,u,f){var m=C.p;C.p=m!==0&&8>m?m:8;var b=w.T,R={};w.T=R,lc(i,!1,n,l);try{var U=f(),q=w.S;if(q!==null&&q(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var it=B1(U,u);Ga(i,n,it,ri(i))}else Ga(i,n,u,ri(i))}catch(ot){Ga(i,n,{then:function(){},status:"rejected",reason:ot},ri())}finally{C.p=m,w.T=b}}function L1(){}function sc(i,n,l,u){if(i.tag!==5)throw Error(r(476));var f=xg(i).queue;_g(i,f,n,M,l===null?L1:function(){return bg(i),l(u)})}function xg(i){var n=i.memoizedState;if(n!==null)return n;n={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:M},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:l},next:null},i.memoizedState=n,i=i.alternate,i!==null&&(i.memoizedState=n),n}function bg(i){var n=xg(i).next.queue;Ga(i,n,{},ri())}function ac(){return He(rl)}function Eg(){return be().memoizedState}function Tg(){return be().memoizedState}function F1(i){for(var n=i.return;n!==null;){switch(n.tag){case 24:case 3:var l=ri();i=Wr(l);var u=Zr(n,i,l);u!==null&&(ni(u,n,l),Ia(u,n,l)),n={cache:Uh()},i.payload=n;return}n=n.return}}function G1(i,n,l){var u=ri();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},co(i)?Sg(n,l):(l=wh(i,n,l,u),l!==null&&(ni(l,i,u),wg(l,n,u)))}function Ag(i,n,l){var u=ri();Ga(i,n,l,u)}function Ga(i,n,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(co(i))Sg(n,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,R=m(b,l);if(f.hasEagerState=!0,f.eagerState=R,Qe(R,b))return $l(i,n,f,0),ne===null&&Yl(),!1}catch{}finally{}if(l=wh(i,n,f,u),l!==null)return ni(l,i,u),wg(l,n,u),!0}return!1}function lc(i,n,l,u){if(u={lane:2,revertLane:Gc(),action:u,hasEagerState:!1,eagerState:null,next:null},co(i)){if(n)throw Error(r(479))}else n=wh(i,l,u,2),n!==null&&ni(n,i,2)}function co(i){var n=i.alternate;return i===Gt||n!==null&&n===Gt}function Sg(i,n){Rs=so=!0;var l=i.pending;l===null?n.next=n:(n.next=l.next,l.next=n),i.pending=n}function wg(i,n,l){if((l&4194048)!==0){var u=n.lanes;u&=i.pendingLanes,l|=u,n.lanes=l,bi(i,l)}}var fo={readContext:He,use:lo,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Rg={readContext:He,use:lo,useCallback:function(i,n){return $e().memoizedState=[i,n===void 0?null:n],i},useContext:He,useEffect:hg,useImperativeHandle:function(i,n,l){l=l!=null?l.concat([i]):null,ho(4194308,4,pg.bind(null,n,i),l)},useLayoutEffect:function(i,n){return ho(4194308,4,i,n)},useInsertionEffect:function(i,n){ho(4,2,i,n)},useMemo:function(i,n){var l=$e();n=n===void 0?null:n;var u=i();if(zn){Li(!0);try{i()}finally{Li(!1)}}return l.memoizedState=[u,n],u},useReducer:function(i,n,l){var u=$e();if(l!==void 0){var f=l(n);if(zn){Li(!0);try{l(n)}finally{Li(!1)}}}else f=n;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=G1.bind(null,Gt,i),[u.memoizedState,i]},useRef:function(i){var n=$e();return i={current:i},n.memoizedState=i},useState:function(i){i=ec(i);var n=i.queue,l=Ag.bind(null,Gt,n);return n.dispatch=l,[i.memoizedState,l]},useDebugValue:rc,useDeferredValue:function(i,n){var l=$e();return nc(l,i,n)},useTransition:function(){var i=ec(!1);return i=_g.bind(null,Gt,i.queue,!0,!1),$e().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,n,l){var u=Gt,f=$e();if(Wt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=n(),ne===null)throw Error(r(349));(Vt&124)!==0||$m(u,n,l)}f.memoizedState=l;var m={value:l,getSnapshot:n};return f.queue=m,hg(Zm.bind(null,u,m,i),[i]),u.flags|=2048,Ms(9,uo(),Wm.bind(null,u,m,l,n),null),l},useId:function(){var i=$e(),n=ne.identifierPrefix;if(Wt){var l=gr,u=mr;l=(u&~(1<<32-Te(u)-1)).toString(32)+l,n=""+n+"R"+l,l=ao++,0<l&&(n+="H"+l.toString(32)),n+=""}else l=I1++,n=""+n+"r"+l.toString(32)+"";return i.memoizedState=n},useHostTransitionStatus:ac,useFormState:sg,useActionState:sg,useOptimistic:function(i){var n=$e();n.memoizedState=n.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=lc.bind(null,Gt,!0,l),l.dispatch=n,[i,n]},useMemoCache:Qh,useCacheRefresh:function(){return $e().memoizedState=F1.bind(null,Gt)}},Cg={readContext:He,use:lo,useCallback:gg,useContext:He,useEffect:cg,useImperativeHandle:mg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:oo,useRef:ug,useState:function(){return oo(_r)},useDebugValue:rc,useDeferredValue:function(i,n){var l=be();return vg(l,te.memoizedState,i,n)},useTransition:function(){var i=oo(_r)[0],n=be().memoizedState;return[typeof i=="boolean"?i:La(i),n]},useSyncExternalStore:Ym,useId:Eg,useHostTransitionStatus:ac,useFormState:ag,useActionState:ag,useOptimistic:function(i,n){var l=be();return Jm(l,te,i,n)},useMemoCache:Qh,useCacheRefresh:Tg},k1={readContext:He,use:lo,useCallback:gg,useContext:He,useEffect:cg,useImperativeHandle:mg,useInsertionEffect:fg,useLayoutEffect:dg,useMemo:yg,useReducer:tc,useRef:ug,useState:function(){return tc(_r)},useDebugValue:rc,useDeferredValue:function(i,n){var l=be();return te===null?nc(l,i,n):vg(l,te.memoizedState,i,n)},useTransition:function(){var i=tc(_r)[0],n=be().memoizedState;return[typeof i=="boolean"?i:La(i),n]},useSyncExternalStore:Ym,useId:Eg,useHostTransitionStatus:ac,useFormState:og,useActionState:og,useOptimistic:function(i,n){var l=be();return te!==null?Jm(l,te,i,n):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Qh,useCacheRefresh:Tg},Ds=null,ka=0;function po(i){var n=ka;return ka+=1,Ds===null&&(Ds=[]),Gm(Ds,i,n)}function Ha(i,n){n=n.props.ref,i.ref=n!==void 0?n:null}function mo(i,n){throw n.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(n),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i)))}function Mg(i){var n=i._init;return n(i._payload)}function Dg(i){function n(z,G){if(i){var j=z.deletions;j===null?(z.deletions=[G],z.flags|=16):j.push(G)}}function l(z,G){if(!i)return null;for(;G!==null;)n(z,G),G=G.sibling;return null}function u(z){for(var G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function f(z,G){return z=pr(z,G),z.index=0,z.sibling=null,z}function m(z,G,j){return z.index=j,i?(j=z.alternate,j!==null?(j=j.index,j<G?(z.flags|=67108866,G):j):(z.flags|=67108866,G)):(z.flags|=1048576,G)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function R(z,G,j,st){return G===null||G.tag!==6?(G=Ch(j,z.mode,st),G.return=z,G):(G=f(G,j),G.return=z,G)}function U(z,G,j,st){var _t=j.type;return _t===x?it(z,G,j.props.children,st,j.key):G!==null&&(G.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===V&&Mg(_t)===G.type)?(G=f(G,j.props),Ha(G,j),G.return=z,G):(G=Zl(j.type,j.key,j.props,null,z.mode,st),Ha(G,j),G.return=z,G)}function q(z,G,j,st){return G===null||G.tag!==4||G.stateNode.containerInfo!==j.containerInfo||G.stateNode.implementation!==j.implementation?(G=Mh(j,z.mode,st),G.return=z,G):(G=f(G,j.children||[]),G.return=z,G)}function it(z,G,j,st,_t){return G===null||G.tag!==7?(G=Nn(j,z.mode,st,_t),G.return=z,G):(G=f(G,j),G.return=z,G)}function ot(z,G,j){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Ch(""+G,z.mode,j),G.return=z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return j=Zl(G.type,G.key,G.props,null,z.mode,j),Ha(j,G),j.return=z,j;case _:return G=Mh(G,z.mode,j),G.return=z,G;case V:var st=G._init;return G=st(G._payload),ot(z,G,j)}if(dt(G)||H(G))return G=Nn(G,z.mode,j,null),G.return=z,G;if(typeof G.then=="function")return ot(z,po(G),j);if(G.$$typeof===D)return ot(z,to(z,G),j);mo(z,G)}return null}function W(z,G,j,st){var _t=G!==null?G.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _t!==null?null:R(z,G,""+j,st);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case v:return j.key===_t?U(z,G,j,st):null;case _:return j.key===_t?q(z,G,j,st):null;case V:return _t=j._init,j=_t(j._payload),W(z,G,j,st)}if(dt(j)||H(j))return _t!==null?null:it(z,G,j,st,null);if(typeof j.then=="function")return W(z,G,po(j),st);if(j.$$typeof===D)return W(z,G,to(z,j),st);mo(z,j)}return null}function Z(z,G,j,st,_t){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return z=z.get(j)||null,R(G,z,""+st,_t);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case v:return z=z.get(st.key===null?j:st.key)||null,U(G,z,st,_t);case _:return z=z.get(st.key===null?j:st.key)||null,q(G,z,st,_t);case V:var kt=st._init;return st=kt(st._payload),Z(z,G,j,st,_t)}if(dt(st)||H(st))return z=z.get(j)||null,it(G,z,st,_t,null);if(typeof st.then=="function")return Z(z,G,j,po(st),_t);if(st.$$typeof===D)return Z(z,G,j,to(G,st),_t);mo(G,st)}return null}function Bt(z,G,j,st){for(var _t=null,kt=null,wt=G,Mt=G=0,De=null;wt!==null&&Mt<j.length;Mt++){wt.index>Mt?(De=wt,wt=null):De=wt.sibling;var $t=W(z,wt,j[Mt],st);if($t===null){wt===null&&(wt=De);break}i&&wt&&$t.alternate===null&&n(z,wt),G=m($t,G,Mt),kt===null?_t=$t:kt.sibling=$t,kt=$t,wt=De}if(Mt===j.length)return l(z,wt),Wt&&Un(z,Mt),_t;if(wt===null){for(;Mt<j.length;Mt++)wt=ot(z,j[Mt],st),wt!==null&&(G=m(wt,G,Mt),kt===null?_t=wt:kt.sibling=wt,kt=wt);return Wt&&Un(z,Mt),_t}for(wt=u(wt);Mt<j.length;Mt++)De=Z(wt,z,Mt,j[Mt],st),De!==null&&(i&&De.alternate!==null&&wt.delete(De.key===null?Mt:De.key),G=m(De,G,Mt),kt===null?_t=De:kt.sibling=De,kt=De);return i&&wt.forEach(function(pn){return n(z,pn)}),Wt&&Un(z,Mt),_t}function Ct(z,G,j,st){if(j==null)throw Error(r(151));for(var _t=null,kt=null,wt=G,Mt=G=0,De=null,$t=j.next();wt!==null&&!$t.done;Mt++,$t=j.next()){wt.index>Mt?(De=wt,wt=null):De=wt.sibling;var pn=W(z,wt,$t.value,st);if(pn===null){wt===null&&(wt=De);break}i&&wt&&pn.alternate===null&&n(z,wt),G=m(pn,G,Mt),kt===null?_t=pn:kt.sibling=pn,kt=pn,wt=De}if($t.done)return l(z,wt),Wt&&Un(z,Mt),_t;if(wt===null){for(;!$t.done;Mt++,$t=j.next())$t=ot(z,$t.value,st),$t!==null&&(G=m($t,G,Mt),kt===null?_t=$t:kt.sibling=$t,kt=$t);return Wt&&Un(z,Mt),_t}for(wt=u(wt);!$t.done;Mt++,$t=j.next())$t=Z(wt,z,Mt,$t.value,st),$t!==null&&(i&&$t.alternate!==null&&wt.delete($t.key===null?Mt:$t.key),G=m($t,G,Mt),kt===null?_t=$t:kt.sibling=$t,kt=$t);return i&&wt.forEach(function(HE){return n(z,HE)}),Wt&&Un(z,Mt),_t}function ie(z,G,j,st){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case v:t:{for(var _t=j.key;G!==null;){if(G.key===_t){if(_t=j.type,_t===x){if(G.tag===7){l(z,G.sibling),st=f(G,j.props.children),st.return=z,z=st;break t}}else if(G.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===V&&Mg(_t)===G.type){l(z,G.sibling),st=f(G,j.props),Ha(st,j),st.return=z,z=st;break t}l(z,G);break}else n(z,G);G=G.sibling}j.type===x?(st=Nn(j.props.children,z.mode,st,j.key),st.return=z,z=st):(st=Zl(j.type,j.key,j.props,null,z.mode,st),Ha(st,j),st.return=z,z=st)}return b(z);case _:t:{for(_t=j.key;G!==null;){if(G.key===_t)if(G.tag===4&&G.stateNode.containerInfo===j.containerInfo&&G.stateNode.implementation===j.implementation){l(z,G.sibling),st=f(G,j.children||[]),st.return=z,z=st;break t}else{l(z,G);break}else n(z,G);G=G.sibling}st=Mh(j,z.mode,st),st.return=z,z=st}return b(z);case V:return _t=j._init,j=_t(j._payload),ie(z,G,j,st)}if(dt(j))return Bt(z,G,j,st);if(H(j)){if(_t=H(j),typeof _t!="function")throw Error(r(150));return j=_t.call(j),Ct(z,G,j,st)}if(typeof j.then=="function")return ie(z,G,po(j),st);if(j.$$typeof===D)return ie(z,G,to(z,j),st);mo(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,G!==null&&G.tag===6?(l(z,G.sibling),st=f(G,j),st.return=z,z=st):(l(z,G),st=Ch(j,z.mode,st),st.return=z,z=st),b(z)):l(z,G)}return function(z,G,j,st){try{ka=0;var _t=ie(z,G,j,st);return Ds=null,_t}catch(wt){if(wt===Oa||wt===io)throw wt;var kt=Je(29,wt,null,z.mode);return kt.lanes=st,kt.return=z,kt}finally{}}}var Os=Dg(!0),Og=Dg(!1),pi=N(null),zi=null;function Qr(i){var n=i.alternate;L(we,we.current&1),L(pi,i),zi===null&&(n===null||ws.current!==null||n.memoizedState!==null)&&(zi=i)}function Bg(i){if(i.tag===22){if(L(we,we.current),L(pi,i),zi===null){var n=i.alternate;n!==null&&n.memoizedState!==null&&(zi=i)}}else Jr()}function Jr(){L(we,we.current),L(pi,pi.current)}function xr(i){F(pi),zi===i&&(zi=null),F(we)}var we=N(0);function go(i){for(var n=i;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Kc(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function oc(i,n,l,u){n=i.memoizedState,l=l(u,n),l=l==null?n:g({},n,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var uc={enqueueSetState:function(i,n,l){i=i._reactInternals;var u=ri(),f=Wr(u);f.payload=n,l!=null&&(f.callback=l),n=Zr(i,f,u),n!==null&&(ni(n,i,u),Ia(n,i,u))},enqueueReplaceState:function(i,n,l){i=i._reactInternals;var u=ri(),f=Wr(u);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=Zr(i,f,u),n!==null&&(ni(n,i,u),Ia(n,i,u))},enqueueForceUpdate:function(i,n){i=i._reactInternals;var l=ri(),u=Wr(l);u.tag=2,n!=null&&(u.callback=n),n=Zr(i,u,l),n!==null&&(ni(n,i,l),Ia(n,i,l))}};function Ig(i,n,l,u,f,m,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,b):n.prototype&&n.prototype.isPureReactComponent?!Ta(l,u)||!Ta(f,m):!0}function Ng(i,n,l,u){i=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,u),n.state!==i&&uc.enqueueReplaceState(n,n.state,null)}function Xn(i,n){var l=n;if("ref"in n){l={};for(var u in n)u!=="ref"&&(l[u]=n[u])}if(i=i.defaultProps){l===n&&(l=g({},l));for(var f in i)l[f]===void 0&&(l[f]=i[f])}return l}var yo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Pg(i){yo(i)}function Ug(i){console.error(i)}function Lg(i){yo(i)}function vo(i,n){try{var l=i.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function Fg(i,n,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hc(i,n,l){return l=Wr(l),l.tag=3,l.payload={element:null},l.callback=function(){vo(i,n)},l}function Gg(i){return i=Wr(i),i.tag=3,i}function kg(i,n,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){Fg(n,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Fg(n,l,u),typeof f!="function"&&(an===null?an=new Set([this]):an.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function H1(i,n,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=l.alternate,n!==null&&Ca(n,l,f,!0),l=pi.current,l!==null){switch(l.tag){case 13:return zi===null?Nc():l.alternate===null&&pe===0&&(pe=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===Gh?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([u]):n.add(u),Uc(i,u,f)),!1;case 22:return l.flags|=65536,u===Gh?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([u]):l.add(u)),Uc(i,u,f)),!1}throw Error(r(435,l.tag))}return Uc(i,u,f),Nc(),!1}if(Wt)return n=pi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==Bh&&(i=Error(r(422),{cause:u}),Ra(hi(i,l)))):(u!==Bh&&(n=Error(r(423),{cause:u}),Ra(hi(n,l))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=hi(u,l),f=hc(i.stateNode,u,f),zh(i,f),pe!==4&&(pe=2)),!1;var m=Error(r(520),{cause:u});if(m=hi(m,l),$a===null?$a=[m]:$a.push(m),pe!==4&&(pe=2),n===null)return!0;u=hi(u,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,i=f&-f,l.lanes|=i,i=hc(l.stateNode,u,i),zh(l,i),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(an===null||!an.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Gg(f),kg(f,i,l,u),zh(l,f),!1}l=l.return}while(l!==null);return!1}var Hg=Error(r(461)),Ce=!1;function Ie(i,n,l,u){n.child=i===null?Og(n,null,l,u):Os(n,i.child,l,u)}function zg(i,n,l,u,f){l=l.render;var m=n.ref;if("ref"in u){var b={};for(var R in u)R!=="ref"&&(b[R]=u[R])}else b=u;return kn(n),u=Yh(i,n,l,b,m,f),R=$h(),i!==null&&!Ce?(Wh(i,n,f),br(i,n,f)):(Wt&&R&&Dh(n),n.flags|=1,Ie(i,n,u,f),n.child)}function Xg(i,n,l,u,f){if(i===null){var m=l.type;return typeof m=="function"&&!Rh(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,Vg(i,n,m,u,f)):(i=Zl(l.type,null,u,n,n.mode,f),i.ref=n.ref,i.return=n,n.child=i)}if(m=i.child,!vc(i,f)){var b=m.memoizedProps;if(l=l.compare,l=l!==null?l:Ta,l(b,u)&&i.ref===n.ref)return br(i,n,f)}return n.flags|=1,i=pr(m,u),i.ref=n.ref,i.return=n,n.child=i}function Vg(i,n,l,u,f){if(i!==null){var m=i.memoizedProps;if(Ta(m,u)&&i.ref===n.ref)if(Ce=!1,n.pendingProps=u=m,vc(i,f))(i.flags&131072)!==0&&(Ce=!0);else return n.lanes=i.lanes,br(i,n,f)}return cc(i,n,l,u,f)}function jg(i,n,l){var u=n.pendingProps,f=u.children,m=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=m!==null?m.baseLanes|l:l,i!==null){for(f=n.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;n.childLanes=m&~u}else n.childLanes=0,n.child=null;return qg(i,n,u,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},i!==null&&eo(n,m!==null?m.cachePool:null),m!==null?Vm(n,m):Vh(),Bg(n);else return n.lanes=n.childLanes=536870912,qg(i,n,m!==null?m.baseLanes|l:l,l)}else m!==null?(eo(n,m.cachePool),Vm(n,m),Jr(),n.memoizedState=null):(i!==null&&eo(n,null),Vh(),Jr());return Ie(i,n,f,l),n.child}function qg(i,n,l,u){var f=Fh();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:l,cachePool:f},i!==null&&eo(n,null),Vh(),Bg(n),i!==null&&Ca(i,n,u,!0),null}function _o(i,n){var l=n.ref;if(l===null)i!==null&&i.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(n.flags|=4194816)}}function cc(i,n,l,u,f){return kn(n),l=Yh(i,n,l,u,void 0,f),u=$h(),i!==null&&!Ce?(Wh(i,n,f),br(i,n,f)):(Wt&&u&&Dh(n),n.flags|=1,Ie(i,n,l,f),n.child)}function Yg(i,n,l,u,f,m){return kn(n),n.updateQueue=null,l=qm(n,u,l,f),jm(i),u=$h(),i!==null&&!Ce?(Wh(i,n,m),br(i,n,m)):(Wt&&u&&Dh(n),n.flags|=1,Ie(i,n,l,m),n.child)}function $g(i,n,l,u,f){if(kn(n),n.stateNode===null){var m=bs,b=l.contextType;typeof b=="object"&&b!==null&&(m=He(b)),m=new l(u,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=uc,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=u,m.state=n.memoizedState,m.refs={},kh(n),b=l.contextType,m.context=typeof b=="object"&&b!==null?He(b):bs,m.state=n.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(oc(n,l,b,u),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&uc.enqueueReplaceState(m,m.state,null),Pa(n,u,m,f),Na(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(i===null){m=n.stateNode;var R=n.memoizedProps,U=Xn(l,R);m.props=U;var q=m.context,it=l.contextType;b=bs,typeof it=="object"&&it!==null&&(b=He(it));var ot=l.getDerivedStateFromProps;it=typeof ot=="function"||typeof m.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,it||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R||q!==b)&&Ng(n,m,u,b),$r=!1;var W=n.memoizedState;m.state=W,Pa(n,u,m,f),Na(),q=n.memoizedState,R||W!==q||$r?(typeof ot=="function"&&(oc(n,l,ot,u),q=n.memoizedState),(U=$r||Ig(n,l,U,u,W,q,b))?(it||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=q),m.props=u,m.state=q,m.context=b,u=U):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{m=n.stateNode,Hh(i,n),b=n.memoizedProps,it=Xn(l,b),m.props=it,ot=n.pendingProps,W=m.context,q=l.contextType,U=bs,typeof q=="object"&&q!==null&&(U=He(q)),R=l.getDerivedStateFromProps,(q=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ot||W!==U)&&Ng(n,m,u,U),$r=!1,W=n.memoizedState,m.state=W,Pa(n,u,m,f),Na();var Z=n.memoizedState;b!==ot||W!==Z||$r||i!==null&&i.dependencies!==null&&Jl(i.dependencies)?(typeof R=="function"&&(oc(n,l,R,u),Z=n.memoizedState),(it=$r||Ig(n,l,it,u,W,Z,U)||i!==null&&i.dependencies!==null&&Jl(i.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Z,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Z,U)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=Z),m.props=u,m.state=Z,m.context=U,u=it):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(n.flags|=1024),u=!1)}return m=u,_o(i,n),u=(n.flags&128)!==0,m||u?(m=n.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,i!==null&&u?(n.child=Os(n,i.child,null,f),n.child=Os(n,null,l,f)):Ie(i,n,l,f),n.memoizedState=m.state,i=n.child):i=br(i,n,f),i}function Wg(i,n,l,u){return wa(),n.flags|=256,Ie(i,n,l,u),n.child}var fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dc(i){return{baseLanes:i,cachePool:Um()}}function pc(i,n,l){return i=i!==null?i.childLanes&~l:0,n&&(i|=mi),i}function Zg(i,n,l){var u=n.pendingProps,f=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=i!==null&&i.memoizedState===null?!1:(we.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,i===null){if(Wt){if(f?Qr(n):Jr(),Wt){var R=de,U;if(U=R){t:{for(U=R,R=Hi;U.nodeType!==8;){if(!R){R=null;break t}if(U=Si(U.nextSibling),U===null){R=null;break t}}R=U}R!==null?(n.memoizedState={dehydrated:R,treeContext:Pn!==null?{id:mr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},U=Je(18,null,null,0),U.stateNode=R,U.return=n,n.child=U,Xe=n,de=null,U=!0):U=!1}U||Fn(n)}if(R=n.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Kc(R)?n.lanes=32:n.lanes=536870912,null;xr(n)}return R=u.children,u=u.fallback,f?(Jr(),f=n.mode,R=xo({mode:"hidden",children:R},f),u=Nn(u,f,l,null),R.return=n,u.return=n,R.sibling=u,n.child=R,f=n.child,f.memoizedState=dc(l),f.childLanes=pc(i,b,l),n.memoizedState=fc,u):(Qr(n),mc(n,R))}if(U=i.memoizedState,U!==null&&(R=U.dehydrated,R!==null)){if(m)n.flags&256?(Qr(n),n.flags&=-257,n=gc(i,n,l)):n.memoizedState!==null?(Jr(),n.child=i.child,n.flags|=128,n=null):(Jr(),f=u.fallback,R=n.mode,u=xo({mode:"visible",children:u.children},R),f=Nn(f,R,l,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,Os(n,i.child,null,l),u=n.child,u.memoizedState=dc(l),u.childLanes=pc(i,b,l),n.memoizedState=fc,n=f);else if(Qr(n),Kc(R)){if(b=R.nextSibling&&R.nextSibling.dataset,b)var q=b.dgst;b=q,u=Error(r(419)),u.stack="",u.digest=b,Ra({value:u,source:null,stack:null}),n=gc(i,n,l)}else if(Ce||Ca(i,n,l,!1),b=(l&i.childLanes)!==0,Ce||b){if(b=ne,b!==null&&(u=l&-l,u=(u&42)!==0?1:Cn(u),u=(u&(b.suspendedLanes|l))!==0?0:u,u!==0&&u!==U.retryLane))throw U.retryLane=u,xs(i,u),ni(b,i,u),Hg;R.data==="$?"||Nc(),n=gc(i,n,l)}else R.data==="$?"?(n.flags|=192,n.child=i.child,n=null):(i=U.treeContext,de=Si(R.nextSibling),Xe=n,Wt=!0,Ln=null,Hi=!1,i!==null&&(fi[di++]=mr,fi[di++]=gr,fi[di++]=Pn,mr=i.id,gr=i.overflow,Pn=n),n=mc(n,u.children),n.flags|=4096);return n}return f?(Jr(),f=u.fallback,R=n.mode,U=i.child,q=U.sibling,u=pr(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,q!==null?f=pr(q,f):(f=Nn(f,R,l,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,R=i.child.memoizedState,R===null?R=dc(l):(U=R.cachePool,U!==null?(q=Se._currentValue,U=U.parent!==q?{parent:q,pool:q}:U):U=Um(),R={baseLanes:R.baseLanes|l,cachePool:U}),f.memoizedState=R,f.childLanes=pc(i,b,l),n.memoizedState=fc,u):(Qr(n),l=i.child,i=l.sibling,l=pr(l,{mode:"visible",children:u.children}),l.return=n,l.sibling=null,i!==null&&(b=n.deletions,b===null?(n.deletions=[i],n.flags|=16):b.push(i)),n.child=l,n.memoizedState=null,l)}function mc(i,n){return n=xo({mode:"visible",children:n},i.mode),n.return=i,i.child=n}function xo(i,n){return i=Je(22,i,null,n),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function gc(i,n,l){return Os(n,i.child,null,l),i=mc(n,n.pendingProps.children),i.flags|=2,n.memoizedState=null,i}function Kg(i,n,l){i.lanes|=n;var u=i.alternate;u!==null&&(u.lanes|=n),Nh(i.return,n,l)}function yc(i,n,l,u,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=f)}function Qg(i,n,l){var u=n.pendingProps,f=u.revealOrder,m=u.tail;if(Ie(i,n,u.children,l),u=we.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=n.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Kg(i,l,n);else if(i.tag===19)Kg(i,l,n);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(L(we,u),f){case"forwards":for(l=n.child,f=null;l!==null;)i=l.alternate,i!==null&&go(i)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),yc(n,!1,f,l,m);break;case"backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(i=f.alternate,i!==null&&go(i)===null){n.child=f;break}i=f.sibling,f.sibling=l,l=f,f=i}yc(n,!0,l,null,m);break;case"together":yc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function br(i,n,l){if(i!==null&&(n.dependencies=i.dependencies),sn|=n.lanes,(l&n.childLanes)===0)if(i!==null){if(Ca(i,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(i!==null&&n.child!==i.child)throw Error(r(153));if(n.child!==null){for(i=n.child,l=pr(i,i.pendingProps),n.child=l,l.return=n;i.sibling!==null;)i=i.sibling,l=l.sibling=pr(i,i.pendingProps),l.return=n;l.sibling=null}return n.child}function vc(i,n){return(i.lanes&n)!==0?!0:(i=i.dependencies,!!(i!==null&&Jl(i)))}function z1(i,n,l){switch(n.tag){case 3:ct(n,n.stateNode.containerInfo),Yr(n,Se,i.memoizedState.cache),wa();break;case 27:case 5:ut(n);break;case 4:ct(n,n.stateNode.containerInfo);break;case 10:Yr(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Qr(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Zg(i,n,l):(Qr(n),i=br(i,n,l),i!==null?i.sibling:null);Qr(n);break;case 19:var f=(i.flags&128)!==0;if(u=(l&n.childLanes)!==0,u||(Ca(i,n,l,!1),u=(l&n.childLanes)!==0),f){if(u)return Qg(i,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),L(we,we.current),u)break;return null;case 22:case 23:return n.lanes=0,jg(i,n,l);case 24:Yr(n,Se,i.memoizedState.cache)}return br(i,n,l)}function Jg(i,n,l){if(i!==null)if(i.memoizedProps!==n.pendingProps)Ce=!0;else{if(!vc(i,l)&&(n.flags&128)===0)return Ce=!1,z1(i,n,l);Ce=(i.flags&131072)!==0}else Ce=!1,Wt&&(n.flags&1048576)!==0&&Mm(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:t:{i=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")Rh(u)?(i=Xn(u,i),n.tag=1,n=$g(null,n,u,i,l)):(n.tag=0,n=cc(null,n,u,i,l));else{if(u!=null){if(f=u.$$typeof,f===P){n.tag=11,n=zg(null,n,u,i,l);break t}else if(f===B){n.tag=14,n=Xg(null,n,u,i,l);break t}}throw n=J(u)||u,Error(r(306,n,""))}}return n;case 0:return cc(i,n,n.type,n.pendingProps,l);case 1:return u=n.type,f=Xn(u,n.pendingProps),$g(i,n,u,f,l);case 3:t:{if(ct(n,n.stateNode.containerInfo),i===null)throw Error(r(387));u=n.pendingProps;var m=n.memoizedState;f=m.element,Hh(i,n),Pa(n,u,null,l);var b=n.memoizedState;if(u=b.cache,Yr(n,Se,u),u!==m.cache&&Ph(n,[Se],l,!0),Na(),u=b.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Wg(i,n,u,l);break t}else if(u!==f){f=hi(Error(r(424)),n),Ra(f),n=Wg(i,n,u,l);break t}else{switch(i=n.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(de=Si(i.firstChild),Xe=n,Wt=!0,Ln=null,Hi=!0,l=Og(n,null,u,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wa(),u===f){n=br(i,n,l);break t}Ie(i,n,u,l)}n=n.child}return n;case 26:return _o(i,n),i===null?(l=rv(n.type,null,n.pendingProps,null))?n.memoizedState=l:Wt||(l=n.type,i=n.pendingProps,u=No(lt.current).createElement(l),u[Ae]=n,u[_e]=i,Pe(u,l,i),fe(u),n.stateNode=u):n.memoizedState=rv(n.type,i.memoizedProps,n.pendingProps,i.memoizedState),null;case 27:return ut(n),i===null&&Wt&&(u=n.stateNode=tv(n.type,n.pendingProps,lt.current),Xe=n,Hi=!0,f=de,un(n.type)?(Qc=f,de=Si(u.firstChild)):de=f),Ie(i,n,n.pendingProps.children,l),_o(i,n),i===null&&(n.flags|=4194304),n.child;case 5:return i===null&&Wt&&((f=u=de)&&(u=gE(u,n.type,n.pendingProps,Hi),u!==null?(n.stateNode=u,Xe=n,de=Si(u.firstChild),Hi=!1,f=!0):f=!1),f||Fn(n)),ut(n),f=n.type,m=n.pendingProps,b=i!==null?i.memoizedProps:null,u=m.children,$c(f,m)?u=null:b!==null&&$c(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=Yh(i,n,N1,null,null,l),rl._currentValue=f),_o(i,n),Ie(i,n,u,l),n.child;case 6:return i===null&&Wt&&((i=l=de)&&(l=yE(l,n.pendingProps,Hi),l!==null?(n.stateNode=l,Xe=n,de=null,i=!0):i=!1),i||Fn(n)),null;case 13:return Zg(i,n,l);case 4:return ct(n,n.stateNode.containerInfo),u=n.pendingProps,i===null?n.child=Os(n,null,u,l):Ie(i,n,u,l),n.child;case 11:return zg(i,n,n.type,n.pendingProps,l);case 7:return Ie(i,n,n.pendingProps,l),n.child;case 8:return Ie(i,n,n.pendingProps.children,l),n.child;case 12:return Ie(i,n,n.pendingProps.children,l),n.child;case 10:return u=n.pendingProps,Yr(n,n.type,u.value),Ie(i,n,u.children,l),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,kn(n),f=He(f),u=u(f),n.flags|=1,Ie(i,n,u,l),n.child;case 14:return Xg(i,n,n.type,n.pendingProps,l);case 15:return Vg(i,n,n.type,n.pendingProps,l);case 19:return Qg(i,n,l);case 31:return u=n.pendingProps,l=n.mode,u={mode:u.mode,children:u.children},i===null?(l=xo(u,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=pr(i.child,u),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return jg(i,n,l);case 24:return kn(n),u=He(Se),i===null?(f=Fh(),f===null&&(f=ne,m=Uh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),n.memoizedState={parent:u,cache:f},kh(n),Yr(n,Se,f)):((i.lanes&l)!==0&&(Hh(i,n),Pa(n,null,null,l),Na()),f=i.memoizedState,m=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Yr(n,Se,u)):(u=m.cache,Yr(n,Se,u),u!==f.cache&&Ph(n,[Se],l,!0))),Ie(i,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Er(i){i.flags|=4}function ty(i,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ov(n)){if(n=pi.current,n!==null&&((Vt&4194048)===Vt?zi!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||n!==zi))throw Ba=Gh,Lm;i.flags|=8192}}function bo(i,n){n!==null&&(i.flags|=4),i.flags&16384&&(n=i.tag!==22?Jt():536870912,i.lanes|=n,Ps|=n)}function za(i,n){if(!Wt)switch(i.tailMode){case"hidden":n=i.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?n||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function oe(i){var n=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(n)for(var f=i.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=l,n}function X1(i,n,l){var u=n.pendingProps;switch(Oh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return l=n.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),vr(Se),yt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Sa(n)?Er(n):i===null||i.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bm())),oe(n),null;case 26:return l=n.memoizedState,i===null?(Er(n),l!==null?(oe(n),ty(n,l)):(oe(n),n.flags&=-16777217)):l?l!==i.memoizedState?(Er(n),oe(n),ty(n,l)):(oe(n),n.flags&=-16777217):(i.memoizedProps!==u&&Er(n),oe(n),n.flags&=-16777217),null;case 27:vt(n),l=lt.current;var f=n.type;if(i!==null&&n.stateNode!=null)i.memoizedProps!==u&&Er(n);else{if(!u){if(n.stateNode===null)throw Error(r(166));return oe(n),null}i=$.current,Sa(n)?Dm(n):(i=tv(f,u,l),n.stateNode=i,Er(n))}return oe(n),null;case 5:if(vt(n),l=n.type,i!==null&&n.stateNode!=null)i.memoizedProps!==u&&Er(n);else{if(!u){if(n.stateNode===null)throw Error(r(166));return oe(n),null}if(i=$.current,Sa(n))Dm(n);else{switch(f=No(lt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}i[Ae]=n,i[_e]=u;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=i;t:switch(Pe(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Er(n)}}return oe(n),n.flags&=-16777217,null;case 6:if(i&&n.stateNode!=null)i.memoizedProps!==u&&Er(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(i=lt.current,Sa(n)){if(i=n.stateNode,l=n.memoizedProps,u=null,f=Xe,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ae]=n,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Yy(i.nodeValue,l)),i||Fn(n)}else i=No(i).createTextNode(u),i[Ae]=n,n.stateNode=i}return oe(n),null;case 13:if(u=n.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Sa(n),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ae]=n}else wa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),f=!1}else f=Bm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(xr(n),n):(xr(n),null)}if(xr(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return l!==i&&l&&(n.child.flags|=8192),bo(n,n.updateQueue),oe(n),null;case 4:return yt(),i===null&&Xc(n.stateNode.containerInfo),oe(n),null;case 10:return vr(n.type),oe(n),null;case 19:if(F(we),f=n.memoizedState,f===null)return oe(n),null;if(u=(n.flags&128)!==0,m=f.rendering,m===null)if(u)za(f,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=n.child;i!==null;){if(m=go(i),m!==null){for(n.flags|=128,za(f,!1),i=m.updateQueue,n.updateQueue=i,bo(n,i),n.subtreeFlags=0,i=l,l=n.child;l!==null;)Cm(l,i),l=l.sibling;return L(we,we.current&1|2),n.child}i=i.sibling}f.tail!==null&&Yt()>Ao&&(n.flags|=128,u=!0,za(f,!1),n.lanes=4194304)}else{if(!u)if(i=go(m),i!==null){if(n.flags|=128,u=!0,i=i.updateQueue,n.updateQueue=i,bo(n,i),za(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Wt)return oe(n),null}else 2*Yt()-f.renderingStartTime>Ao&&l!==536870912&&(n.flags|=128,u=!0,za(f,!1),n.lanes=4194304);f.isBackwards?(m.sibling=n.child,n.child=m):(i=f.last,i!==null?i.sibling=m:n.child=m,f.last=m)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Yt(),n.sibling=null,i=we.current,L(we,u?i&1|2:i&1),n):(oe(n),null);case 22:case 23:return xr(n),jh(),u=n.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(l&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),l=n.updateQueue,l!==null&&bo(n,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==l&&(n.flags|=2048),i!==null&&F(Hn),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vr(Se),oe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function V1(i,n){switch(Oh(n),n.tag){case 1:return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 3:return vr(Se),yt(),i=n.flags,(i&65536)!==0&&(i&128)===0?(n.flags=i&-65537|128,n):null;case 26:case 27:case 5:return vt(n),null;case 13:if(xr(n),i=n.memoizedState,i!==null&&i.dehydrated!==null){if(n.alternate===null)throw Error(r(340));wa()}return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 19:return F(we),null;case 4:return yt(),null;case 10:return vr(n.type),null;case 22:case 23:return xr(n),jh(),i!==null&&F(Hn),i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 24:return vr(Se),null;case 25:return null;default:return null}}function ey(i,n){switch(Oh(n),n.tag){case 3:vr(Se),yt();break;case 26:case 27:case 5:vt(n);break;case 4:yt();break;case 13:xr(n);break;case 19:F(we);break;case 10:vr(n.type);break;case 22:case 23:xr(n),jh(),i!==null&&F(Hn);break;case 24:vr(Se)}}function Xa(i,n){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&i)===i){u=void 0;var m=l.create,b=l.inst;u=m(),b.destroy=u}l=l.next}while(l!==f)}}catch(R){re(n,n.return,R)}}function tn(i,n,l){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var b=u.inst,R=b.destroy;if(R!==void 0){b.destroy=void 0,f=n;var U=l,q=R;try{q()}catch(it){re(f,U,it)}}}u=u.next}while(u!==m)}}catch(it){re(n,n.return,it)}}function iy(i){var n=i.updateQueue;if(n!==null){var l=i.stateNode;try{Xm(n,l)}catch(u){re(i,i.return,u)}}}function ry(i,n,l){l.props=Xn(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){re(i,n,u)}}function Va(i,n){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(f){re(i,n,f)}}function Xi(i,n){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){re(i,n,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){re(i,n,f)}else l.current=null}function ny(i){var n=i.type,l=i.memoizedProps,u=i.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){re(i,i.return,f)}}function _c(i,n,l){try{var u=i.stateNode;cE(u,i.type,l,n),u[_e]=n}catch(f){re(i,i.return,f)}}function sy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&un(i.type)||i.tag===4}function xc(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||sy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&un(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bc(i,n,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(i),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Io));else if(u!==4&&(u===27&&un(i.type)&&(l=i.stateNode,n=null),i=i.child,i!==null))for(bc(i,n,l),i=i.sibling;i!==null;)bc(i,n,l),i=i.sibling}function Eo(i,n,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,n?l.insertBefore(i,n):l.appendChild(i);else if(u!==4&&(u===27&&un(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Eo(i,n,l),i=i.sibling;i!==null;)Eo(i,n,l),i=i.sibling}function ay(i){var n=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Pe(n,u,l),n[Ae]=i,n[_e]=l}catch(m){re(i,i.return,m)}}var Tr=!1,ye=!1,Ec=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Me=null;function j1(i,n){if(i=i.containerInfo,qc=ko,i=vm(i),xh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break t}var b=0,R=-1,U=-1,q=0,it=0,ot=i,W=null;e:for(;;){for(var Z;ot!==l||f!==0&&ot.nodeType!==3||(R=b+f),ot!==m||u!==0&&ot.nodeType!==3||(U=b+u),ot.nodeType===3&&(b+=ot.nodeValue.length),(Z=ot.firstChild)!==null;)W=ot,ot=Z;for(;;){if(ot===i)break e;if(W===l&&++q===f&&(R=b),W===m&&++it===u&&(U=b),(Z=ot.nextSibling)!==null)break;ot=W,W=ot.parentNode}ot=Z}l=R===-1||U===-1?null:{start:R,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yc={focusedElem:i,selectionRange:l},ko=!1,Me=n;Me!==null;)if(n=Me,i=n.child,(n.subtreeFlags&1024)!==0&&i!==null)i.return=n,Me=i;else for(;Me!==null;){switch(n=Me,m=n.alternate,i=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,l=n,f=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var Bt=Xn(l.type,f,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(Bt,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ct){re(l,l.return,Ct)}}break;case 3:if((i&1024)!==0){if(i=n.stateNode.containerInfo,l=i.nodeType,l===9)Zc(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Zc(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=n.sibling,i!==null){i.return=n.return,Me=i;break}Me=n.return}}function oy(i,n,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:en(i,l),u&4&&Xa(5,l);break;case 1:if(en(i,l),u&4)if(i=l.stateNode,n===null)try{i.componentDidMount()}catch(b){re(l,l.return,b)}else{var f=Xn(l.type,n.memoizedProps);n=n.memoizedState;try{i.componentDidUpdate(f,n,i.__reactInternalSnapshotBeforeUpdate)}catch(b){re(l,l.return,b)}}u&64&&iy(l),u&512&&Va(l,l.return);break;case 3:if(en(i,l),u&64&&(i=l.updateQueue,i!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Xm(i,n)}catch(b){re(l,l.return,b)}}break;case 27:n===null&&u&4&&ay(l);case 26:case 5:en(i,l),n===null&&u&4&&ny(l),u&512&&Va(l,l.return);break;case 12:en(i,l);break;case 13:en(i,l),u&4&&cy(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=tE.bind(null,l),vE(i,l))));break;case 22:if(u=l.memoizedState!==null||Tr,!u){n=n!==null&&n.memoizedState!==null||ye,f=Tr;var m=ye;Tr=u,(ye=n)&&!m?rn(i,l,(l.subtreeFlags&8772)!==0):en(i,l),Tr=f,ye=m}break;case 30:break;default:en(i,l)}}function uy(i){var n=i.alternate;n!==null&&(i.alternate=null,uy(n)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(n=i.stateNode,n!==null&&Mn(n)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var le=null,We=!1;function Ar(i,n,l){for(l=l.child;l!==null;)hy(i,n,l),l=l.sibling}function hy(i,n,l){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Rn,l)}catch{}switch(l.tag){case 26:ye||Xi(l,n),Ar(i,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ye||Xi(l,n);var u=le,f=We;un(l.type)&&(le=l.stateNode,We=!1),Ar(i,n,l),Ja(l.stateNode),le=u,We=f;break;case 5:ye||Xi(l,n);case 6:if(u=le,f=We,le=null,Ar(i,n,l),le=u,We=f,le!==null)if(We)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(l.stateNode)}catch(m){re(l,n,m)}else try{le.removeChild(l.stateNode)}catch(m){re(l,n,m)}break;case 18:le!==null&&(We?(i=le,Qy(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ll(i)):Qy(le,l.stateNode));break;case 4:u=le,f=We,le=l.stateNode.containerInfo,We=!0,Ar(i,n,l),le=u,We=f;break;case 0:case 11:case 14:case 15:ye||tn(2,l,n),ye||tn(4,l,n),Ar(i,n,l);break;case 1:ye||(Xi(l,n),u=l.stateNode,typeof u.componentWillUnmount=="function"&&ry(l,n,u)),Ar(i,n,l);break;case 21:Ar(i,n,l);break;case 22:ye=(u=ye)||l.memoizedState!==null,Ar(i,n,l),ye=u;break;default:Ar(i,n,l)}}function cy(i,n){if(n.memoizedState===null&&(i=n.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ll(i)}catch(l){re(n,n.return,l)}}function q1(i){switch(i.tag){case 13:case 19:var n=i.stateNode;return n===null&&(n=i.stateNode=new ly),n;case 22:return i=i.stateNode,n=i._retryCache,n===null&&(n=i._retryCache=new ly),n;default:throw Error(r(435,i.tag))}}function Tc(i,n){var l=q1(i);n.forEach(function(u){var f=eE.bind(null,i,u);l.has(u)||(l.add(u),u.then(f,f))})}function ti(i,n){var l=n.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],m=i,b=n,R=b;t:for(;R!==null;){switch(R.tag){case 27:if(un(R.type)){le=R.stateNode,We=!1;break t}break;case 5:le=R.stateNode,We=!1;break t;case 3:case 4:le=R.stateNode.containerInfo,We=!0;break t}R=R.return}if(le===null)throw Error(r(160));hy(m,b,f),le=null,We=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)fy(n,i),n=n.sibling}var Ai=null;function fy(i,n){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ti(n,i),ei(i),u&4&&(tn(3,i,i.return),Xa(3,i),tn(5,i,i.return));break;case 1:ti(n,i),ei(i),u&512&&(ye||l===null||Xi(l,l.return)),u&64&&Tr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Ai;if(ti(n,i),ei(i),u&512&&(ye||l===null||Xi(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){t:{u=i.type,l=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Xr]||m[Ae]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Pe(m,u,l),m[Ae]=i,fe(m),u=m;break t;case"link":var b=av("link","href",f).get(u+(l.href||""));if(b){for(var R=0;R<b.length;R++)if(m=b[R],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(R,1);break e}}m=f.createElement(u),Pe(m,u,l),f.head.appendChild(m);break;case"meta":if(b=av("meta","content",f).get(u+(l.content||""))){for(R=0;R<b.length;R++)if(m=b[R],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(R,1);break e}}m=f.createElement(u),Pe(m,u,l),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[Ae]=i,fe(m),u=m}i.stateNode=u}else lv(f,i.type,i.stateNode);else i.stateNode=sv(f,u,i.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?lv(f,i.type,i.stateNode):sv(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&_c(i,i.memoizedProps,l.memoizedProps)}break;case 27:ti(n,i),ei(i),u&512&&(ye||l===null||Xi(l,l.return)),l!==null&&u&4&&_c(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ti(n,i),ei(i),u&512&&(ye||l===null||Xi(l,l.return)),i.flags&32){f=i.stateNode;try{ds(f,"")}catch(Z){re(i,i.return,Z)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,_c(i,f,l!==null?l.memoizedProps:f)),u&1024&&(Ec=!0);break;case 6:if(ti(n,i),ei(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(Z){re(i,i.return,Z)}}break;case 3:if(Lo=null,f=Ai,Ai=Po(n.containerInfo),ti(n,i),Ai=f,ei(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ll(n.containerInfo)}catch(Z){re(i,i.return,Z)}Ec&&(Ec=!1,dy(i));break;case 4:u=Ai,Ai=Po(i.stateNode.containerInfo),ti(n,i),ei(i),Ai=u;break;case 12:ti(n,i),ei(i);break;case 13:ti(n,i),ei(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Mc=Yt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Tc(i,u)));break;case 22:f=i.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,q=Tr,it=ye;if(Tr=q||f,ye=it||U,ti(n,i),ye=it,Tr=q,ei(i),u&8192)t:for(n=i.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||U||Tr||ye||Vn(i)),l=null,n=i;;){if(n.tag===5||n.tag===26){if(l===null){U=l=n;try{if(m=U.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{R=U.stateNode;var ot=U.memoizedProps.style,W=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;R.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Z){re(U,U.return,Z)}}}else if(n.tag===6){if(l===null){U=n;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(Z){re(U,U.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===i)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Tc(i,l))));break;case 19:ti(n,i),ei(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Tc(i,u)));break;case 30:break;case 21:break;default:ti(n,i),ei(i)}}function ei(i){var n=i.flags;if(n&2){try{for(var l,u=i.return;u!==null;){if(sy(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var f=l.stateNode,m=xc(i);Eo(i,m,f);break;case 5:var b=l.stateNode;l.flags&32&&(ds(b,""),l.flags&=-33);var R=xc(i);Eo(i,R,b);break;case 3:case 4:var U=l.stateNode.containerInfo,q=xc(i);bc(i,q,U);break;default:throw Error(r(161))}}catch(it){re(i,i.return,it)}i.flags&=-3}n&4096&&(i.flags&=-4097)}function dy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var n=i;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),i=i.sibling}}function en(i,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(i,n.alternate,n),n=n.sibling}function Vn(i){for(i=i.child;i!==null;){var n=i;switch(n.tag){case 0:case 11:case 14:case 15:tn(4,n,n.return),Vn(n);break;case 1:Xi(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&ry(n,n.return,l),Vn(n);break;case 27:Ja(n.stateNode);case 26:case 5:Xi(n,n.return),Vn(n);break;case 22:n.memoizedState===null&&Vn(n);break;case 30:Vn(n);break;default:Vn(n)}i=i.sibling}}function rn(i,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=i,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:rn(f,m,l),Xa(4,m);break;case 1:if(rn(f,m,l),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){re(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var R=u.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)zm(U[f],R)}catch(q){re(u,u.return,q)}}l&&b&64&&iy(m),Va(m,m.return);break;case 27:ay(m);case 26:case 5:rn(f,m,l),l&&u===null&&b&4&&ny(m),Va(m,m.return);break;case 12:rn(f,m,l);break;case 13:rn(f,m,l),l&&b&4&&cy(f,m);break;case 22:m.memoizedState===null&&rn(f,m,l),Va(m,m.return);break;case 30:break;default:rn(f,m,l)}n=n.sibling}}function Ac(i,n){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ma(l))}function Sc(i,n){i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&Ma(i))}function Vi(i,n,l,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(i,n,l,u),n=n.sibling}function py(i,n,l,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Vi(i,n,l,u),f&2048&&Xa(9,n);break;case 1:Vi(i,n,l,u);break;case 3:Vi(i,n,l,u),f&2048&&(i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&Ma(i)));break;case 12:if(f&2048){Vi(i,n,l,u),i=n.stateNode;try{var m=n.memoizedProps,b=m.id,R=m.onPostCommit;typeof R=="function"&&R(b,n.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){re(n,n.return,U)}}else Vi(i,n,l,u);break;case 13:Vi(i,n,l,u);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?Vi(i,n,l,u):ja(i,n):m._visibility&2?Vi(i,n,l,u):(m._visibility|=2,Bs(i,n,l,u,(n.subtreeFlags&10256)!==0)),f&2048&&Ac(b,n);break;case 24:Vi(i,n,l,u),f&2048&&Sc(n.alternate,n);break;default:Vi(i,n,l,u)}}function Bs(i,n,l,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=i,b=n,R=l,U=u,q=b.flags;switch(b.tag){case 0:case 11:case 15:Bs(m,b,R,U,f),Xa(8,b);break;case 23:break;case 22:var it=b.stateNode;b.memoizedState!==null?it._visibility&2?Bs(m,b,R,U,f):ja(m,b):(it._visibility|=2,Bs(m,b,R,U,f)),f&&q&2048&&Ac(b.alternate,b);break;case 24:Bs(m,b,R,U,f),f&&q&2048&&Sc(b.alternate,b);break;default:Bs(m,b,R,U,f)}n=n.sibling}}function ja(i,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=i,u=n,f=u.flags;switch(u.tag){case 22:ja(l,u),f&2048&&Ac(u.alternate,u);break;case 24:ja(l,u),f&2048&&Sc(u.alternate,u);break;default:ja(l,u)}n=n.sibling}}var qa=8192;function Is(i){if(i.subtreeFlags&qa)for(i=i.child;i!==null;)my(i),i=i.sibling}function my(i){switch(i.tag){case 26:Is(i),i.flags&qa&&i.memoizedState!==null&&OE(Ai,i.memoizedState,i.memoizedProps);break;case 5:Is(i);break;case 3:case 4:var n=Ai;Ai=Po(i.stateNode.containerInfo),Is(i),Ai=n;break;case 22:i.memoizedState===null&&(n=i.alternate,n!==null&&n.memoizedState!==null?(n=qa,qa=16777216,Is(i),qa=n):Is(i));break;default:Is(i)}}function gy(i){var n=i.alternate;if(n!==null&&(i=n.child,i!==null)){n.child=null;do n=i.sibling,i.sibling=null,i=n;while(i!==null)}}function Ya(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var u=n[l];Me=u,vy(u,i)}gy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yy(i),i=i.sibling}function yy(i){switch(i.tag){case 0:case 11:case 15:Ya(i),i.flags&2048&&tn(9,i,i.return);break;case 3:Ya(i);break;case 12:Ya(i);break;case 22:var n=i.stateNode;i.memoizedState!==null&&n._visibility&2&&(i.return===null||i.return.tag!==13)?(n._visibility&=-3,To(i)):Ya(i);break;default:Ya(i)}}function To(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var u=n[l];Me=u,vy(u,i)}gy(i)}for(i=i.child;i!==null;){switch(n=i,n.tag){case 0:case 11:case 15:tn(8,n,n.return),To(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,To(n));break;default:To(n)}i=i.sibling}}function vy(i,n){for(;Me!==null;){var l=Me;switch(l.tag){case 0:case 11:case 15:tn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ma(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Me=u;else t:for(l=i;Me!==null;){u=Me;var f=u.sibling,m=u.return;if(uy(u),u===l){Me=null;break t}if(f!==null){f.return=m,Me=f;break t}Me=m}}}var Y1={getCacheForType:function(i){var n=He(Se),l=n.data.get(i);return l===void 0&&(l=i(),n.data.set(i,l)),l}},$1=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ne=null,Ht=null,Vt=0,Qt=0,ii=null,nn=!1,Ns=!1,wc=!1,Sr=0,pe=0,sn=0,jn=0,Rc=0,mi=0,Ps=0,$a=null,Ze=null,Cc=!1,Mc=0,Ao=1/0,So=null,an=null,Ne=0,ln=null,Us=null,Ls=0,Dc=0,Oc=null,_y=null,Wa=0,Bc=null;function ri(){if((Kt&2)!==0&&Vt!==0)return Vt&-Vt;if(w.T!==null){var i=As;return i!==0?i:Gc()}return qe()}function xy(){mi===0&&(mi=(Vt&536870912)===0||Wt?Zt():536870912);var i=pi.current;return i!==null&&(i.flags|=32),mi}function ni(i,n,l){(i===ne&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(Fs(i,0),on(i,Vt,mi,!1)),je(i,l),((Kt&2)===0||i!==ne)&&(i===ne&&((Kt&2)===0&&(jn|=l),pe===4&&on(i,Vt,mi,!1)),ji(i))}function by(i,n,l){if((Kt&6)!==0)throw Error(r(327));var u=!l&&(n&124)===0&&(n&i.expiredLanes)===0||K(i,n),f=u?K1(i,n):Pc(i,n,!0),m=u;do{if(f===0){Ns&&!u&&on(i,n,0,!1);break}else{if(l=i.current.alternate,m&&!W1(l)){f=Pc(i,n,!1),m=!1;continue}if(f===2){if(m=n,i.errorRecoveryDisabledLanes&m)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;t:{var R=i;f=$a;var U=R.current.memoizedState.isDehydrated;if(U&&(Fs(R,b).flags|=256),b=Pc(R,b,!1),b!==2){if(wc&&!U){R.errorRecoveryDisabledLanes|=m,jn|=m,f=4;break t}m=Ze,Ze=f,m!==null&&(Ze===null?Ze=m:Ze.push.apply(Ze,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){Fs(i,0),on(i,n,0,!0);break}t:{switch(u=i,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:on(u,n,mi,!nn);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(f=Mc+300-Yt(),10<f)){if(on(u,n,mi,!nn),Y(u,0,!0)!==0)break t;u.timeoutHandle=Zy(Ey.bind(null,u,l,Ze,So,Cc,n,mi,jn,Ps,nn,m,2,-0,0),f);break t}Ey(u,l,Ze,So,Cc,n,mi,jn,Ps,nn,m,0,-0,0)}}break}while(!0);ji(i)}function Ey(i,n,l,u,f,m,b,R,U,q,it,ot,W,Z){if(i.timeoutHandle=-1,ot=n.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:DE},my(n),ot=BE(),ot!==null)){i.cancelPendingCommit=ot(My.bind(null,i,n,m,l,u,f,b,R,U,it,1,W,Z)),on(i,m,b,!q);return}My(i,n,m,l,u,f,b,R,U)}function W1(i){for(var n=i;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],m=f.getSnapshot;f=f.value;try{if(!Qe(m(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function on(i,n,l,u){n&=~Rc,n&=~jn,i.suspendedLanes|=n,i.pingedLanes&=~n,u&&(i.warmLanes|=n),u=i.expirationTimes;for(var f=n;0<f;){var m=31-Te(f),b=1<<m;u[m]=-1,f&=~b}l!==0&&ke(i,l,n)}function wo(){return(Kt&6)===0?(Za(0),!1):!0}function Ic(){if(Ht!==null){if(Qt===0)var i=Ht.return;else i=Ht,yr=Gn=null,Zh(i),Ds=null,ka=0,i=Ht;for(;i!==null;)ey(i.alternate,i),i=i.return;Ht=null}}function Fs(i,n){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,dE(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ic(),ne=i,Ht=l=pr(i.current,null),Vt=n,Qt=0,ii=null,nn=!1,Ns=K(i,n),wc=!1,Ps=mi=Rc=jn=sn=pe=0,Ze=$a=null,Cc=!1,(n&8)!==0&&(n|=n&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=n;0<u;){var f=31-Te(u),m=1<<f;n|=i[f],u&=~m}return Sr=n,Yl(),l}function Ty(i,n){Gt=null,w.H=fo,n===Oa||n===io?(n=km(),Qt=3):n===Lm?(n=km(),Qt=4):Qt=n===Hg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ii=n,Ht===null&&(pe=1,vo(i,hi(n,i.current)))}function Ay(){var i=w.H;return w.H=fo,i===null?fo:i}function Sy(){var i=w.A;return w.A=Y1,i}function Nc(){pe=4,nn||(Vt&4194048)!==Vt&&pi.current!==null||(Ns=!0),(sn&134217727)===0&&(jn&134217727)===0||ne===null||on(ne,Vt,mi,!1)}function Pc(i,n,l){var u=Kt;Kt|=2;var f=Ay(),m=Sy();(ne!==i||Vt!==n)&&(So=null,Fs(i,n)),n=!1;var b=pe;t:do try{if(Qt!==0&&Ht!==null){var R=Ht,U=ii;switch(Qt){case 8:Ic(),b=6;break t;case 3:case 2:case 9:case 6:pi.current===null&&(n=!0);var q=Qt;if(Qt=0,ii=null,Gs(i,R,U,q),l&&Ns){b=0;break t}break;default:q=Qt,Qt=0,ii=null,Gs(i,R,U,q)}}Z1(),b=pe;break}catch(it){Ty(i,it)}while(!0);return n&&i.shellSuspendCounter++,yr=Gn=null,Kt=u,w.H=f,w.A=m,Ht===null&&(ne=null,Vt=0,Yl()),b}function Z1(){for(;Ht!==null;)wy(Ht)}function K1(i,n){var l=Kt;Kt|=2;var u=Ay(),f=Sy();ne!==i||Vt!==n?(So=null,Ao=Yt()+500,Fs(i,n)):Ns=K(i,n);t:do try{if(Qt!==0&&Ht!==null){n=Ht;var m=ii;e:switch(Qt){case 1:Qt=0,ii=null,Gs(i,n,m,1);break;case 2:case 9:if(Fm(m)){Qt=0,ii=null,Ry(n);break}n=function(){Qt!==2&&Qt!==9||ne!==i||(Qt=7),ji(i)},m.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Fm(m)?(Qt=0,ii=null,Ry(n)):(Qt=0,ii=null,Gs(i,n,m,7));break;case 5:var b=null;switch(Ht.tag){case 26:b=Ht.memoizedState;case 5:case 27:var R=Ht;if(!b||ov(b)){Qt=0,ii=null;var U=R.sibling;if(U!==null)Ht=U;else{var q=R.return;q!==null?(Ht=q,Ro(q)):Ht=null}break e}}Qt=0,ii=null,Gs(i,n,m,5);break;case 6:Qt=0,ii=null,Gs(i,n,m,6);break;case 8:Ic(),pe=6;break t;default:throw Error(r(462))}}Q1();break}catch(it){Ty(i,it)}while(!0);return yr=Gn=null,w.H=u,w.A=f,Kt=l,Ht!==null?0:(ne=null,Vt=0,Yl(),pe)}function Q1(){for(;Ht!==null&&!Tt();)wy(Ht)}function wy(i){var n=Jg(i.alternate,i,Sr);i.memoizedProps=i.pendingProps,n===null?Ro(i):Ht=n}function Ry(i){var n=i,l=n.alternate;switch(n.tag){case 15:case 0:n=Yg(l,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=Yg(l,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:Zh(n);default:ey(l,n),n=Ht=Cm(n,Sr),n=Jg(l,n,Sr)}i.memoizedProps=i.pendingProps,n===null?Ro(i):Ht=n}function Gs(i,n,l,u){yr=Gn=null,Zh(n),Ds=null,ka=0;var f=n.return;try{if(H1(i,f,n,l,Vt)){pe=1,vo(i,hi(l,i.current)),Ht=null;return}}catch(m){if(f!==null)throw Ht=f,m;pe=1,vo(i,hi(l,i.current)),Ht=null;return}n.flags&32768?(Wt||u===1?i=!0:Ns||(Vt&536870912)!==0?i=!1:(nn=i=!0,(u===2||u===9||u===3||u===6)&&(u=pi.current,u!==null&&u.tag===13&&(u.flags|=16384))),Cy(n,i)):Ro(n)}function Ro(i){var n=i;do{if((n.flags&32768)!==0){Cy(n,nn);return}i=n.return;var l=X1(n.alternate,n,Sr);if(l!==null){Ht=l;return}if(n=n.sibling,n!==null){Ht=n;return}Ht=n=i}while(n!==null);pe===0&&(pe=5)}function Cy(i,n){do{var l=V1(i.alternate,i);if(l!==null){l.flags&=32767,Ht=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(i=i.sibling,i!==null)){Ht=i;return}Ht=i=l}while(i!==null);pe=6,Ht=null}function My(i,n,l,u,f,m,b,R,U){i.cancelPendingCommit=null;do Co();while(Ne!==0);if((Kt&6)!==0)throw Error(r(327));if(n!==null){if(n===i.current)throw Error(r(177));if(m=n.lanes|n.childLanes,m|=Sh,lr(i,l,m,b,R,U),i===ne&&(Ht=ne=null,Vt=0),Us=n,ln=i,Ls=l,Dc=m,Oc=f,_y=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,iE(Fe,function(){return Ny(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=w.T,w.T=null,f=C.p,C.p=2,b=Kt,Kt|=4;try{j1(i,n,l)}finally{Kt=b,C.p=f,w.T=u}}Ne=1,Dy(),Oy(),By()}}function Dy(){if(Ne===1){Ne=0;var i=ln,n=Us,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=w.T,w.T=null;var u=C.p;C.p=2;var f=Kt;Kt|=4;try{fy(n,i);var m=Yc,b=vm(i.containerInfo),R=m.focusedElem,U=m.selectionRange;if(b!==R&&R&&R.ownerDocument&&ym(R.ownerDocument.documentElement,R)){if(U!==null&&xh(R)){var q=U.start,it=U.end;if(it===void 0&&(it=q),"selectionStart"in R)R.selectionStart=q,R.selectionEnd=Math.min(it,R.value.length);else{var ot=R.ownerDocument||document,W=ot&&ot.defaultView||window;if(W.getSelection){var Z=W.getSelection(),Bt=R.textContent.length,Ct=Math.min(U.start,Bt),ie=U.end===void 0?Ct:Math.min(U.end,Bt);!Z.extend&&Ct>ie&&(b=ie,ie=Ct,Ct=b);var z=gm(R,Ct),G=gm(R,ie);if(z&&G&&(Z.rangeCount!==1||Z.anchorNode!==z.node||Z.anchorOffset!==z.offset||Z.focusNode!==G.node||Z.focusOffset!==G.offset)){var j=ot.createRange();j.setStart(z.node,z.offset),Z.removeAllRanges(),Ct>ie?(Z.addRange(j),Z.extend(G.node,G.offset)):(j.setEnd(G.node,G.offset),Z.addRange(j))}}}}for(ot=[],Z=R;Z=Z.parentNode;)Z.nodeType===1&&ot.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ot.length;R++){var st=ot[R];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}ko=!!qc,Yc=qc=null}finally{Kt=f,C.p=u,w.T=l}}i.current=n,Ne=2}}function Oy(){if(Ne===2){Ne=0;var i=ln,n=Us,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=w.T,w.T=null;var u=C.p;C.p=2;var f=Kt;Kt|=4;try{oy(i,n.alternate,n)}finally{Kt=f,C.p=u,w.T=l}}Ne=3}}function By(){if(Ne===4||Ne===3){Ne=0,St();var i=ln,n=Us,l=Ls,u=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Us=ln=null,Iy(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(an=null),Fi(l),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Rn,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=w.T,f=C.p,C.p=2,w.T=null;try{for(var m=i.onRecoverableError,b=0;b<u.length;b++){var R=u[b];m(R.value,{componentStack:R.stack})}}finally{w.T=n,C.p=f}}(Ls&3)!==0&&Co(),ji(i),f=i.pendingLanes,(l&4194090)!==0&&(f&42)!==0?i===Bc?Wa++:(Wa=0,Bc=i):Wa=0,Za(0)}}function Iy(i,n){(i.pooledCacheLanes&=n)===0&&(n=i.pooledCache,n!=null&&(i.pooledCache=null,Ma(n)))}function Co(i){return Dy(),Oy(),By(),Ny()}function Ny(){if(Ne!==5)return!1;var i=ln,n=Dc;Dc=0;var l=Fi(Ls),u=w.T,f=C.p;try{C.p=32>l?32:l,w.T=null,l=Oc,Oc=null;var m=ln,b=Ls;if(Ne=0,Us=ln=null,Ls=0,(Kt&6)!==0)throw Error(r(331));var R=Kt;if(Kt|=4,yy(m.current),py(m,m.current,b,l),Kt=R,Za(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Rn,m)}catch{}return!0}finally{C.p=f,w.T=u,Iy(i,n)}}function Py(i,n,l){n=hi(l,n),n=hc(i.stateNode,n,2),i=Zr(i,n,2),i!==null&&(je(i,2),ji(i))}function re(i,n,l){if(i.tag===3)Py(i,i,l);else for(;n!==null;){if(n.tag===3){Py(n,i,l);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(an===null||!an.has(u))){i=hi(l,i),l=Gg(2),u=Zr(n,l,2),u!==null&&(kg(l,u,n,i),je(u,2),ji(u));break}}n=n.return}}function Uc(i,n,l){var u=i.pingCache;if(u===null){u=i.pingCache=new $1;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(l)||(wc=!0,f.add(l),i=J1.bind(null,i,n,l),n.then(i,i))}function J1(i,n,l){var u=i.pingCache;u!==null&&u.delete(n),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ne===i&&(Vt&l)===l&&(pe===4||pe===3&&(Vt&62914560)===Vt&&300>Yt()-Mc?(Kt&2)===0&&Fs(i,0):Rc|=l,Ps===Vt&&(Ps=0)),ji(i)}function Uy(i,n){n===0&&(n=Jt()),i=xs(i,n),i!==null&&(je(i,n),ji(i))}function tE(i){var n=i.memoizedState,l=0;n!==null&&(l=n.retryLane),Uy(i,l)}function eE(i,n){var l=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(n),Uy(i,l)}function iE(i,n){return Ot(i,n)}var Mo=null,ks=null,Lc=!1,Do=!1,Fc=!1,qn=0;function ji(i){i!==ks&&i.next===null&&(ks===null?Mo=ks=i:ks=ks.next=i),Do=!0,Lc||(Lc=!0,nE())}function Za(i,n){if(!Fc&&Do){Fc=!0;do for(var l=!1,u=Mo;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var b=u.suspendedLanes,R=u.pingedLanes;m=(1<<31-Te(42|i)+1)-1,m&=f&~(b&~R),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,ky(u,m))}else m=Vt,m=Y(u,u===ne?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||K(u,m)||(l=!0,ky(u,m));u=u.next}while(l);Fc=!1}}function rE(){Ly()}function Ly(){Do=Lc=!1;var i=0;qn!==0&&(fE()&&(i=qn),qn=0);for(var n=Yt(),l=null,u=Mo;u!==null;){var f=u.next,m=Fy(u,n);m===0?(u.next=null,l===null?Mo=f:l.next=f,f===null&&(ks=l)):(l=u,(i!==0||(m&3)!==0)&&(Do=!0)),u=f}Za(i)}function Fy(i,n){for(var l=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var b=31-Te(m),R=1<<b,U=f[b];U===-1?((R&l)===0||(R&u)!==0)&&(f[b]=qt(R,n)):U<=n&&(i.expiredLanes|=R),m&=~R}if(n=ne,l=Vt,l=Y(i,i===n?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===n&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ft(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||K(i,l)){if(n=l&-l,n===i.callbackPriority)return n;switch(u!==null&&Ft(u),Fi(l)){case 2:case 8:l=xi;break;case 32:l=Fe;break;case 268435456:l=ar;break;default:l=Fe}return u=Gy.bind(null,i),l=Ot(l,u),i.callbackPriority=n,i.callbackNode=l,n}return u!==null&&u!==null&&Ft(u),i.callbackPriority=2,i.callbackNode=null,2}function Gy(i,n){if(Ne!==0&&Ne!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Co()&&i.callbackNode!==l)return null;var u=Vt;return u=Y(i,i===ne?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(by(i,u,n),Fy(i,Yt()),i.callbackNode!=null&&i.callbackNode===l?Gy.bind(null,i):null)}function ky(i,n){if(Co())return null;by(i,n,!0)}function nE(){pE(function(){(Kt&6)!==0?Ot(sr,rE):Ly()})}function Gc(){return qn===0&&(qn=Zt()),qn}function Hy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:kl(""+i)}function zy(i,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,i.id&&l.setAttribute("form",i.id),n.parentNode.insertBefore(l,n),i=new FormData(i),l.parentNode.removeChild(l),i}function sE(i,n,l,u,f){if(n==="submit"&&l&&l.stateNode===f){var m=Hy((f[_e]||null).action),b=u.submitter;b&&(n=(n=b[_e]||null)?Hy(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var R=new Vl("action","action",null,u,f);i.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(qn!==0){var U=b?zy(f,b):new FormData(f);sc(l,{pending:!0,data:U,method:f.method,action:m},null,U)}}else typeof m=="function"&&(R.preventDefault(),U=b?zy(f,b):new FormData(f),sc(l,{pending:!0,data:U,method:f.method,action:m},m,U))},currentTarget:f}]})}}for(var kc=0;kc<Ah.length;kc++){var Hc=Ah[kc],aE=Hc.toLowerCase(),lE=Hc[0].toUpperCase()+Hc.slice(1);Ti(aE,"on"+lE)}Ti(bm,"onAnimationEnd"),Ti(Em,"onAnimationIteration"),Ti(Tm,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(A1,"onTransitionRun"),Ti(S1,"onTransitionStart"),Ti(w1,"onTransitionCancel"),Ti(Am,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ka));function Xy(i,n){n=(n&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],f=u.event;u=u.listeners;t:{var m=void 0;if(n)for(var b=u.length-1;0<=b;b--){var R=u[b],U=R.instance,q=R.currentTarget;if(R=R.listener,U!==m&&f.isPropagationStopped())break t;m=R,f.currentTarget=q;try{m(f)}catch(it){yo(it)}f.currentTarget=null,m=U}else for(b=0;b<u.length;b++){if(R=u[b],U=R.instance,q=R.currentTarget,R=R.listener,U!==m&&f.isPropagationStopped())break t;m=R,f.currentTarget=q;try{m(f)}catch(it){yo(it)}f.currentTarget=null,m=U}}}}function zt(i,n){var l=n[zr];l===void 0&&(l=n[zr]=new Set);var u=i+"__bubble";l.has(u)||(Vy(n,i,2,!1),l.add(u))}function zc(i,n,l){var u=0;n&&(u|=4),Vy(l,i,u,n)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Xc(i){if(!i[Oo]){i[Oo]=!0,ur.forEach(function(l){l!=="selectionchange"&&(oE.has(l)||zc(l,!1,i),zc(l,!0,i))});var n=i.nodeType===9?i:i.ownerDocument;n===null||n[Oo]||(n[Oo]=!0,zc("selectionchange",!1,n))}}function Vy(i,n,l,u){switch(pv(n)){case 2:var f=PE;break;case 8:f=UE;break;default:f=nf}l=f.bind(null,n,l,i),f=void 0,!ch||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(n,l,{capture:!0,passive:f}):i.addEventListener(n,l,!0):f!==void 0?i.addEventListener(n,l,{passive:f}):i.addEventListener(n,l,!1)}function Vc(i,n,l,u,f){var m=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var R=u.stateNode.containerInfo;if(R===f)break;if(b===4)for(b=u.return;b!==null;){var U=b.tag;if((U===3||U===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;R!==null;){if(b=or(R),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){u=m=b;continue t}R=R.parentNode}}u=u.return}Kp(function(){var q=m,it=uh(l),ot=[];t:{var W=Sm.get(i);if(W!==void 0){var Z=Vl,Bt=i;switch(i){case"keypress":if(zl(l)===0)break t;case"keydown":case"keyup":Z=i1;break;case"focusin":Bt="focus",Z=mh;break;case"focusout":Bt="blur",Z=mh;break;case"beforeblur":case"afterblur":Z=mh;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Vb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=s1;break;case bm:case Em:case Tm:Z=Yb;break;case Am:Z=l1;break;case"scroll":case"scrollend":Z=zb;break;case"wheel":Z=u1;break;case"copy":case"cut":case"paste":Z=Wb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=im;break;case"toggle":case"beforetoggle":Z=c1}var Ct=(n&4)!==0,ie=!Ct&&(i==="scroll"||i==="scrollend"),z=Ct?W!==null?W+"Capture":null:W;Ct=[];for(var G=q,j;G!==null;){var st=G;if(j=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||j===null||z===null||(st=ga(G,z),st!=null&&Ct.push(Qa(G,st,j))),ie)break;G=G.return}0<Ct.length&&(W=new Z(W,Bt,null,l,it),ot.push({event:W,listeners:Ct}))}}if((n&7)===0){t:{if(W=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",W&&l!==oh&&(Bt=l.relatedTarget||l.fromElement)&&(or(Bt)||Bt[Gi]))break t;if((Z||W)&&(W=it.window===it?it:(W=it.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(Bt=l.relatedTarget||l.toElement,Z=q,Bt=Bt?or(Bt):null,Bt!==null&&(ie=o(Bt),Ct=Bt.tag,Bt!==ie||Ct!==5&&Ct!==27&&Ct!==6)&&(Bt=null)):(Z=null,Bt=q),Z!==Bt)){if(Ct=tm,st="onMouseLeave",z="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ct=im,st="onPointerLeave",z="onPointerEnter",G="pointer"),ie=Z==null?W:Vr(Z),j=Bt==null?W:Vr(Bt),W=new Ct(st,G+"leave",Z,l,it),W.target=ie,W.relatedTarget=j,st=null,or(it)===q&&(Ct=new Ct(z,G+"enter",Bt,l,it),Ct.target=j,Ct.relatedTarget=ie,st=Ct),ie=st,Z&&Bt)e:{for(Ct=Z,z=Bt,G=0,j=Ct;j;j=Hs(j))G++;for(j=0,st=z;st;st=Hs(st))j++;for(;0<G-j;)Ct=Hs(Ct),G--;for(;0<j-G;)z=Hs(z),j--;for(;G--;){if(Ct===z||z!==null&&Ct===z.alternate)break e;Ct=Hs(Ct),z=Hs(z)}Ct=null}else Ct=null;Z!==null&&jy(ot,W,Z,Ct,!1),Bt!==null&&ie!==null&&jy(ot,ie,Bt,Ct,!0)}}t:{if(W=q?Vr(q):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var _t=hm;else if(om(W))if(cm)_t=b1;else{_t=_1;var kt=v1}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?q&&lh(q.elementType)&&(_t=hm):_t=x1;if(_t&&(_t=_t(i,q))){um(ot,_t,l,it);break t}kt&&kt(i,W,q),i==="focusout"&&q&&W.type==="number"&&q.memoizedProps.value!=null&&ah(W,"number",W.value)}switch(kt=q?Vr(q):window,i){case"focusin":(om(kt)||kt.contentEditable==="true")&&(ys=kt,bh=q,Aa=null);break;case"focusout":Aa=bh=ys=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,_m(ot,l,it);break;case"selectionchange":if(T1)break;case"keydown":case"keyup":_m(ot,l,it)}var wt;if(yh)t:{switch(i){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else gs?am(i,l)&&(Mt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Mt="onCompositionStart");Mt&&(rm&&l.locale!=="ko"&&(gs||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&gs&&(wt=Qp()):(qr=it,fh="value"in qr?qr.value:qr.textContent,gs=!0)),kt=Bo(q,Mt),0<kt.length&&(Mt=new em(Mt,i,null,l,it),ot.push({event:Mt,listeners:kt}),wt?Mt.data=wt:(wt=lm(l),wt!==null&&(Mt.data=wt)))),(wt=d1?p1(i,l):m1(i,l))&&(Mt=Bo(q,"onBeforeInput"),0<Mt.length&&(kt=new em("onBeforeInput","beforeinput",null,l,it),ot.push({event:kt,listeners:Mt}),kt.data=wt)),sE(ot,i,q,l,it)}Xy(ot,n)})}function Qa(i,n,l){return{instance:i,listener:n,currentTarget:l}}function Bo(i,n){for(var l=n+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ga(i,l),f!=null&&u.unshift(Qa(i,f,m)),f=ga(i,n),f!=null&&u.push(Qa(i,f,m))),i.tag===3)return u;i=i.return}return[]}function Hs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function jy(i,n,l,u,f){for(var m=n._reactName,b=[];l!==null&&l!==u;){var R=l,U=R.alternate,q=R.stateNode;if(R=R.tag,U!==null&&U===u)break;R!==5&&R!==26&&R!==27||q===null||(U=q,f?(q=ga(l,m),q!=null&&b.unshift(Qa(l,q,U))):f||(q=ga(l,m),q!=null&&b.push(Qa(l,q,U)))),l=l.return}b.length!==0&&i.push({event:n,listeners:b})}var uE=/\r\n?/g,hE=/\u0000|\uFFFD/g;function qy(i){return(typeof i=="string"?i:""+i).replace(uE,`
`).replace(hE,"")}function Yy(i,n){return n=qy(n),qy(i)===n}function Io(){}function ee(i,n,l,u,f,m){switch(l){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||ds(i,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&ds(i,""+u);break;case"className":Ll(i,"class",u);break;case"tabIndex":Ll(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ll(i,l,u);break;case"style":Wp(i,u,m);break;case"data":if(n!=="object"){Ll(i,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=kl(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&ee(i,n,"name",f.name,f,null),ee(i,n,"formEncType",f.formEncType,f,null),ee(i,n,"formMethod",f.formMethod,f,null),ee(i,n,"formTarget",f.formTarget,f,null)):(ee(i,n,"encType",f.encType,f,null),ee(i,n,"method",f.method,f,null),ee(i,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=kl(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Io);break;case"onScroll":u!=null&&zt("scroll",i);break;case"onScrollEnd":u!=null&&zt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=kl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":zt("beforetoggle",i),zt("toggle",i),Ul(i,"popover",u);break;case"xlinkActuate":fr(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":fr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":fr(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":fr(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":fr(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":fr(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":fr(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":fr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":fr(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ul(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kb.get(l)||l,Ul(i,l,u))}}function jc(i,n,l,u,f,m){switch(l){case"style":Wp(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?ds(i,u):(typeof u=="number"||typeof u=="bigint")&&ds(i,""+u);break;case"onScroll":u!=null&&zt("scroll",i);break;case"onScrollEnd":u!=null&&zt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Io);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dn.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),m=i[_e]||null,m=m!=null?m[l]:null,typeof m=="function"&&i.removeEventListener(n,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(n,u,f);break t}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Ul(i,l,u)}}}function Pe(i,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",i),zt("load",i);var u=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var b=l[m];if(b!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(i,n,m,b,l,null)}}f&&ee(i,n,"srcSet",l.srcSet,l,null),u&&ee(i,n,"src",l.src,l,null);return;case"input":zt("invalid",i);var R=m=b=f=null,U=null,q=null;for(u in l)if(l.hasOwnProperty(u)){var it=l[u];if(it!=null)switch(u){case"name":f=it;break;case"type":b=it;break;case"checked":U=it;break;case"defaultChecked":q=it;break;case"value":m=it;break;case"defaultValue":R=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,n));break;default:ee(i,n,u,it,l,null)}}jp(i,m,R,U,q,b,f,!1),Fl(i);return;case"select":zt("invalid",i),u=b=m=null;for(f in l)if(l.hasOwnProperty(f)&&(R=l[f],R!=null))switch(f){case"value":m=R;break;case"defaultValue":b=R;break;case"multiple":u=R;default:ee(i,n,f,R,l,null)}n=m,l=b,i.multiple=!!u,n!=null?fs(i,!!u,n,!1):l!=null&&fs(i,!!u,l,!0);return;case"textarea":zt("invalid",i),m=f=u=null;for(b in l)if(l.hasOwnProperty(b)&&(R=l[b],R!=null))switch(b){case"value":u=R;break;case"defaultValue":f=R;break;case"children":m=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:ee(i,n,b,R,l,null)}Yp(i,u,f,m),Fl(i);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(u=l[U],u!=null))switch(U){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ee(i,n,U,u,l,null)}return;case"dialog":zt("beforetoggle",i),zt("toggle",i),zt("cancel",i),zt("close",i);break;case"iframe":case"object":zt("load",i);break;case"video":case"audio":for(u=0;u<Ka.length;u++)zt(Ka[u],i);break;case"image":zt("error",i),zt("load",i);break;case"details":zt("toggle",i);break;case"embed":case"source":case"link":zt("error",i),zt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(u=l[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ee(i,n,q,u,l,null)}return;default:if(lh(n)){for(it in l)l.hasOwnProperty(it)&&(u=l[it],u!==void 0&&jc(i,n,it,u,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(u=l[R],u!=null&&ee(i,n,R,u,l,null))}function cE(i,n,l,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,R=null,U=null,q=null,it=null;for(Z in l){var ot=l[Z];if(l.hasOwnProperty(Z)&&ot!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":U=ot;default:u.hasOwnProperty(Z)||ee(i,n,Z,null,u,ot)}}for(var W in u){var Z=u[W];if(ot=l[W],u.hasOwnProperty(W)&&(Z!=null||ot!=null))switch(W){case"type":m=Z;break;case"name":f=Z;break;case"checked":q=Z;break;case"defaultChecked":it=Z;break;case"value":b=Z;break;case"defaultValue":R=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,n));break;default:Z!==ot&&ee(i,n,W,Z,u,ot)}}sh(i,b,R,U,q,it,m,f);return;case"select":Z=b=R=W=null;for(m in l)if(U=l[m],l.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":Z=U;default:u.hasOwnProperty(m)||ee(i,n,m,null,u,U)}for(f in u)if(m=u[f],U=l[f],u.hasOwnProperty(f)&&(m!=null||U!=null))switch(f){case"value":W=m;break;case"defaultValue":R=m;break;case"multiple":b=m;default:m!==U&&ee(i,n,f,m,u,U)}n=R,l=b,u=Z,W!=null?fs(i,!!l,W,!1):!!u!=!!l&&(n!=null?fs(i,!!l,n,!0):fs(i,!!l,l?[]:"",!1));return;case"textarea":Z=W=null;for(R in l)if(f=l[R],l.hasOwnProperty(R)&&f!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ee(i,n,R,null,u,f)}for(b in u)if(f=u[b],m=l[b],u.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":W=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&ee(i,n,b,f,u,m)}qp(i,W,Z);return;case"option":for(var Bt in l)if(W=l[Bt],l.hasOwnProperty(Bt)&&W!=null&&!u.hasOwnProperty(Bt))switch(Bt){case"selected":i.selected=!1;break;default:ee(i,n,Bt,null,u,W)}for(U in u)if(W=u[U],Z=l[U],u.hasOwnProperty(U)&&W!==Z&&(W!=null||Z!=null))switch(U){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ee(i,n,U,W,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in l)W=l[Ct],l.hasOwnProperty(Ct)&&W!=null&&!u.hasOwnProperty(Ct)&&ee(i,n,Ct,null,u,W);for(q in u)if(W=u[q],Z=l[q],u.hasOwnProperty(q)&&W!==Z&&(W!=null||Z!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,n));break;default:ee(i,n,q,W,u,Z)}return;default:if(lh(n)){for(var ie in l)W=l[ie],l.hasOwnProperty(ie)&&W!==void 0&&!u.hasOwnProperty(ie)&&jc(i,n,ie,void 0,u,W);for(it in u)W=u[it],Z=l[it],!u.hasOwnProperty(it)||W===Z||W===void 0&&Z===void 0||jc(i,n,it,W,u,Z);return}}for(var z in l)W=l[z],l.hasOwnProperty(z)&&W!=null&&!u.hasOwnProperty(z)&&ee(i,n,z,null,u,W);for(ot in u)W=u[ot],Z=l[ot],!u.hasOwnProperty(ot)||W===Z||W==null&&Z==null||ee(i,n,ot,W,u,Z)}var qc=null,Yc=null;function No(i){return i.nodeType===9?i:i.ownerDocument}function $y(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(i,n){if(i===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&n==="foreignObject"?0:i}function $c(i,n){return i==="textarea"||i==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wc=null;function fE(){var i=window.event;return i&&i.type==="popstate"?i===Wc?!1:(Wc=i,!0):(Wc=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,dE=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,pE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(i){return Ky.resolve(null).then(i).catch(mE)}:Zy;function mE(i){setTimeout(function(){throw i})}function un(i){return i==="head"}function Qy(i,n){var l=n,u=0,f=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<u&&8>u){l=u;var b=i.ownerDocument;if(l&1&&Ja(b.documentElement),l&2&&Ja(b.body),l&4)for(l=b.head,Ja(l),b=l.firstChild;b;){var R=b.nextSibling,U=b.nodeName;b[Xr]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=R}}if(f===0){i.removeChild(m),ll(n);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=m}while(l);ll(n)}function Zc(i){var n=i.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zc(l),Mn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function gE(i,n,l,u){for(;i.nodeType===1;){var f=l;if(i.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Xr])switch(n){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(n==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Si(i.nextSibling),i===null)break}return null}function yE(i,n,l){if(n==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Si(i.nextSibling),i===null))return null;return i}function Kc(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function vE(i,n){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")n();else{var u=function(){n(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Si(i){for(;i!=null;i=i.nextSibling){var n=i.nodeType;if(n===1||n===3)break;if(n===8){if(n=i.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return i}var Qc=null;function Jy(i){i=i.previousSibling;for(var n=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return i;n--}else l==="/$"&&n++}i=i.previousSibling}return null}function tv(i,n,l){switch(n=No(l),i){case"html":if(i=n.documentElement,!i)throw Error(r(452));return i;case"head":if(i=n.head,!i)throw Error(r(453));return i;case"body":if(i=n.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ja(i){for(var n=i.attributes;n.length;)i.removeAttributeNode(n[0]);Mn(i)}var gi=new Map,ev=new Set;function Po(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var wr=C.d;C.d={f:_E,r:xE,D:bE,C:EE,L:TE,m:AE,X:wE,S:SE,M:RE};function _E(){var i=wr.f(),n=wo();return i||n}function xE(i){var n=ki(i);n!==null&&n.tag===5&&n.type==="form"?bg(n):wr.r(i)}var zs=typeof document>"u"?null:document;function iv(i,n,l){var u=zs;if(u&&typeof n=="string"&&n){var f=ui(n);f='link[rel="'+i+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),ev.has(f)||(ev.add(f),i={rel:i,crossOrigin:l,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),Pe(n,"link",i),fe(n),u.head.appendChild(n)))}}function bE(i){wr.D(i),iv("dns-prefetch",i,null)}function EE(i,n){wr.C(i,n),iv("preconnect",i,n)}function TE(i,n,l){wr.L(i,n,l);var u=zs;if(u&&i&&n){var f='link[rel="preload"][as="'+ui(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+ui(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+ui(l.imageSizes)+'"]')):f+='[href="'+ui(i)+'"]';var m=f;switch(n){case"style":m=Xs(i);break;case"script":m=Vs(i)}gi.has(m)||(i=g({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:i,as:n},l),gi.set(m,i),u.querySelector(f)!==null||n==="style"&&u.querySelector(tl(m))||n==="script"&&u.querySelector(el(m))||(n=u.createElement("link"),Pe(n,"link",i),fe(n),u.head.appendChild(n)))}}function AE(i,n){wr.m(i,n);var l=zs;if(l&&i){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ui(u)+'"][href="'+ui(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Vs(i)}if(!gi.has(m)&&(i=g({rel:"modulepreload",href:i},n),gi.set(m,i),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(el(m)))return}u=l.createElement("link"),Pe(u,"link",i),fe(u),l.head.appendChild(u)}}}function SE(i,n,l){wr.S(i,n,l);var u=zs;if(u&&i){var f=jr(u).hoistableStyles,m=Xs(i);n=n||"default";var b=f.get(m);if(!b){var R={loading:0,preload:null};if(b=u.querySelector(tl(m)))R.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":n},l),(l=gi.get(m))&&Jc(i,l);var U=b=u.createElement("link");fe(U),Pe(U,"link",i),U._p=new Promise(function(q,it){U.onload=q,U.onerror=it}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Uo(b,n,u)}b={type:"stylesheet",instance:b,count:1,state:R},f.set(m,b)}}}function wE(i,n){wr.X(i,n);var l=zs;if(l&&i){var u=jr(l).hoistableScripts,f=Vs(i),m=u.get(f);m||(m=l.querySelector(el(f)),m||(i=g({src:i,async:!0},n),(n=gi.get(f))&&tf(i,n),m=l.createElement("script"),fe(m),Pe(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function RE(i,n){wr.M(i,n);var l=zs;if(l&&i){var u=jr(l).hoistableScripts,f=Vs(i),m=u.get(f);m||(m=l.querySelector(el(f)),m||(i=g({src:i,async:!0,type:"module"},n),(n=gi.get(f))&&tf(i,n),m=l.createElement("script"),fe(m),Pe(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function rv(i,n,l,u){var f=(f=lt.current)?Po(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Xs(l.href),l=jr(f).hoistableStyles,u=l.get(n),u||(u={type:"style",instance:null,count:0,state:null},l.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Xs(l.href);var m=jr(f).hoistableStyles,b=m.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,b),(m=f.querySelector(tl(i)))&&!m._p&&(b.instance=m,b.state.loading=5),gi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},gi.set(i,l),m||CE(f,i,l,b.state))),n&&u===null)throw Error(r(528,""));return b}if(n&&u!==null)throw Error(r(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Vs(l),l=jr(f).hoistableScripts,u=l.get(n),u||(u={type:"script",instance:null,count:0,state:null},l.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Xs(i){return'href="'+ui(i)+'"'}function tl(i){return'link[rel="stylesheet"]['+i+"]"}function nv(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function CE(i,n,l,u){i.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=i.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Pe(n,"link",l),fe(n),i.head.appendChild(n))}function Vs(i){return'[src="'+ui(i)+'"]'}function el(i){return"script[async]"+i}function sv(i,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var u=i.querySelector('style[data-href~="'+ui(l.href)+'"]');if(u)return n.instance=u,fe(u),u;var f=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),fe(u),Pe(u,"style",f),Uo(u,l.precedence,i),n.instance=u;case"stylesheet":f=Xs(l.href);var m=i.querySelector(tl(f));if(m)return n.state.loading|=4,n.instance=m,fe(m),m;u=nv(l),(f=gi.get(f))&&Jc(u,f),m=(i.ownerDocument||i).createElement("link"),fe(m);var b=m;return b._p=new Promise(function(R,U){b.onload=R,b.onerror=U}),Pe(m,"link",u),n.state.loading|=4,Uo(m,l.precedence,i),n.instance=m;case"script":return m=Vs(l.src),(f=i.querySelector(el(m)))?(n.instance=f,fe(f),f):(u=l,(f=gi.get(m))&&(u=g({},l),tf(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),fe(f),Pe(f,"link",u),i.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Uo(u,l.precedence,i));return n.instance}function Uo(i,n,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,b=0;b<u.length;b++){var R=u[b];if(R.dataset.precedence===n)m=R;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(i,n.firstChild))}function Jc(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.title==null&&(i.title=n.title)}function tf(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.integrity==null&&(i.integrity=n.integrity)}var Lo=null;function av(i,n,l){if(Lo===null){var u=new Map,f=Lo=new Map;f.set(l,u)}else f=Lo,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),f=0;f<l.length;f++){var m=l[f];if(!(m[Xr]||m[Ae]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=i+b;var R=u.get(b);R?R.push(m):u.set(b,[m])}}return u}function lv(i,n,l){i=i.ownerDocument||i,i.head.insertBefore(l,n==="title"?i.querySelector("head > title"):null)}function ME(i,n,l){if(l===1||n.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return i=n.disabled,typeof n.precedence=="string"&&i==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ov(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var il=null;function DE(){}function OE(i,n,l){if(il===null)throw Error(r(475));var u=il;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Xs(l.href),m=i.querySelector(tl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Fo.bind(u),i.then(u,u)),n.state.loading|=4,n.instance=m,fe(m);return}m=i.ownerDocument||i,l=nv(l),(f=gi.get(f))&&Jc(l,f),m=m.createElement("link"),fe(m);var b=m;b._p=new Promise(function(R,U){b.onload=R,b.onerror=U}),Pe(m,"link",l),n.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,i),(i=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Fo.bind(u),i.addEventListener("load",n),i.addEventListener("error",n))}}function BE(){if(il===null)throw Error(r(475));var i=il;return i.stylesheets&&i.count===0&&ef(i,i.stylesheets),0<i.count?function(n){var l=setTimeout(function(){if(i.stylesheets&&ef(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=n,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Fo(){if(this.count--,this.count===0){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Go=null;function ef(i,n){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Go=new Map,n.forEach(IE,i),Go=null,Fo.call(i))}function IE(i,n){if(!(n.state.loading&4)){var l=Go.get(i);if(l)var u=l.get(null);else{l=new Map,Go.set(i,l);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}f=n.instance,b=f.getAttribute("data-precedence"),m=l.get(b)||u,m===u&&l.set(null,f),l.set(b,f),this.count++,u=Fo.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),n.state.loading|=4}}var rl={$$typeof:D,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function NE(i,n,l,u,f,m,b,R){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function uv(i,n,l,u,f,m,b,R,U,q,it,ot){return i=new NE(i,n,l,b,R,U,q,ot),n=1,m===!0&&(n|=24),m=Je(3,null,null,n),i.current=m,m.stateNode=i,n=Uh(),n.refCount++,i.pooledCache=n,n.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:n},kh(m),i}function hv(i){return i?(i=bs,i):bs}function cv(i,n,l,u,f,m){f=hv(f),u.context===null?u.context=f:u.pendingContext=f,u=Wr(n),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Zr(i,u,n),l!==null&&(ni(l,i,n),Ia(l,i,n))}function fv(i,n){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<n?l:n}}function rf(i,n){fv(i,n),(i=i.alternate)&&fv(i,n)}function dv(i){if(i.tag===13){var n=xs(i,67108864);n!==null&&ni(n,i,67108864),rf(i,67108864)}}var ko=!0;function PE(i,n,l,u){var f=w.T;w.T=null;var m=C.p;try{C.p=2,nf(i,n,l,u)}finally{C.p=m,w.T=f}}function UE(i,n,l,u){var f=w.T;w.T=null;var m=C.p;try{C.p=8,nf(i,n,l,u)}finally{C.p=m,w.T=f}}function nf(i,n,l,u){if(ko){var f=sf(u);if(f===null)Vc(i,n,u,Ho,l),mv(i,u);else if(FE(f,i,n,l,u))u.stopPropagation();else if(mv(i,u),n&4&&-1<LE.indexOf(i)){for(;f!==null;){var m=ki(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=li(m.pendingLanes);if(b!==0){var R=m;for(R.pendingLanes|=2,R.entangledLanes|=2;b;){var U=1<<31-Te(b);R.entanglements[1]|=U,b&=~U}ji(m),(Kt&6)===0&&(Ao=Yt()+500,Za(0))}}break;case 13:R=xs(m,2),R!==null&&ni(R,m,2),wo(),rf(m,2)}if(m=sf(u),m===null&&Vc(i,n,u,Ho,l),m===f)break;f=m}f!==null&&u.stopPropagation()}else Vc(i,n,u,null,l)}}function sf(i){return i=uh(i),af(i)}var Ho=null;function af(i){if(Ho=null,i=or(i),i!==null){var n=o(i);if(n===null)i=null;else{var l=n.tag;if(l===13){if(i=h(n),i!==null)return i;i=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null)}}return Ho=i,null}function pv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case sr:return 2;case xi:return 8;case Fe:case Gr:return 32;case ar:return 268435456;default:return 32}default:return 32}}var lf=!1,hn=null,cn=null,fn=null,nl=new Map,sl=new Map,dn=[],LE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(i,n){switch(i){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function al(i,n,l,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:n,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},n!==null&&(n=ki(n),n!==null&&dv(n)),i):(i.eventSystemFlags|=u,n=i.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),i)}function FE(i,n,l,u,f){switch(n){case"focusin":return hn=al(hn,i,n,l,u,f),!0;case"dragenter":return cn=al(cn,i,n,l,u,f),!0;case"mouseover":return fn=al(fn,i,n,l,u,f),!0;case"pointerover":var m=f.pointerId;return nl.set(m,al(nl.get(m)||null,i,n,l,u,f)),!0;case"gotpointercapture":return m=f.pointerId,sl.set(m,al(sl.get(m)||null,i,n,l,u,f)),!0}return!1}function gv(i){var n=or(i.target);if(n!==null){var l=o(n);if(l!==null){if(n=l.tag,n===13){if(n=h(l),n!==null){i.blockedOn=n,Pl(i.priority,function(){if(l.tag===13){var u=ri();u=Cn(u);var f=xs(l,u);f!==null&&ni(f,l,u),rf(l,u)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function zo(i){if(i.blockedOn!==null)return!1;for(var n=i.targetContainers;0<n.length;){var l=sf(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);oh=u,l.target.dispatchEvent(u),oh=null}else return n=ki(l),n!==null&&dv(n),i.blockedOn=l,!1;n.shift()}return!0}function yv(i,n,l){zo(i)&&l.delete(n)}function GE(){lf=!1,hn!==null&&zo(hn)&&(hn=null),cn!==null&&zo(cn)&&(cn=null),fn!==null&&zo(fn)&&(fn=null),nl.forEach(yv),sl.forEach(yv)}function Xo(i,n){i.blockedOn===n&&(i.blockedOn=null,lf||(lf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,GE)))}var Vo=null;function vv(i){Vo!==i&&(Vo=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Vo===i&&(Vo=null);for(var n=0;n<i.length;n+=3){var l=i[n],u=i[n+1],f=i[n+2];if(typeof u!="function"){if(af(u||l)===null)continue;break}var m=ki(l);m!==null&&(i.splice(n,3),n-=3,sc(m,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function ll(i){function n(U){return Xo(U,i)}hn!==null&&Xo(hn,i),cn!==null&&Xo(cn,i),fn!==null&&Xo(fn,i),nl.forEach(n),sl.forEach(n);for(var l=0;l<dn.length;l++){var u=dn[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<dn.length&&(l=dn[0],l.blockedOn===null);)gv(l),l.blockedOn===null&&dn.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],m=l[u+1],b=f[_e]||null;if(typeof m=="function")b||vv(l);else if(b){var R=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[_e]||null)R=b.formAction;else if(af(f)!==null)continue}else R=b.action;typeof R=="function"?l[u+1]=R:(l.splice(u,3),u-=3),vv(l)}}}function of(i){this._internalRoot=i}jo.prototype.render=of.prototype.render=function(i){var n=this._internalRoot;if(n===null)throw Error(r(409));var l=n.current,u=ri();cv(l,u,i,n,null,null)},jo.prototype.unmount=of.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var n=i.containerInfo;cv(i.current,2,null,i,null,null),wo(),n[Gi]=null}};function jo(i){this._internalRoot=i}jo.prototype.unstable_scheduleHydration=function(i){if(i){var n=qe();i={blockedOn:null,target:i,priority:n};for(var l=0;l<dn.length&&n!==0&&n<dn[l].priority;l++);dn.splice(l,0,i),l===0&&gv(i)}};var _v=t.version;if(_v!=="19.1.0")throw Error(r(527,_v,"19.1.0"));C.findDOMNode=function(i){var n=i._reactInternals;if(n===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(n),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var kE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{Rn=qo.inject(kE),Ge=qo}catch{}}return ul.createRoot=function(i,n){if(!a(i))throw Error(r(299));var l=!1,u="",f=Pg,m=Ug,b=Lg,R=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(R=n.unstable_transitionCallbacks)),n=uv(i,1,!1,null,null,l,u,f,m,b,R,null),i[Gi]=n.current,Xc(i),new of(n)},ul.hydrateRoot=function(i,n,l){if(!a(i))throw Error(r(299));var u=!1,f="",m=Pg,b=Ug,R=Lg,U=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),n=uv(i,1,!0,n,l??null,u,f,m,b,R,U,q),n.context=hv(null),l=n.current,u=ri(),u=Cn(u),f=Wr(u),f.callback=null,Zr(l,f,u),l=u,n.current.lanes=l,je(n,l),ji(n),i[Gi]=n.current,Xc(i),new jo(n)},ul.version="19.1.0",ul}var Mv;function KE(){if(Mv)return hf.exports;Mv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),hf.exports=ZE(),hf.exports}var QE=KE();const JE="modulepreload",tT=function(s){return"/phaser-test/"+s},Dv={},Sn=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=d(e.map(p=>{if(p=tT(p),p in Dv)return;Dv[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":JE,g||(v.as="script"),v.crossOrigin="",v.href=p,c&&v.setAttribute("nonce",c),document.head.appendChild(v),g)return new Promise((_,x)=>{v.addEventListener("load",_),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};var nt=Ep(),hl={},Ov;function eT(){if(Ov)return hl;Ov=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.parse=h,hl.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function h(v,_){const x=new o,S=v.length;if(S<2)return x;const A=_?.decode||g;let T=0;do{const I=v.indexOf("=",T);if(I===-1)break;const D=v.indexOf(";",T),P=D===-1?S:D;if(I>P){T=v.lastIndexOf(";",I-1)+1;continue}const O=c(v,T,I),X=d(v,I,O),B=v.slice(O,X);if(x[B]===void 0){let V=c(v,I+1,P),tt=d(v,P,V);const at=A(v.slice(V,tt));x[B]=at}T=P+1}while(T<S);return x}function c(v,_,x){do{const S=v.charCodeAt(_);if(S!==32&&S!==9)return _}while(++_<x);return x}function d(v,_,x){for(;_>x;){const S=v.charCodeAt(--_);if(S!==32&&S!==9)return _+1}return x}function p(v,_,x){const S=x?.encode||encodeURIComponent;if(!s.test(v))throw new TypeError(`argument name is invalid: ${v}`);const A=S(_);if(!t.test(A))throw new TypeError(`argument val is invalid: ${_}`);let T=v+"="+A;if(!x)return T;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);T+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);T+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);T+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);T+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(T+="; HttpOnly"),x.secure&&(T+="; Secure"),x.partitioned&&(T+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return T}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return a.call(v)==="[object Date]"}return hl}eT();var Bv="popstate";function iT(s={}){function t(r,a){let{pathname:o,search:h,hash:c}=r.location;return Ld("",{pathname:o,search:h,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(r,a){return typeof a=="string"?a:wl(a)}return nT(t,e,null,s)}function he(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function er(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rT(){return Math.random().toString(36).substring(2,10)}function Iv(s,t){return{usr:s.state,key:s.key,idx:t}}function Ld(s,t,e=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?la(t):t,state:e,key:t&&t.key||r||rT()}}function wl({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function la(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function nT(s,t,e,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,h=a.history,c="POP",d=null,p=g();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function g(){return(h.state||{idx:null}).idx}function y(){c="POP";let A=g(),T=A==null?null:A-p;p=A,d&&d({action:c,location:S.location,delta:T})}function v(A,T){c="PUSH";let I=Ld(S.location,A,T);p=g()+1;let D=Iv(I,p),P=S.createHref(I);try{h.pushState(D,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(P)}o&&d&&d({action:c,location:S.location,delta:1})}function _(A,T){c="REPLACE";let I=Ld(S.location,A,T);p=g();let D=Iv(I,p),P=S.createHref(I);h.replaceState(D,"",P),o&&d&&d({action:c,location:S.location,delta:0})}function x(A){return sT(A)}let S={get action(){return c},get location(){return s(a,h)},listen(A){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Bv,y),d=A,()=>{a.removeEventListener(Bv,y),d=null}},createHref(A){return t(a,A)},createURL:x,encodeLocation(A){let T=x(A);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:_,go(A){return h.go(A)}};return S}function sT(s,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),he(e,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:wl(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function X_(s,t,e="/"){return aT(s,t,e,!1)}function aT(s,t,e,r){let a=typeof t=="string"?la(t):t,o=Pr(a.pathname||"/",e);if(o==null)return null;let h=V_(s);lT(h);let c=null;for(let d=0;c==null&&d<h.length;++d){let p=vT(o);c=gT(h[d],p,r)}return c}function V_(s,t=[],e=[],r=""){let a=(o,h,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:h,route:o};d.relativePath.startsWith("/")&&(he(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Nr([r,d.relativePath]),g=e.concat(d);o.children&&o.children.length>0&&(he(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),V_(o.children,t,g,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:pT(p,o.index),routesMeta:g})};return s.forEach((o,h)=>{if(o.path===""||!o.path?.includes("?"))a(o,h);else for(let c of j_(o.path))a(o,h,c)}),t}function j_(s){let t=s.split("/");if(t.length===0)return[];let[e,...r]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let h=j_(r.join("/")),c=[];return c.push(...h.map(d=>d===""?o:[o,d].join("/"))),a&&c.push(...h),c.map(d=>s.startsWith("/")&&d===""?"/":d)}function lT(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:mT(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var oT=/^:[\w-]+$/,uT=3,hT=2,cT=1,fT=10,dT=-2,Nv=s=>s==="*";function pT(s,t){let e=s.split("/"),r=e.length;return e.some(Nv)&&(r+=dT),t&&(r+=hT),e.filter(a=>!Nv(a)).reduce((a,o)=>a+(oT.test(o)?uT:o===""?cT:fT),r)}function mT(s,t){return s.length===t.length&&s.slice(0,-1).every((r,a)=>r===t[a])?s[s.length-1]-t[t.length-1]:0}function gT(s,t,e=!1){let{routesMeta:r}=s,a={},o="/",h=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=Ru({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),v=d.route;if(!y&&p&&e&&!r[r.length-1].route.index&&(y=Ru({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),h.push({params:a,pathname:Nr([o,y.pathname]),pathnameBase:ET(Nr([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Nr([o,y.pathnameBase]))}return h}function Ru(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,r]=yT(s.path,s.caseSensitive,s.end),a=t.match(e);if(!a)return null;let o=a[0],h=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},v)=>{if(g==="*"){let x=c[v]||"";h=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const _=c[v];return y&&!_?p[g]=void 0:p[g]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:h,pattern:s}}function yT(s,t=!1,e=!0){er(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function vT(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return er(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Pr(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=s.charAt(e);return r&&r!=="/"?null:s.slice(e)||"/"}function _T(s,t="/"){let{pathname:e,search:r="",hash:a=""}=typeof s=="string"?la(s):s;return{pathname:e?e.startsWith("/")?e:xT(e,t):t,search:TT(r),hash:AT(a)}}function xT(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function mf(s,t,e,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bT(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function q_(s){let t=bT(s);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function Y_(s,t,e,r=!1){let a;typeof s=="string"?a=la(s):(a={...s},he(!a.pathname||!a.pathname.includes("?"),mf("?","pathname","search",a)),he(!a.pathname||!a.pathname.includes("#"),mf("#","pathname","hash",a)),he(!a.search||!a.search.includes("#"),mf("#","search","hash",a)));let o=s===""||a.pathname==="",h=o?"/":a.pathname,c;if(h==null)c=e;else{let y=t.length-1;if(!r&&h.startsWith("..")){let v=h.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}c=y>=0?t[y]:"/"}let d=_T(a,c),p=h&&h!=="/"&&h.endsWith("/"),g=(o||h===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var Nr=s=>s.join("/").replace(/\/\/+/g,"/"),ET=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),TT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,AT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ST(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var $_=["POST","PUT","PATCH","DELETE"];new Set($_);var wT=["GET",...$_];new Set(wT);var oa=nt.createContext(null);oa.displayName="DataRouter";var zu=nt.createContext(null);zu.displayName="DataRouterState";var W_=nt.createContext({isTransitioning:!1});W_.displayName="ViewTransition";var RT=nt.createContext(new Map);RT.displayName="Fetchers";var CT=nt.createContext(null);CT.displayName="Await";var rr=nt.createContext(null);rr.displayName="Navigation";var Cl=nt.createContext(null);Cl.displayName="Location";var Fr=nt.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var Tp=nt.createContext(null);Tp.displayName="RouteError";function MT(s,{relative:t}={}){he(Ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=nt.useContext(rr),{hash:a,pathname:o,search:h}=Dl(s,{relative:t}),c=o;return e!=="/"&&(c=o==="/"?e:Nr([e,o])),r.createHref({pathname:c,search:h,hash:a})}function Ml(){return nt.useContext(Cl)!=null}function ls(){return he(Ml(),"useLocation() may be used only in the context of a <Router> component."),nt.useContext(Cl).location}var Z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K_(s){nt.useContext(rr).static||nt.useLayoutEffect(s)}function DT(){let{isDataRoute:s}=nt.useContext(Fr);return s?XT():OT()}function OT(){he(Ml(),"useNavigate() may be used only in the context of a <Router> component.");let s=nt.useContext(oa),{basename:t,navigator:e}=nt.useContext(rr),{matches:r}=nt.useContext(Fr),{pathname:a}=ls(),o=JSON.stringify(q_(r)),h=nt.useRef(!1);return K_(()=>{h.current=!0}),nt.useCallback((d,p={})=>{if(er(h.current,Z_),!h.current)return;if(typeof d=="number"){e.go(d);return}let g=Y_(d,JSON.parse(o),a,p.relative==="path");s==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Nr([t,g.pathname])),(p.replace?e.replace:e.push)(g,p.state,p)},[t,e,o,a,s])}nt.createContext(null);function Dl(s,{relative:t}={}){let{matches:e}=nt.useContext(Fr),{pathname:r}=ls(),a=JSON.stringify(q_(e));return nt.useMemo(()=>Y_(s,JSON.parse(a),r,t==="path"),[s,a,r,t])}function BT(s,t){return Q_(s,t)}function Q_(s,t,e,r){he(Ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=nt.useContext(rr),{matches:o}=nt.useContext(Fr),h=o[o.length-1],c=h?h.params:{},d=h?h.pathname:"/",p=h?h.pathnameBase:"/",g=h&&h.route;{let T=g&&g.path||"";J_(d,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=ls(),v;if(t){let T=typeof t=="string"?la(t):t;he(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=y;let _=v.pathname||"/",x=_;if(p!=="/"){let T=p.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=X_(s,{pathname:x});er(g||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),er(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=LT(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:Nr([p,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Nr([p,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,e,r);return t&&A?nt.createElement(Cl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function IT(){let s=zT(),t=ST(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=nt.createElement(nt.Fragment,null,nt.createElement("p",null," Hey developer "),nt.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",nt.createElement("code",{style:o},"ErrorBoundary")," or"," ",nt.createElement("code",{style:o},"errorElement")," prop on your route.")),nt.createElement(nt.Fragment,null,nt.createElement("h2",null,"Unexpected Application Error!"),nt.createElement("h3",{style:{fontStyle:"italic"}},t),e?nt.createElement("pre",{style:a},e):null,h)}var NT=nt.createElement(IT,null),PT=class extends nt.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?nt.createElement(Fr.Provider,{value:this.props.routeContext},nt.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UT({routeContext:s,match:t,children:e}){let r=nt.useContext(oa);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),nt.createElement(Fr.Provider,{value:s},e)}function LT(s,t=[],e=null,r=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let a=s,o=e?.errors;if(o!=null){let d=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);he(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let h=!1,c=-1;if(e)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:g,errors:y}=e,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){h=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,p,g)=>{let y,v=!1,_=null,x=null;e&&(y=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||NT,h&&(c<0&&g===0?(J_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===g&&(v=!0,x=p.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,g+1)),A=()=>{let T;return y?T=_:v?T=x:p.route.Component?T=nt.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=d,nt.createElement(UT,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:e!=null},children:T})};return e&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?nt.createElement(PT,{location:e.location,revalidation:e.revalidation,component:_,error:y,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}function Ap(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(s){let t=nt.useContext(oa);return he(t,Ap(s)),t}function GT(s){let t=nt.useContext(zu);return he(t,Ap(s)),t}function kT(s){let t=nt.useContext(Fr);return he(t,Ap(s)),t}function Sp(s){let t=kT(s),e=t.matches[t.matches.length-1];return he(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function HT(){return Sp("useRouteId")}function zT(){let s=nt.useContext(Tp),t=GT("useRouteError"),e=Sp("useRouteError");return s!==void 0?s:t.errors?.[e]}function XT(){let{router:s}=FT("useNavigate"),t=Sp("useNavigate"),e=nt.useRef(!1);return K_(()=>{e.current=!0}),nt.useCallback(async(a,o={})=>{er(e.current,Z_),e.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:t,...o}))},[s,t])}var Pv={};function J_(s,t,e){!t&&!Pv[s]&&(Pv[s]=!0,er(!1,e))}nt.memo(VT);function VT({routes:s,future:t,state:e}){return Q_(s,void 0,e,t)}function Ci(s){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jT({basename:s="/",children:t=null,location:e,navigationType:r="POP",navigator:a,static:o=!1}){he(!Ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),c=nt.useMemo(()=>({basename:h,navigator:a,static:o,future:{}}),[h,a,o]);typeof e=="string"&&(e=la(e));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:v="default"}=e,_=nt.useMemo(()=>{let x=Pr(d,h);return x==null?null:{location:{pathname:x,search:p,hash:g,state:y,key:v},navigationType:r}},[h,d,p,g,y,v,r]);return er(_!=null,`<Router basename="${h}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:nt.createElement(rr.Provider,{value:c},nt.createElement(Cl.Provider,{children:t,value:_}))}function qT({children:s,location:t}){return BT(Fd(s),t)}function Fd(s,t=[]){let e=[];return nt.Children.forEach(s,(r,a)=>{if(!nt.isValidElement(r))return;let o=[...t,a];if(r.type===nt.Fragment){e.push.apply(e,Fd(r.props.children,o));return}he(r.type===Ci,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Fd(r.props.children,o)),e.push(h)}),e}var gu="get",yu="application/x-www-form-urlencoded";function Xu(s){return s!=null&&typeof s.tagName=="string"}function YT(s){return Xu(s)&&s.tagName.toLowerCase()==="button"}function $T(s){return Xu(s)&&s.tagName.toLowerCase()==="form"}function WT(s){return Xu(s)&&s.tagName.toLowerCase()==="input"}function ZT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function KT(s,t){return s.button===0&&(!t||t==="_self")&&!ZT(s)}var Yo=null;function QT(){if(Yo===null)try{new FormData(document.createElement("form"),0),Yo=!1}catch{Yo=!0}return Yo}var JT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gf(s){return s!=null&&!JT.has(s)?(er(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yu}"`),null):s}function tA(s,t){let e,r,a,o,h;if($T(s)){let c=s.getAttribute("action");r=c?Pr(c,t):null,e=s.getAttribute("method")||gu,a=gf(s.getAttribute("enctype"))||yu,o=new FormData(s)}else if(YT(s)||WT(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||c.getAttribute("action");if(r=d?Pr(d,t):null,e=s.getAttribute("formmethod")||c.getAttribute("method")||gu,a=gf(s.getAttribute("formenctype"))||gf(c.getAttribute("enctype"))||yu,o=new FormData(c,s),!QT()){let{name:p,type:g,value:y}=s;if(g==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,y)}}else{if(Xu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=gu,r=null,a=yu,h=s}return o&&a==="text/plain"&&(h=o,o=void 0),{action:r,method:e.toLowerCase(),encType:a,formData:o,body:h}}function wp(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function eA(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iA(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function rA(s,t,e){let r=await Promise.all(s.map(async a=>{let o=t.routes[a.route.id];if(o){let h=await eA(o,e);return h.links?h.links():[]}return[]}));return lA(r.flat(1).filter(iA).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Uv(s,t,e,r,a,o){let h=(d,p)=>e[p]?d.route.id!==e[p].route.id:!0,c=(d,p)=>e[p].pathname!==d.pathname||e[p].route.path?.endsWith("*")&&e[p].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,p)=>h(d,p)||c(d,p)):o==="data"?t.filter((d,p)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(h(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function nA(s,t,{includeHydrateFallback:e}={}){return sA(s.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function sA(s){return[...new Set(s)]}function aA(s){let t={},e=Object.keys(s).sort();for(let r of e)t[r]=s[r];return t}function lA(s,t){let e=new Set;return new Set(t),s.reduce((r,a)=>{let o=JSON.stringify(aA(a));return e.has(o)||(e.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oA=new Set([100,101,204,205]);function uA(s,t){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":t&&Pr(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function tx(){let s=nt.useContext(oa);return wp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function hA(){let s=nt.useContext(zu);return wp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Rp=nt.createContext(void 0);Rp.displayName="FrameworkContext";function ex(){let s=nt.useContext(Rp);return wp(s,"You must render this element inside a <HydratedRouter> element"),s}function cA(s,t){let e=nt.useContext(Rp),[r,a]=nt.useState(!1),[o,h]=nt.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,v=nt.useRef(null);nt.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let S=T=>{T.forEach(I=>{h(I.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[s]),nt.useEffect(()=>{if(r){let S=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(S)}}},[r]);let _=()=>{a(!0)},x=()=>{a(!1),h(!1)};return e?s!=="intent"?[o,v,{}]:[o,v,{onFocus:cl(c,_),onBlur:cl(d,x),onMouseEnter:cl(p,_),onMouseLeave:cl(g,x),onTouchStart:cl(y,_)}]:[!1,v,{}]}function cl(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function fA({page:s,...t}){let{router:e}=tx(),r=nt.useMemo(()=>X_(e.routes,s,e.basename),[e.routes,s,e.basename]);return r?nt.createElement(pA,{page:s,matches:r,...t}):null}function dA(s){let{manifest:t,routeModules:e}=ex(),[r,a]=nt.useState([]);return nt.useEffect(()=>{let o=!1;return rA(s,t,e).then(h=>{o||a(h)}),()=>{o=!0}},[s,t,e]),r}function pA({page:s,matches:t,...e}){let r=ls(),{manifest:a,routeModules:o}=ex(),{basename:h}=tx(),{loaderData:c,matches:d}=hA(),p=nt.useMemo(()=>Uv(s,t,d,a,r,"data"),[s,t,d,a,r]),g=nt.useMemo(()=>Uv(s,t,d,a,r,"assets"),[s,t,d,a,r]),y=nt.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let x=new Set,S=!1;if(t.forEach(T=>{let I=a.routes[T.route.id];!I||!I.hasLoader||(!p.some(D=>D.route.id===T.route.id)&&T.route.id in c&&o[T.route.id]?.shouldRevalidate||I.hasClientLoader?S=!0:x.add(T.route.id))}),x.size===0)return[];let A=uA(s,h);return S&&x.size>0&&A.searchParams.set("_routes",t.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[A.pathname+A.search]},[h,c,r,a,p,t,s,o]),v=nt.useMemo(()=>nA(g,a),[g,a]),_=dA(g);return nt.createElement(nt.Fragment,null,y.map(x=>nt.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),v.map(x=>nt.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),_.map(({key:x,link:S})=>nt.createElement("link",{key:x,...S})))}function mA(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ix&&(window.__reactRouterVersion="7.6.3")}catch{}function gA({basename:s,children:t,window:e}){let r=nt.useRef();r.current==null&&(r.current=iT({window:e,v5Compat:!0}));let a=r.current,[o,h]=nt.useState({action:a.action,location:a.location}),c=nt.useCallback(d=>{nt.startTransition(()=>h(d))},[h]);return nt.useLayoutEffect(()=>a.listen(c),[a,c]),nt.createElement(jT,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:a})}var rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oi=nt.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:a,reloadDocument:o,replace:h,state:c,target:d,to:p,preventScrollReset:g,viewTransition:y,...v},_){let{basename:x}=nt.useContext(rr),S=typeof p=="string"&&rx.test(p),A,T=!1;if(typeof p=="string"&&S&&(A=p,ix))try{let tt=new URL(window.location.href),at=p.startsWith("//")?new URL(tt.protocol+p):new URL(p),et=Pr(at.pathname,x);at.origin===tt.origin&&et!=null?p=et+at.search+at.hash:T=!0}catch{er(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=MT(p,{relative:a}),[D,P,O]=cA(r,v),X=xA(p,{replace:h,state:c,target:d,preventScrollReset:g,relative:a,viewTransition:y});function B(tt){t&&t(tt),tt.defaultPrevented||X(tt)}let V=nt.createElement("a",{...v,...O,href:A||I,onClick:T||o?t:B,ref:mA(_,P),target:d,"data-discover":!S&&e==="render"?"true":void 0});return D&&!S?nt.createElement(nt.Fragment,null,V,nt.createElement(fA,{page:I})):V});Oi.displayName="Link";var yA=nt.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:a=!1,style:o,to:h,viewTransition:c,children:d,...p},g){let y=Dl(h,{relative:p.relative}),v=ls(),_=nt.useContext(zu),{navigator:x,basename:S}=nt.useContext(rr),A=_!=null&&SA(y)&&c===!0,T=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,I=v.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;e||(I=I.toLowerCase(),D=D?D.toLowerCase():null,T=T.toLowerCase()),D&&S&&(D=Pr(D,S)||D);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let O=I===T||!a&&I.startsWith(T)&&I.charAt(P)==="/",X=D!=null&&(D===T||!a&&D.startsWith(T)&&D.charAt(T.length)==="/"),B={isActive:O,isPending:X,isTransitioning:A},V=O?t:void 0,tt;typeof r=="function"?tt=r(B):tt=[r,O?"active":null,X?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let at=typeof o=="function"?o(B):o;return nt.createElement(Oi,{...p,"aria-current":V,className:tt,ref:g,style:at,to:h,viewTransition:c},typeof d=="function"?d(B):d)});yA.displayName="NavLink";var vA=nt.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:a,state:o,method:h=gu,action:c,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,...v},_)=>{let x=TA(),S=AA(c,{relative:p}),A=h.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&rx.test(c),I=D=>{if(d&&d(D),D.defaultPrevented)return;D.preventDefault();let P=D.nativeEvent.submitter,O=P?.getAttribute("formmethod")||h;x(P||D.currentTarget,{fetcherKey:t,method:O,navigate:e,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:y})};return nt.createElement("form",{ref:_,method:A,action:S,onSubmit:r?d:I,...v,"data-discover":!T&&s==="render"?"true":void 0})});vA.displayName="Form";function _A(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nx(s){let t=nt.useContext(oa);return he(t,_A(s)),t}function xA(s,{target:t,replace:e,state:r,preventScrollReset:a,relative:o,viewTransition:h}={}){let c=DT(),d=ls(),p=Dl(s,{relative:o});return nt.useCallback(g=>{if(KT(g,t)){g.preventDefault();let y=e!==void 0?e:wl(d)===wl(p);c(s,{replace:y,state:r,preventScrollReset:a,relative:o,viewTransition:h})}},[d,c,p,e,r,t,s,a,o,h])}var bA=0,EA=()=>`__${String(++bA)}__`;function TA(){let{router:s}=nx("useSubmit"),{basename:t}=nt.useContext(rr),e=HT();return nt.useCallback(async(r,a={})=>{let{action:o,method:h,encType:c,formData:d,body:p}=tA(r,t);if(a.navigate===!1){let g=a.fetcherKey||EA();await s.fetch(g,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||h,formEncType:a.encType||c,flushSync:a.flushSync})}else await s.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||h,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,t,e])}function AA(s,{relative:t}={}){let{basename:e}=nt.useContext(rr),r=nt.useContext(Fr);he(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Dl(s||".",{relative:t})},h=ls();if(s==null){o.search=h.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();o.search=g?`?${g}`:""}}return(!s||s===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Nr([e,o.pathname])),wl(o)}function SA(s,t={}){let e=nt.useContext(W_);he(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nx("useViewTransitionState"),a=Dl(s,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Pr(e.currentLocation.pathname,r)||e.currentLocation.pathname,h=Pr(e.nextLocation.pathname,r)||e.nextLocation.pathname;return Ru(a.pathname,h)!=null||Ru(a.pathname,o)!=null}[...oA];var os=(s=>(s[s.WEBGL_LEGACY=0]="WEBGL_LEGACY",s[s.WEBGL=1]="WEBGL",s[s.WEBGL2=2]="WEBGL2",s))(os||{}),sx=(s=>(s[s.UNKNOWN=0]="UNKNOWN",s[s.WEBGL=1]="WEBGL",s[s.CANVAS=2]="CANVAS",s))(sx||{}),Gd=(s=>(s[s.COLOR=16384]="COLOR",s[s.DEPTH=256]="DEPTH",s[s.STENCIL=1024]="STENCIL",s))(Gd||{}),Dt=(s=>(s[s.NORMAL=0]="NORMAL",s[s.ADD=1]="ADD",s[s.MULTIPLY=2]="MULTIPLY",s[s.SCREEN=3]="SCREEN",s[s.OVERLAY=4]="OVERLAY",s[s.DARKEN=5]="DARKEN",s[s.LIGHTEN=6]="LIGHTEN",s[s.COLOR_DODGE=7]="COLOR_DODGE",s[s.COLOR_BURN=8]="COLOR_BURN",s[s.HARD_LIGHT=9]="HARD_LIGHT",s[s.SOFT_LIGHT=10]="SOFT_LIGHT",s[s.DIFFERENCE=11]="DIFFERENCE",s[s.EXCLUSION=12]="EXCLUSION",s[s.HUE=13]="HUE",s[s.SATURATION=14]="SATURATION",s[s.COLOR=15]="COLOR",s[s.LUMINOSITY=16]="LUMINOSITY",s[s.NORMAL_NPM=17]="NORMAL_NPM",s[s.ADD_NPM=18]="ADD_NPM",s[s.SCREEN_NPM=19]="SCREEN_NPM",s[s.NONE=20]="NONE",s[s.SRC_OVER=0]="SRC_OVER",s[s.SRC_IN=21]="SRC_IN",s[s.SRC_OUT=22]="SRC_OUT",s[s.SRC_ATOP=23]="SRC_ATOP",s[s.DST_OVER=24]="DST_OVER",s[s.DST_IN=25]="DST_IN",s[s.DST_OUT=26]="DST_OUT",s[s.DST_ATOP=27]="DST_ATOP",s[s.ERASE=26]="ERASE",s[s.SUBTRACT=28]="SUBTRACT",s[s.XOR=29]="XOR",s))(Dt||{}),Qi=(s=>(s[s.POINTS=0]="POINTS",s[s.LINES=1]="LINES",s[s.LINE_LOOP=2]="LINE_LOOP",s[s.LINE_STRIP=3]="LINE_STRIP",s[s.TRIANGLES=4]="TRIANGLES",s[s.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",s[s.TRIANGLE_FAN=6]="TRIANGLE_FAN",s))(Qi||{}),ht=(s=>(s[s.RGBA=6408]="RGBA",s[s.RGB=6407]="RGB",s[s.RG=33319]="RG",s[s.RED=6403]="RED",s[s.RGBA_INTEGER=36249]="RGBA_INTEGER",s[s.RGB_INTEGER=36248]="RGB_INTEGER",s[s.RG_INTEGER=33320]="RG_INTEGER",s[s.RED_INTEGER=36244]="RED_INTEGER",s[s.ALPHA=6406]="ALPHA",s[s.LUMINANCE=6409]="LUMINANCE",s[s.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",s[s.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",s[s.DEPTH_STENCIL=34041]="DEPTH_STENCIL",s))(ht||{}),ta=(s=>(s[s.TEXTURE_2D=3553]="TEXTURE_2D",s[s.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",s[s.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",s[s.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",s[s.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",s[s.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",s[s.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",s))(ta||{}),Rt=(s=>(s[s.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",s[s.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",s[s.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",s[s.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",s[s.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",s[s.UNSIGNED_INT=5125]="UNSIGNED_INT",s[s.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",s[s.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",s[s.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",s[s.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",s[s.BYTE=5120]="BYTE",s[s.SHORT=5122]="SHORT",s[s.INT=5124]="INT",s[s.FLOAT=5126]="FLOAT",s[s.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",s[s.HALF_FLOAT=36193]="HALF_FLOAT",s))(Rt||{}),mt=(s=>(s[s.FLOAT=0]="FLOAT",s[s.INT=1]="INT",s[s.UINT=2]="UINT",s))(mt||{}),Dr=(s=>(s[s.NEAREST=0]="NEAREST",s[s.LINEAR=1]="LINEAR",s))(Dr||{}),En=(s=>(s[s.CLAMP=33071]="CLAMP",s[s.REPEAT=10497]="REPEAT",s[s.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",s))(En||{}),ir=(s=>(s[s.OFF=0]="OFF",s[s.POW2=1]="POW2",s[s.ON=2]="ON",s[s.ON_MANUAL=3]="ON_MANUAL",s))(ir||{}),Ke=(s=>(s[s.NPM=0]="NPM",s[s.UNPACK=1]="UNPACK",s[s.PMA=2]="PMA",s[s.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",s[s.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",s[s.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",s))(Ke||{}),Ki=(s=>(s[s.NO=0]="NO",s[s.YES=1]="YES",s[s.AUTO=2]="AUTO",s[s.BLEND=0]="BLEND",s[s.CLEAR=1]="CLEAR",s[s.BLIT=2]="BLIT",s))(Ki||{}),Cp=(s=>(s[s.AUTO=0]="AUTO",s[s.MANUAL=1]="MANUAL",s))(Cp||{}),vi=(s=>(s.LOW="lowp",s.MEDIUM="mediump",s.HIGH="highp",s))(vi||{}),Re=(s=>(s[s.NONE=0]="NONE",s[s.SCISSOR=1]="SCISSOR",s[s.STENCIL=2]="STENCIL",s[s.SPRITE=3]="SPRITE",s[s.COLOR=4]="COLOR",s))(Re||{}),Ee=(s=>(s[s.NONE=0]="NONE",s[s.LOW=2]="LOW",s[s.MEDIUM=4]="MEDIUM",s[s.HIGH=8]="HIGH",s))(Ee||{}),Ji=(s=>(s[s.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",s[s.ARRAY_BUFFER=34962]="ARRAY_BUFFER",s[s.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",s))(Ji||{});const wA={createCanvas:(s,t)=>{const e=document.createElement("canvas");return e.width=s,e.height=t,e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")},gt={ADAPTER:wA,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var yf=/iPhone/i,Lv=/iPod/i,Fv=/iPad/i,Gv=/\biOS-universal(?:.+)Mac\b/i,vf=/\bAndroid(?:.+)Mobile\b/i,kv=/Android/i,js=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,$o=/Silk/i,Rr=/Windows Phone/i,Hv=/\bWindows(?:.+)ARM\b/i,zv=/BlackBerry/i,Xv=/BB10/i,Vv=/Opera Mini/i,jv=/\b(CriOS|Chrome)(?:.+)Mobile/i,qv=/Mobile(?:.+)Firefox\b/i,Yv=function(s){return typeof s<"u"&&s.platform==="MacIntel"&&typeof s.maxTouchPoints=="number"&&s.maxTouchPoints>1&&typeof MSStream>"u"};function RA(s){return function(t){return t.test(s)}}function $v(s){var t={userAgent:"",platform:"",maxTouchPoints:0};!s&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof s=="string"?t.userAgent=s:s&&s.userAgent&&(t={userAgent:s.userAgent,platform:s.platform,maxTouchPoints:s.maxTouchPoints||0});var e=t.userAgent,r=e.split("[FBAN");typeof r[1]<"u"&&(e=r[0]),r=e.split("Twitter"),typeof r[1]<"u"&&(e=r[0]);var a=RA(e),o={apple:{phone:a(yf)&&!a(Rr),ipod:a(Lv),tablet:!a(yf)&&(a(Fv)||Yv(t))&&!a(Rr),universal:a(Gv),device:(a(yf)||a(Lv)||a(Fv)||a(Gv)||Yv(t))&&!a(Rr)},amazon:{phone:a(js),tablet:!a(js)&&a($o),device:a(js)||a($o)},android:{phone:!a(Rr)&&a(js)||!a(Rr)&&a(vf),tablet:!a(Rr)&&!a(js)&&!a(vf)&&(a($o)||a(kv)),device:!a(Rr)&&(a(js)||a($o)||a(vf)||a(kv))||a(/\bokhttp\b/i)},windows:{phone:a(Rr),tablet:a(Hv),device:a(Rr)||a(Hv)},other:{blackberry:a(zv),blackberry10:a(Xv),opera:a(Vv),firefox:a(qv),chrome:a(jv),device:a(zv)||a(Xv)||a(Vv)||a(qv)||a(jv)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const CA=$v.default??$v,Or=CA(globalThis.navigator);gt.RETINA_PREFIX=/@([0-9\.]+)x/;gt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var _f={exports:{}},Wv;function MA(){return Wv||(Wv=1,function(s){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function a(d,p,g){this.fn=d,this.context=p,this.once=g||!1}function o(d,p,g,y,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new a(g,y||d,v),x=e?e+p:p;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],_]:d._events[x].push(_):(d._events[x]=_,d._eventsCount++),d}function h(d,p){--d._eventsCount===0?d._events=new r:delete d._events[p]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var p=[],g,y;if(this._eventsCount===0)return p;for(y in g=this._events)t.call(g,y)&&p.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},c.prototype.listeners=function(p){var g=e?e+p:p,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,_=y.length,x=new Array(_);v<_;v++)x[v]=y[v].fn;return x},c.prototype.listenerCount=function(p){var g=e?e+p:p,y=this._events[g];return y?y.fn?1:y.length:0},c.prototype.emit=function(p,g,y,v,_,x){var S=e?e+p:p;if(!this._events[S])return!1;var A=this._events[S],T=arguments.length,I,D;if(A.fn){switch(A.once&&this.removeListener(p,A.fn,void 0,!0),T){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,y),!0;case 4:return A.fn.call(A.context,g,y,v),!0;case 5:return A.fn.call(A.context,g,y,v,_),!0;case 6:return A.fn.call(A.context,g,y,v,_,x),!0}for(D=1,I=new Array(T-1);D<T;D++)I[D-1]=arguments[D];A.fn.apply(A.context,I)}else{var P=A.length,O;for(D=0;D<P;D++)switch(A[D].once&&this.removeListener(p,A[D].fn,void 0,!0),T){case 1:A[D].fn.call(A[D].context);break;case 2:A[D].fn.call(A[D].context,g);break;case 3:A[D].fn.call(A[D].context,g,y);break;case 4:A[D].fn.call(A[D].context,g,y,v);break;default:if(!I)for(O=1,I=new Array(T-1);O<T;O++)I[O-1]=arguments[O];A[D].fn.apply(A[D].context,I)}}return!0},c.prototype.on=function(p,g,y){return o(this,p,g,y,!1)},c.prototype.once=function(p,g,y){return o(this,p,g,y,!0)},c.prototype.removeListener=function(p,g,y,v){var _=e?e+p:p;if(!this._events[_])return this;if(!g)return h(this,_),this;var x=this._events[_];if(x.fn)x.fn===g&&(!v||x.once)&&(!y||x.context===y)&&h(this,_);else{for(var S=0,A=[],T=x.length;S<T;S++)(x[S].fn!==g||v&&!x[S].once||y&&x[S].context!==y)&&A.push(x[S]);A.length?this._events[_]=A.length===1?A[0]:A:h(this,_)}return this},c.prototype.removeAllListeners=function(p){var g;return p?(g=e?e+p:p,this._events[g]&&h(this,g)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=e,c.EventEmitter=c,s.exports=c}(_f)),_f.exports}var DA=MA();const Ol=z_(DA);var Wo={exports:{}},Zv;function OA(){if(Zv)return Wo.exports;Zv=1,Wo.exports=s,Wo.exports.default=s;function s(w,C,M){M=M||2;var k=C&&C.length,E=k?C[0]*M:w.length,N=t(w,0,E,M,!0),F=[];if(!N||N.next===N.prev)return F;var L,$,rt,lt,ft,ct,yt;if(k&&(N=d(w,C,N,M)),w.length>80*M){L=rt=w[0],$=lt=w[1];for(var ut=M;ut<E;ut+=M)ft=w[ut],ct=w[ut+1],ft<L&&(L=ft),ct<$&&($=ct),ft>rt&&(rt=ft),ct>lt&&(lt=ct);yt=Math.max(rt-L,lt-$),yt=yt!==0?32767/yt:0}return r(N,F,M,L,$,yt,0),F}function t(w,C,M,k,E){var N,F;if(E===dt(w,C,M,k)>0)for(N=C;N<M;N+=k)F=H(N,w[N],w[N+1],F);else for(N=M-k;N>=C;N-=k)F=H(N,w[N],w[N+1],F);return F&&P(F,F.next)&&(Q(F),F=F.next),F}function e(w,C){if(!w)return w;C||(C=w);var M=w,k;do if(k=!1,!M.steiner&&(P(M,M.next)||D(M.prev,M,M.next)===0)){if(Q(M),M=C=M.prev,M===M.next)break;k=!0}else M=M.next;while(k||M!==C);return C}function r(w,C,M,k,E,N,F){if(w){!F&&N&&_(w,k,E,N);for(var L=w,$,rt;w.prev!==w.next;){if($=w.prev,rt=w.next,N?o(w,k,E,N):a(w)){C.push($.i/M|0),C.push(w.i/M|0),C.push(rt.i/M|0),Q(w),w=rt.next,L=rt.next;continue}if(w=rt,w===L){F?F===1?(w=h(e(w),C,M),r(w,C,M,k,E,N,2)):F===2&&c(w,C,M,k,E,N):r(e(w),C,M,k,E,N,1);break}}}}function a(w){var C=w.prev,M=w,k=w.next;if(D(C,M,k)>=0)return!1;for(var E=C.x,N=M.x,F=k.x,L=C.y,$=M.y,rt=k.y,lt=E<N?E<F?E:F:N<F?N:F,ft=L<$?L<rt?L:rt:$<rt?$:rt,ct=E>N?E>F?E:F:N>F?N:F,yt=L>$?L>rt?L:rt:$>rt?$:rt,ut=k.next;ut!==C;){if(ut.x>=lt&&ut.x<=ct&&ut.y>=ft&&ut.y<=yt&&T(E,L,N,$,F,rt,ut.x,ut.y)&&D(ut.prev,ut,ut.next)>=0)return!1;ut=ut.next}return!0}function o(w,C,M,k){var E=w.prev,N=w,F=w.next;if(D(E,N,F)>=0)return!1;for(var L=E.x,$=N.x,rt=F.x,lt=E.y,ft=N.y,ct=F.y,yt=L<$?L<rt?L:rt:$<rt?$:rt,ut=lt<ft?lt<ct?lt:ct:ft<ct?ft:ct,vt=L>$?L>rt?L:rt:$>rt?$:rt,xt=lt>ft?lt>ct?lt:ct:ft>ct?ft:ct,Ot=S(yt,ut,C,M,k),Ft=S(vt,xt,C,M,k),Tt=w.prevZ,St=w.nextZ;Tt&&Tt.z>=Ot&&St&&St.z<=Ft;){if(Tt.x>=yt&&Tt.x<=vt&&Tt.y>=ut&&Tt.y<=xt&&Tt!==E&&Tt!==F&&T(L,lt,$,ft,rt,ct,Tt.x,Tt.y)&&D(Tt.prev,Tt,Tt.next)>=0||(Tt=Tt.prevZ,St.x>=yt&&St.x<=vt&&St.y>=ut&&St.y<=xt&&St!==E&&St!==F&&T(L,lt,$,ft,rt,ct,St.x,St.y)&&D(St.prev,St,St.next)>=0))return!1;St=St.nextZ}for(;Tt&&Tt.z>=Ot;){if(Tt.x>=yt&&Tt.x<=vt&&Tt.y>=ut&&Tt.y<=xt&&Tt!==E&&Tt!==F&&T(L,lt,$,ft,rt,ct,Tt.x,Tt.y)&&D(Tt.prev,Tt,Tt.next)>=0)return!1;Tt=Tt.prevZ}for(;St&&St.z<=Ft;){if(St.x>=yt&&St.x<=vt&&St.y>=ut&&St.y<=xt&&St!==E&&St!==F&&T(L,lt,$,ft,rt,ct,St.x,St.y)&&D(St.prev,St,St.next)>=0)return!1;St=St.nextZ}return!0}function h(w,C,M){var k=w;do{var E=k.prev,N=k.next.next;!P(E,N)&&O(E,k,k.next,N)&&tt(E,N)&&tt(N,E)&&(C.push(E.i/M|0),C.push(k.i/M|0),C.push(N.i/M|0),Q(k),Q(k.next),k=w=N),k=k.next}while(k!==w);return e(k)}function c(w,C,M,k,E,N){var F=w;do{for(var L=F.next.next;L!==F.prev;){if(F.i!==L.i&&I(F,L)){var $=et(F,L);F=e(F,F.next),$=e($,$.next),r(F,C,M,k,E,N,0),r($,C,M,k,E,N,0);return}L=L.next}F=F.next}while(F!==w)}function d(w,C,M,k){var E=[],N,F,L,$,rt;for(N=0,F=C.length;N<F;N++)L=C[N]*k,$=N<F-1?C[N+1]*k:w.length,rt=t(w,L,$,k,!1),rt===rt.next&&(rt.steiner=!0),E.push(A(rt));for(E.sort(p),N=0;N<E.length;N++)M=g(E[N],M);return M}function p(w,C){return w.x-C.x}function g(w,C){var M=y(w,C);if(!M)return C;var k=et(M,w);return e(k,k.next),e(M,M.next)}function y(w,C){var M=C,k=w.x,E=w.y,N=-1/0,F;do{if(E<=M.y&&E>=M.next.y&&M.next.y!==M.y){var L=M.x+(E-M.y)*(M.next.x-M.x)/(M.next.y-M.y);if(L<=k&&L>N&&(N=L,F=M.x<M.next.x?M:M.next,L===k))return F}M=M.next}while(M!==C);if(!F)return null;var $=F,rt=F.x,lt=F.y,ft=1/0,ct;M=F;do k>=M.x&&M.x>=rt&&k!==M.x&&T(E<lt?k:N,E,rt,lt,E<lt?N:k,E,M.x,M.y)&&(ct=Math.abs(E-M.y)/(k-M.x),tt(M,w)&&(ct<ft||ct===ft&&(M.x>F.x||M.x===F.x&&v(F,M)))&&(F=M,ft=ct)),M=M.next;while(M!==$);return F}function v(w,C){return D(w.prev,w,C.prev)<0&&D(C.next,w,w.next)<0}function _(w,C,M,k){var E=w;do E.z===0&&(E.z=S(E.x,E.y,C,M,k)),E.prevZ=E.prev,E.nextZ=E.next,E=E.next;while(E!==w);E.prevZ.nextZ=null,E.prevZ=null,x(E)}function x(w){var C,M,k,E,N,F,L,$,rt=1;do{for(M=w,w=null,N=null,F=0;M;){for(F++,k=M,L=0,C=0;C<rt&&(L++,k=k.nextZ,!!k);C++);for($=rt;L>0||$>0&&k;)L!==0&&($===0||!k||M.z<=k.z)?(E=M,M=M.nextZ,L--):(E=k,k=k.nextZ,$--),N?N.nextZ=E:w=E,E.prevZ=N,N=E;M=k}N.nextZ=null,rt*=2}while(F>1);return w}function S(w,C,M,k,E){return w=(w-M)*E|0,C=(C-k)*E|0,w=(w|w<<8)&16711935,w=(w|w<<4)&252645135,w=(w|w<<2)&858993459,w=(w|w<<1)&1431655765,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,w|C<<1}function A(w){var C=w,M=w;do(C.x<M.x||C.x===M.x&&C.y<M.y)&&(M=C),C=C.next;while(C!==w);return M}function T(w,C,M,k,E,N,F,L){return(E-F)*(C-L)>=(w-F)*(N-L)&&(w-F)*(k-L)>=(M-F)*(C-L)&&(M-F)*(N-L)>=(E-F)*(k-L)}function I(w,C){return w.next.i!==C.i&&w.prev.i!==C.i&&!V(w,C)&&(tt(w,C)&&tt(C,w)&&at(w,C)&&(D(w.prev,w,C.prev)||D(w,C.prev,C))||P(w,C)&&D(w.prev,w,w.next)>0&&D(C.prev,C,C.next)>0)}function D(w,C,M){return(C.y-w.y)*(M.x-C.x)-(C.x-w.x)*(M.y-C.y)}function P(w,C){return w.x===C.x&&w.y===C.y}function O(w,C,M,k){var E=B(D(w,C,M)),N=B(D(w,C,k)),F=B(D(M,k,w)),L=B(D(M,k,C));return!!(E!==N&&F!==L||E===0&&X(w,M,C)||N===0&&X(w,k,C)||F===0&&X(M,w,k)||L===0&&X(M,C,k))}function X(w,C,M){return C.x<=Math.max(w.x,M.x)&&C.x>=Math.min(w.x,M.x)&&C.y<=Math.max(w.y,M.y)&&C.y>=Math.min(w.y,M.y)}function B(w){return w>0?1:w<0?-1:0}function V(w,C){var M=w;do{if(M.i!==w.i&&M.next.i!==w.i&&M.i!==C.i&&M.next.i!==C.i&&O(M,M.next,w,C))return!0;M=M.next}while(M!==w);return!1}function tt(w,C){return D(w.prev,w,w.next)<0?D(w,C,w.next)>=0&&D(w,w.prev,C)>=0:D(w,C,w.prev)<0||D(w,w.next,C)<0}function at(w,C){var M=w,k=!1,E=(w.x+C.x)/2,N=(w.y+C.y)/2;do M.y>N!=M.next.y>N&&M.next.y!==M.y&&E<(M.next.x-M.x)*(N-M.y)/(M.next.y-M.y)+M.x&&(k=!k),M=M.next;while(M!==w);return k}function et(w,C){var M=new J(w.i,w.x,w.y),k=new J(C.i,C.x,C.y),E=w.next,N=C.prev;return w.next=C,C.prev=w,M.next=E,E.prev=M,k.next=M,M.prev=k,N.next=k,k.prev=N,k}function H(w,C,M,k){var E=new J(w,C,M);return k?(E.next=k.next,E.prev=k,k.next.prev=E,k.next=E):(E.prev=E,E.next=E),E}function Q(w){w.next.prev=w.prev,w.prev.next=w.next,w.prevZ&&(w.prevZ.nextZ=w.nextZ),w.nextZ&&(w.nextZ.prevZ=w.prevZ)}function J(w,C,M){this.i=w,this.x=C,this.y=M,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(w,C,M,k){var E=C&&C.length,N=E?C[0]*M:w.length,F=Math.abs(dt(w,0,N,M));if(E)for(var L=0,$=C.length;L<$;L++){var rt=C[L]*M,lt=L<$-1?C[L+1]*M:w.length;F-=Math.abs(dt(w,rt,lt,M))}var ft=0;for(L=0;L<k.length;L+=3){var ct=k[L]*M,yt=k[L+1]*M,ut=k[L+2]*M;ft+=Math.abs((w[ct]-w[ut])*(w[yt+1]-w[ct+1])-(w[ct]-w[yt])*(w[ut+1]-w[ct+1]))}return F===0&&ft===0?0:Math.abs((ft-F)/F)};function dt(w,C,M,k){for(var E=0,N=C,F=M-k;N<M;N+=k)E+=(w[F]-w[N])*(w[N+1]+w[F+1]),F=N;return E}return s.flatten=function(w){for(var C=w[0][0].length,M={vertices:[],holes:[],dimensions:C},k=0,E=0;E<w.length;E++){for(var N=0;N<w[E].length;N++)for(var F=0;F<C;F++)M.vertices.push(w[E][N][F]);E>0&&(k+=w[E-1].length,M.holes.push(k))}return M},Wo.exports}var BA=OA();const IA=z_(BA);var Yn={},gl={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var NA=gl.exports,Kv;function PA(){return Kv||(Kv=1,function(s,t){(function(e){var r=t&&!t.nodeType&&t,a=s&&!s.nodeType&&s,o=typeof wu=="object"&&wu;(o.global===o||o.window===o||o.self===o)&&(e=o);var h,c=2147483647,d=36,p=1,g=26,y=38,v=700,_=72,x=128,S="-",A=/^xn--/,T=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=d-p,O=Math.floor,X=String.fromCharCode,B;function V(E){throw new RangeError(D[E])}function tt(E,N){for(var F=E.length,L=[];F--;)L[F]=N(E[F]);return L}function at(E,N){var F=E.split("@"),L="";F.length>1&&(L=F[0]+"@",E=F[1]),E=E.replace(I,".");var $=E.split("."),rt=tt($,N).join(".");return L+rt}function et(E){for(var N=[],F=0,L=E.length,$,rt;F<L;)$=E.charCodeAt(F++),$>=55296&&$<=56319&&F<L?(rt=E.charCodeAt(F++),(rt&64512)==56320?N.push((($&1023)<<10)+(rt&1023)+65536):(N.push($),F--)):N.push($);return N}function H(E){return tt(E,function(N){var F="";return N>65535&&(N-=65536,F+=X(N>>>10&1023|55296),N=56320|N&1023),F+=X(N),F}).join("")}function Q(E){return E-48<10?E-22:E-65<26?E-65:E-97<26?E-97:d}function J(E,N){return E+22+75*(E<26)-((N!=0)<<5)}function dt(E,N,F){var L=0;for(E=F?O(E/v):E>>1,E+=O(E/N);E>P*g>>1;L+=d)E=O(E/P);return O(L+(P+1)*E/(E+y))}function w(E){var N=[],F=E.length,L,$=0,rt=x,lt=_,ft,ct,yt,ut,vt,xt,Ot,Ft,Tt;for(ft=E.lastIndexOf(S),ft<0&&(ft=0),ct=0;ct<ft;++ct)E.charCodeAt(ct)>=128&&V("not-basic"),N.push(E.charCodeAt(ct));for(yt=ft>0?ft+1:0;yt<F;){for(ut=$,vt=1,xt=d;yt>=F&&V("invalid-input"),Ot=Q(E.charCodeAt(yt++)),(Ot>=d||Ot>O((c-$)/vt))&&V("overflow"),$+=Ot*vt,Ft=xt<=lt?p:xt>=lt+g?g:xt-lt,!(Ot<Ft);xt+=d)Tt=d-Ft,vt>O(c/Tt)&&V("overflow"),vt*=Tt;L=N.length+1,lt=dt($-ut,L,ut==0),O($/L)>c-rt&&V("overflow"),rt+=O($/L),$%=L,N.splice($++,0,rt)}return H(N)}function C(E){var N,F,L,$,rt,lt,ft,ct,yt,ut,vt,xt=[],Ot,Ft,Tt,St;for(E=et(E),Ot=E.length,N=x,F=0,rt=_,lt=0;lt<Ot;++lt)vt=E[lt],vt<128&&xt.push(X(vt));for(L=$=xt.length,$&&xt.push(S);L<Ot;){for(ft=c,lt=0;lt<Ot;++lt)vt=E[lt],vt>=N&&vt<ft&&(ft=vt);for(Ft=L+1,ft-N>O((c-F)/Ft)&&V("overflow"),F+=(ft-N)*Ft,N=ft,lt=0;lt<Ot;++lt)if(vt=E[lt],vt<N&&++F>c&&V("overflow"),vt==N){for(ct=F,yt=d;ut=yt<=rt?p:yt>=rt+g?g:yt-rt,!(ct<ut);yt+=d)St=ct-ut,Tt=d-ut,xt.push(X(J(ut+St%Tt,0))),ct=O(St/Tt);xt.push(X(J(ct,0))),rt=dt(F,Ft,L==$),F=0,++L}++F,++N}return xt.join("")}function M(E){return at(E,function(N){return A.test(N)?w(N.slice(4).toLowerCase()):N})}function k(E){return at(E,function(N){return T.test(N)?"xn--"+C(N):N})}if(h={version:"1.4.1",ucs2:{decode:et,encode:H},decode:w,encode:C,toASCII:k,toUnicode:M},r&&a)if(s.exports==r)a.exports=h;else for(B in h)h.hasOwnProperty(B)&&(r[B]=h[B]);else e.punycode=h})(NA)}(gl,gl.exports)),gl.exports}var xf,Qv;function ua(){return Qv||(Qv=1,xf=TypeError),xf}const UA={},LA=Object.freeze(Object.defineProperty({__proto__:null,default:UA},Symbol.toStringTag,{value:"Module"})),FA=zE(LA);var bf,Jv;function Vu(){if(Jv)return bf;Jv=1;var s=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,e=s&&t&&typeof t.get=="function"?t.get:null,r=s&&Map.prototype.forEach,a=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,h=a&&o&&typeof o.get=="function"?o.get:null,c=a&&Set.prototype.forEach,d=typeof WeakMap=="function"&&WeakMap.prototype,p=d?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,y=g?WeakSet.prototype.has:null,v=typeof WeakRef=="function"&&WeakRef.prototype,_=v?WeakRef.prototype.deref:null,x=Boolean.prototype.valueOf,S=Object.prototype.toString,A=Function.prototype.toString,T=String.prototype.match,I=String.prototype.slice,D=String.prototype.replace,P=String.prototype.toUpperCase,O=String.prototype.toLowerCase,X=RegExp.prototype.test,B=Array.prototype.concat,V=Array.prototype.join,tt=Array.prototype.slice,at=Math.floor,et=typeof BigInt=="function"?BigInt.prototype.valueOf:null,H=Object.getOwnPropertySymbols,Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,J=typeof Symbol=="function"&&typeof Symbol.iterator=="object",dt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===J||!0)?Symbol.toStringTag:null,w=Object.prototype.propertyIsEnumerable,C=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Y){return Y.__proto__}:null);function M(Y,K){if(Y===1/0||Y===-1/0||Y!==Y||Y&&Y>-1e3&&Y<1e3||X.call(/e/,K))return K;var qt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Y=="number"){var Zt=Y<0?-at(-Y):at(Y);if(Zt!==Y){var Jt=String(Zt),Pt=I.call(K,Jt.length+1);return D.call(Jt,qt,"$&_")+"."+D.call(D.call(Pt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return D.call(K,qt,"$&_")}var k=FA,E=k.custom,N=Ft(E)?E:null,F={__proto__:null,double:'"',single:"'"},L={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};bf=function Y(K,qt,Zt,Jt){var Pt=qt||{};if(Yt(Pt,"quoteStyle")&&!Yt(F,Pt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Yt(Pt,"maxStringLength")&&(typeof Pt.maxStringLength=="number"?Pt.maxStringLength<0&&Pt.maxStringLength!==1/0:Pt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var je=Yt(Pt,"customInspect")?Pt.customInspect:!0;if(typeof je!="boolean"&&je!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Yt(Pt,"indent")&&Pt.indent!==null&&Pt.indent!=="	"&&!(parseInt(Pt.indent,10)===Pt.indent&&Pt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Yt(Pt,"numericSeparator")&&typeof Pt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var lr=Pt.numericSeparator;if(typeof K>"u")return"undefined";if(K===null)return"null";if(typeof K=="boolean")return K?"true":"false";if(typeof K=="string")return Ge(K,Pt);if(typeof K=="number"){if(K===0)return 1/0/K>0?"0":"-0";var ke=String(K);return lr?M(K,ke):ke}if(typeof K=="bigint"){var bi=String(K)+"n";return lr?M(K,bi):bi}var Cn=typeof Pt.depth>"u"?5:Pt.depth;if(typeof Zt>"u"&&(Zt=0),Zt>=Cn&&Cn>0&&typeof K=="object")return ft(K)?"[Array]":"[Object]";var Fi=hs(Pt,Zt);if(typeof Jt>"u")Jt=[];else if(xi(Jt,K)>=0)return"[Circular]";function qe(ur,Dn,hr){if(Dn&&(Jt=tt.call(Jt),Jt.push(Dn)),hr){var cr={depth:Pt.depth};return Yt(Pt,"quoteStyle")&&(cr.quoteStyle=Pt.quoteStyle),Y(ur,cr,Zt+1,Jt)}return Y(ur,Pt,Zt+1,Jt)}if(typeof K=="function"&&!yt(K)){var Pl=sr(K),Ei=li(K,qe);return"[Function"+(Pl?": "+Pl:" (anonymous)")+"]"+(Ei.length>0?" { "+V.call(Ei,", ")+" }":"")}if(Ft(K)){var Ae=J?D.call(String(K),/^(Symbol\(.*\))_[^)]*$/,"$1"):Q.call(K);return typeof K=="object"&&!J?Te(Ae):Ae}if(Rn(K)){for(var _e="<"+O.call(String(K.nodeName)),Gi=K.attributes||[],zr=0;zr<Gi.length;zr++)_e+=" "+Gi[zr].name+"="+$(rt(Gi[zr].value),"double",Pt);return _e+=">",K.childNodes&&K.childNodes.length&&(_e+="..."),_e+="</"+O.call(String(K.nodeName))+">",_e}if(ft(K)){if(K.length===0)return"[]";var da=li(K,qe);return Fi&&!eh(da)?"["+Hr(da,Fi)+"]":"[ "+V.call(da,", ")+" ]"}if(ut(K)){var pa=li(K,qe);return!("cause"in Error.prototype)&&"cause"in K&&!w.call(K,"cause")?"{ ["+String(K)+"] "+V.call(B.call("[cause]: "+qe(K.cause),pa),", ")+" }":pa.length===0?"["+String(K)+"]":"{ ["+String(K)+"] "+V.call(pa,", ")+" }"}if(typeof K=="object"&&je){if(N&&typeof K[N]=="function"&&k)return k(K,{depth:Cn-Zt});if(je!=="symbol"&&typeof K.inspect=="function")return K.inspect()}if(Fe(K)){var ma=[];return r&&r.call(K,function(ur,Dn){ma.push(qe(Dn,K,!0)+" => "+qe(ur,K))}),Nl("Map",e.call(K),ma,Fi)}if(kr(K)){var Xr=[];return c&&c.call(K,function(ur){Xr.push(qe(ur,K))}),Nl("Set",h.call(K),Xr,Fi)}if(Gr(K))return fa("WeakMap");if(th(K))return fa("WeakSet");if(ar(K))return fa("WeakRef");if(xt(K))return Te(qe(Number(K)));if(Tt(K))return Te(qe(et.call(K)));if(Ot(K))return Te(x.call(K));if(vt(K))return Te(qe(String(K)));if(typeof window<"u"&&K===window)return"{ [object Window] }";if(typeof globalThis<"u"&&K===globalThis||typeof wu<"u"&&K===wu)return"{ [object globalThis] }";if(!ct(K)&&!yt(K)){var Mn=li(K,qe),or=C?C(K)===Object.prototype:K instanceof Object||K.constructor===Object,ki=K instanceof Object?"":"null prototype",Vr=!or&&dt&&Object(K)===K&&dt in K?I.call(me(K),8,-1):ki?"Object":"",jr=or||typeof K.constructor!="function"?"":K.constructor.name?K.constructor.name+" ":"",fe=jr+(Vr||ki?"["+V.call(B.call([],Vr||[],ki||[]),": ")+"] ":"");return Mn.length===0?fe+"{}":Fi?fe+"{"+Hr(Mn,Fi)+"}":fe+"{ "+V.call(Mn,", ")+" }"}return String(K)};function $(Y,K,qt){var Zt=qt.quoteStyle||K,Jt=F[Zt];return Jt+Y+Jt}function rt(Y){return D.call(String(Y),/"/g,"&quot;")}function lt(Y){return!dt||!(typeof Y=="object"&&(dt in Y||typeof Y[dt]<"u"))}function ft(Y){return me(Y)==="[object Array]"&&lt(Y)}function ct(Y){return me(Y)==="[object Date]"&&lt(Y)}function yt(Y){return me(Y)==="[object RegExp]"&&lt(Y)}function ut(Y){return me(Y)==="[object Error]"&&lt(Y)}function vt(Y){return me(Y)==="[object String]"&&lt(Y)}function xt(Y){return me(Y)==="[object Number]"&&lt(Y)}function Ot(Y){return me(Y)==="[object Boolean]"&&lt(Y)}function Ft(Y){if(J)return Y&&typeof Y=="object"&&Y instanceof Symbol;if(typeof Y=="symbol")return!0;if(!Y||typeof Y!="object"||!Q)return!1;try{return Q.call(Y),!0}catch{}return!1}function Tt(Y){if(!Y||typeof Y!="object"||!et)return!1;try{return et.call(Y),!0}catch{}return!1}var St=Object.prototype.hasOwnProperty||function(Y){return Y in this};function Yt(Y,K){return St.call(Y,K)}function me(Y){return S.call(Y)}function sr(Y){if(Y.name)return Y.name;var K=T.call(A.call(Y),/^function\s*([\w$]+)/);return K?K[1]:null}function xi(Y,K){if(Y.indexOf)return Y.indexOf(K);for(var qt=0,Zt=Y.length;qt<Zt;qt++)if(Y[qt]===K)return qt;return-1}function Fe(Y){if(!e||!Y||typeof Y!="object")return!1;try{e.call(Y);try{h.call(Y)}catch{return!0}return Y instanceof Map}catch{}return!1}function Gr(Y){if(!p||!Y||typeof Y!="object")return!1;try{p.call(Y,p);try{y.call(Y,y)}catch{return!0}return Y instanceof WeakMap}catch{}return!1}function ar(Y){if(!_||!Y||typeof Y!="object")return!1;try{return _.call(Y),!0}catch{}return!1}function kr(Y){if(!h||!Y||typeof Y!="object")return!1;try{h.call(Y);try{e.call(Y)}catch{return!0}return Y instanceof Set}catch{}return!1}function th(Y){if(!y||!Y||typeof Y!="object")return!1;try{y.call(Y,y);try{p.call(Y,p)}catch{return!0}return Y instanceof WeakSet}catch{}return!1}function Rn(Y){return!Y||typeof Y!="object"?!1:typeof HTMLElement<"u"&&Y instanceof HTMLElement?!0:typeof Y.nodeName=="string"&&typeof Y.getAttribute=="function"}function Ge(Y,K){if(Y.length>K.maxStringLength){var qt=Y.length-K.maxStringLength,Zt="... "+qt+" more character"+(qt>1?"s":"");return Ge(I.call(Y,0,K.maxStringLength),K)+Zt}var Jt=L[K.quoteStyle||"single"];Jt.lastIndex=0;var Pt=D.call(D.call(Y,Jt,"\\$1"),/[\x00-\x1f]/g,Li);return $(Pt,"single",K)}function Li(Y){var K=Y.charCodeAt(0),qt={8:"b",9:"t",10:"n",12:"f",13:"r"}[K];return qt?"\\"+qt:"\\x"+(K<16?"0":"")+P.call(K.toString(16))}function Te(Y){return"Object("+Y+")"}function fa(Y){return Y+" { ? }"}function Nl(Y,K,qt,Zt){var Jt=Zt?Hr(qt,Zt):V.call(qt,", ");return Y+" ("+K+") {"+Jt+"}"}function eh(Y){for(var K=0;K<Y.length;K++)if(xi(Y[K],`
`)>=0)return!1;return!0}function hs(Y,K){var qt;if(Y.indent==="	")qt="	";else if(typeof Y.indent=="number"&&Y.indent>0)qt=V.call(Array(Y.indent+1)," ");else return null;return{base:qt,prev:V.call(Array(K+1),qt)}}function Hr(Y,K){if(Y.length===0)return"";var qt=`
`+K.prev+K.base;return qt+V.call(Y,","+qt)+`
`+K.prev}function li(Y,K){var qt=ft(Y),Zt=[];if(qt){Zt.length=Y.length;for(var Jt=0;Jt<Y.length;Jt++)Zt[Jt]=Yt(Y,Jt)?K(Y[Jt],Y):""}var Pt=typeof H=="function"?H(Y):[],je;if(J){je={};for(var lr=0;lr<Pt.length;lr++)je["$"+Pt[lr]]=Pt[lr]}for(var ke in Y)Yt(Y,ke)&&(qt&&String(Number(ke))===ke&&ke<Y.length||J&&je["$"+ke]instanceof Symbol||(X.call(/[^\w$]/,ke)?Zt.push(K(ke,Y)+": "+K(Y[ke],Y)):Zt.push(ke+": "+K(Y[ke],Y))));if(typeof H=="function")for(var bi=0;bi<Pt.length;bi++)w.call(Y,Pt[bi])&&Zt.push("["+K(Pt[bi])+"]: "+K(Y[Pt[bi]],Y));return Zt}return bf}var Ef,t0;function GA(){if(t0)return Ef;t0=1;var s=Vu(),t=ua(),e=function(c,d,p){for(var g=c,y;(y=g.next)!=null;g=y)if(y.key===d)return g.next=y.next,p||(y.next=c.next,c.next=y),y},r=function(c,d){if(c){var p=e(c,d);return p&&p.value}},a=function(c,d,p){var g=e(c,d);g?g.value=p:c.next={key:d,next:c.next,value:p}},o=function(c,d){return c?!!e(c,d):!1},h=function(c,d){if(c)return e(c,d,!0)};return Ef=function(){var d,p={assert:function(g){if(!p.has(g))throw new t("Side channel does not contain "+s(g))},delete:function(g){var y=d&&d.next,v=h(d,g);return v&&y&&y===v&&(d=void 0),!!v},get:function(g){return r(d,g)},has:function(g){return o(d,g)},set:function(g,y){d||(d={next:void 0}),a(d,g,y)}};return p},Ef}var Tf,e0;function ax(){return e0||(e0=1,Tf=Object),Tf}var Af,i0;function kA(){return i0||(i0=1,Af=Error),Af}var Sf,r0;function HA(){return r0||(r0=1,Sf=EvalError),Sf}var wf,n0;function zA(){return n0||(n0=1,wf=RangeError),wf}var Rf,s0;function XA(){return s0||(s0=1,Rf=ReferenceError),Rf}var Cf,a0;function VA(){return a0||(a0=1,Cf=SyntaxError),Cf}var Mf,l0;function jA(){return l0||(l0=1,Mf=URIError),Mf}var Df,o0;function qA(){return o0||(o0=1,Df=Math.abs),Df}var Of,u0;function YA(){return u0||(u0=1,Of=Math.floor),Of}var Bf,h0;function $A(){return h0||(h0=1,Bf=Math.max),Bf}var If,c0;function WA(){return c0||(c0=1,If=Math.min),If}var Nf,f0;function ZA(){return f0||(f0=1,Nf=Math.pow),Nf}var Pf,d0;function KA(){return d0||(d0=1,Pf=Math.round),Pf}var Uf,p0;function QA(){return p0||(p0=1,Uf=Number.isNaN||function(t){return t!==t}),Uf}var Lf,m0;function JA(){if(m0)return Lf;m0=1;var s=QA();return Lf=function(e){return s(e)||e===0?e:e<0?-1:1},Lf}var Ff,g0;function tS(){return g0||(g0=1,Ff=Object.getOwnPropertyDescriptor),Ff}var Gf,y0;function lx(){if(y0)return Gf;y0=1;var s=tS();if(s)try{s([],"length")}catch{s=null}return Gf=s,Gf}var kf,v0;function eS(){if(v0)return kf;v0=1;var s=Object.defineProperty||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return kf=s,kf}var Hf,_0;function iS(){return _0||(_0=1,Hf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),r=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var a=42;t[e]=a;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var h=Object.getOwnPropertySymbols(t);if(h.length!==1||h[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,e);if(c.value!==a||c.enumerable!==!0)return!1}return!0}),Hf}var zf,x0;function rS(){if(x0)return zf;x0=1;var s=typeof Symbol<"u"&&Symbol,t=iS();return zf=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},zf}var Xf,b0;function ox(){return b0||(b0=1,Xf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Xf}var Vf,E0;function ux(){if(E0)return Vf;E0=1;var s=ax();return Vf=s.getPrototypeOf||null,Vf}var jf,T0;function nS(){if(T0)return jf;T0=1;var s="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,e=Math.max,r="[object Function]",a=function(d,p){for(var g=[],y=0;y<d.length;y+=1)g[y]=d[y];for(var v=0;v<p.length;v+=1)g[v+d.length]=p[v];return g},o=function(d,p){for(var g=[],y=p,v=0;y<d.length;y+=1,v+=1)g[v]=d[y];return g},h=function(c,d){for(var p="",g=0;g<c.length;g+=1)p+=c[g],g+1<c.length&&(p+=d);return p};return jf=function(d){var p=this;if(typeof p!="function"||t.apply(p)!==r)throw new TypeError(s+p);for(var g=o(arguments,1),y,v=function(){if(this instanceof y){var T=p.apply(this,a(g,arguments));return Object(T)===T?T:this}return p.apply(d,a(g,arguments))},_=e(0,p.length-g.length),x=[],S=0;S<_;S++)x[S]="$"+S;if(y=Function("binder","return function ("+h(x,",")+"){ return binder.apply(this,arguments); }")(v),p.prototype){var A=function(){};A.prototype=p.prototype,y.prototype=new A,A.prototype=null}return y},jf}var qf,A0;function ju(){if(A0)return qf;A0=1;var s=nS();return qf=Function.prototype.bind||s,qf}var Yf,S0;function Mp(){return S0||(S0=1,Yf=Function.prototype.call),Yf}var $f,w0;function hx(){return w0||(w0=1,$f=Function.prototype.apply),$f}var Wf,R0;function sS(){return R0||(R0=1,Wf=typeof Reflect<"u"&&Reflect&&Reflect.apply),Wf}var Zf,C0;function aS(){if(C0)return Zf;C0=1;var s=ju(),t=hx(),e=Mp(),r=sS();return Zf=r||s.call(e,t),Zf}var Kf,M0;function cx(){if(M0)return Kf;M0=1;var s=ju(),t=ua(),e=Mp(),r=aS();return Kf=function(o){if(o.length<1||typeof o[0]!="function")throw new t("a function is required");return r(s,e,o)},Kf}var Qf,D0;function lS(){if(D0)return Qf;D0=1;var s=cx(),t=lx(),e;try{e=[].__proto__===Array.prototype}catch(h){if(!h||typeof h!="object"||!("code"in h)||h.code!=="ERR_PROTO_ACCESS")throw h}var r=!!e&&t&&t(Object.prototype,"__proto__"),a=Object,o=a.getPrototypeOf;return Qf=r&&typeof r.get=="function"?s([r.get]):typeof o=="function"?function(c){return o(c==null?c:a(c))}:!1,Qf}var Jf,O0;function oS(){if(O0)return Jf;O0=1;var s=ox(),t=ux(),e=lS();return Jf=s?function(a){return s(a)}:t?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return t(a)}:e?function(a){return e(a)}:null,Jf}var td,B0;function uS(){if(B0)return td;B0=1;var s=Function.prototype.call,t=Object.prototype.hasOwnProperty,e=ju();return td=e.call(s,t),td}var ed,I0;function Dp(){if(I0)return ed;I0=1;var s,t=ax(),e=kA(),r=HA(),a=zA(),o=XA(),h=VA(),c=ua(),d=jA(),p=qA(),g=YA(),y=$A(),v=WA(),_=ZA(),x=KA(),S=JA(),A=Function,T=function(yt){try{return A('"use strict"; return ('+yt+").constructor;")()}catch{}},I=lx(),D=eS(),P=function(){throw new c},O=I?function(){try{return arguments.callee,P}catch{try{return I(arguments,"callee").get}catch{return P}}}():P,X=rS()(),B=oS(),V=ux(),tt=ox(),at=hx(),et=Mp(),H={},Q=typeof Uint8Array>"u"||!B?s:B(Uint8Array),J={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":X&&B?B([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":H,"%AsyncGenerator%":H,"%AsyncGeneratorFunction%":H,"%AsyncIteratorPrototype%":H,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?s:Float16Array,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":H,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":X&&B?B(B([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!X||!B?s:B(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":a,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!X||!B?s:B(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":X&&B?B(""[Symbol.iterator]()):s,"%Symbol%":X?Symbol:s,"%SyntaxError%":h,"%ThrowTypeError%":O,"%TypedArray%":Q,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet,"%Function.prototype.call%":et,"%Function.prototype.apply%":at,"%Object.defineProperty%":D,"%Object.getPrototypeOf%":V,"%Math.abs%":p,"%Math.floor%":g,"%Math.max%":y,"%Math.min%":v,"%Math.pow%":_,"%Math.round%":x,"%Math.sign%":S,"%Reflect.getPrototypeOf%":tt};if(B)try{null.error}catch(yt){var dt=B(B(yt));J["%Error.prototype%"]=dt}var w=function yt(ut){var vt;if(ut==="%AsyncFunction%")vt=T("async function () {}");else if(ut==="%GeneratorFunction%")vt=T("function* () {}");else if(ut==="%AsyncGeneratorFunction%")vt=T("async function* () {}");else if(ut==="%AsyncGenerator%"){var xt=yt("%AsyncGeneratorFunction%");xt&&(vt=xt.prototype)}else if(ut==="%AsyncIteratorPrototype%"){var Ot=yt("%AsyncGenerator%");Ot&&B&&(vt=B(Ot.prototype))}return J[ut]=vt,vt},C={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=ju(),k=uS(),E=M.call(et,Array.prototype.concat),N=M.call(at,Array.prototype.splice),F=M.call(et,String.prototype.replace),L=M.call(et,String.prototype.slice),$=M.call(et,RegExp.prototype.exec),rt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,ft=function(ut){var vt=L(ut,0,1),xt=L(ut,-1);if(vt==="%"&&xt!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(xt==="%"&&vt!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var Ot=[];return F(ut,rt,function(Ft,Tt,St,Yt){Ot[Ot.length]=St?F(Yt,lt,"$1"):Tt||Ft}),Ot},ct=function(ut,vt){var xt=ut,Ot;if(k(C,xt)&&(Ot=C[xt],xt="%"+Ot[0]+"%"),k(J,xt)){var Ft=J[xt];if(Ft===H&&(Ft=w(xt)),typeof Ft>"u"&&!vt)throw new c("intrinsic "+ut+" exists, but is not available. Please file an issue!");return{alias:Ot,name:xt,value:Ft}}throw new h("intrinsic "+ut+" does not exist!")};return ed=function(ut,vt){if(typeof ut!="string"||ut.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof vt!="boolean")throw new c('"allowMissing" argument must be a boolean');if($(/^%?[^%]*%?$/,ut)===null)throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var xt=ft(ut),Ot=xt.length>0?xt[0]:"",Ft=ct("%"+Ot+"%",vt),Tt=Ft.name,St=Ft.value,Yt=!1,me=Ft.alias;me&&(Ot=me[0],N(xt,E([0,1],me)));for(var sr=1,xi=!0;sr<xt.length;sr+=1){var Fe=xt[sr],Gr=L(Fe,0,1),ar=L(Fe,-1);if((Gr==='"'||Gr==="'"||Gr==="`"||ar==='"'||ar==="'"||ar==="`")&&Gr!==ar)throw new h("property names with quotes must have matching quotes");if((Fe==="constructor"||!xi)&&(Yt=!0),Ot+="."+Fe,Tt="%"+Ot+"%",k(J,Tt))St=J[Tt];else if(St!=null){if(!(Fe in St)){if(!vt)throw new c("base intrinsic for "+ut+" exists, but the property is not available.");return}if(I&&sr+1>=xt.length){var kr=I(St,Fe);xi=!!kr,xi&&"get"in kr&&!("originalValue"in kr.get)?St=kr.get:St=St[Fe]}else xi=k(St,Fe),St=St[Fe];xi&&!Yt&&(J[Tt]=St)}}return St},ed}var id,N0;function fx(){if(N0)return id;N0=1;var s=Dp(),t=cx(),e=t([s("%String.prototype.indexOf%")]);return id=function(a,o){var h=s(a,!!o);return typeof h=="function"&&e(a,".prototype.")>-1?t([h]):h},id}var rd,P0;function dx(){if(P0)return rd;P0=1;var s=Dp(),t=fx(),e=Vu(),r=ua(),a=s("%Map%",!0),o=t("Map.prototype.get",!0),h=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),d=t("Map.prototype.delete",!0),p=t("Map.prototype.size",!0);return rd=!!a&&function(){var y,v={assert:function(_){if(!v.has(_))throw new r("Side channel does not contain "+e(_))},delete:function(_){if(y){var x=d(y,_);return p(y)===0&&(y=void 0),x}return!1},get:function(_){if(y)return o(y,_)},has:function(_){return y?c(y,_):!1},set:function(_,x){y||(y=new a),h(y,_,x)}};return v},rd}var nd,U0;function hS(){if(U0)return nd;U0=1;var s=Dp(),t=fx(),e=Vu(),r=dx(),a=ua(),o=s("%WeakMap%",!0),h=t("WeakMap.prototype.get",!0),c=t("WeakMap.prototype.set",!0),d=t("WeakMap.prototype.has",!0),p=t("WeakMap.prototype.delete",!0);return nd=o?function(){var y,v,_={assert:function(x){if(!_.has(x))throw new a("Side channel does not contain "+e(x))},delete:function(x){if(o&&x&&(typeof x=="object"||typeof x=="function")){if(y)return p(y,x)}else if(r&&v)return v.delete(x);return!1},get:function(x){return o&&x&&(typeof x=="object"||typeof x=="function")&&y?h(y,x):v&&v.get(x)},has:function(x){return o&&x&&(typeof x=="object"||typeof x=="function")&&y?d(y,x):!!v&&v.has(x)},set:function(x,S){o&&x&&(typeof x=="object"||typeof x=="function")?(y||(y=new o),c(y,x,S)):r&&(v||(v=r()),v.set(x,S))}};return _}:r,nd}var sd,L0;function cS(){if(L0)return sd;L0=1;var s=ua(),t=Vu(),e=GA(),r=dx(),a=hS(),o=a||r||e;return sd=function(){var c,d={assert:function(p){if(!d.has(p))throw new s("Side channel does not contain "+t(p))},delete:function(p){return!!c&&c.delete(p)},get:function(p){return c&&c.get(p)},has:function(p){return!!c&&c.has(p)},set:function(p,g){c||(c=o()),c.set(p,g)}};return d},sd}var ad,F0;function Op(){if(F0)return ad;F0=1;var s=String.prototype.replace,t=/%20/g,e={RFC1738:"RFC1738",RFC3986:"RFC3986"};return ad={default:e.RFC3986,formatters:{RFC1738:function(r){return s.call(r,t,"+")},RFC3986:function(r){return String(r)}},RFC1738:e.RFC1738,RFC3986:e.RFC3986},ad}var ld,G0;function px(){if(G0)return ld;G0=1;var s=Op(),t=Object.prototype.hasOwnProperty,e=Array.isArray,r=function(){for(var A=[],T=0;T<256;++T)A.push("%"+((T<16?"0":"")+T.toString(16)).toUpperCase());return A}(),a=function(T){for(;T.length>1;){var I=T.pop(),D=I.obj[I.prop];if(e(D)){for(var P=[],O=0;O<D.length;++O)typeof D[O]<"u"&&P.push(D[O]);I.obj[I.prop]=P}}},o=function(T,I){for(var D=I&&I.plainObjects?{__proto__:null}:{},P=0;P<T.length;++P)typeof T[P]<"u"&&(D[P]=T[P]);return D},h=function A(T,I,D){if(!I)return T;if(typeof I!="object"&&typeof I!="function"){if(e(T))T.push(I);else if(T&&typeof T=="object")(D&&(D.plainObjects||D.allowPrototypes)||!t.call(Object.prototype,I))&&(T[I]=!0);else return[T,I];return T}if(!T||typeof T!="object")return[T].concat(I);var P=T;return e(T)&&!e(I)&&(P=o(T,D)),e(T)&&e(I)?(I.forEach(function(O,X){if(t.call(T,X)){var B=T[X];B&&typeof B=="object"&&O&&typeof O=="object"?T[X]=A(B,O,D):T.push(O)}else T[X]=O}),T):Object.keys(I).reduce(function(O,X){var B=I[X];return t.call(O,X)?O[X]=A(O[X],B,D):O[X]=B,O},P)},c=function(T,I){return Object.keys(I).reduce(function(D,P){return D[P]=I[P],D},T)},d=function(A,T,I){var D=A.replace(/\+/g," ");if(I==="iso-8859-1")return D.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(D)}catch{return D}},p=1024,g=function(T,I,D,P,O){if(T.length===0)return T;var X=T;if(typeof T=="symbol"?X=Symbol.prototype.toString.call(T):typeof T!="string"&&(X=String(T)),D==="iso-8859-1")return escape(X).replace(/%u[0-9a-f]{4}/gi,function(Q){return"%26%23"+parseInt(Q.slice(2),16)+"%3B"});for(var B="",V=0;V<X.length;V+=p){for(var tt=X.length>=p?X.slice(V,V+p):X,at=[],et=0;et<tt.length;++et){var H=tt.charCodeAt(et);if(H===45||H===46||H===95||H===126||H>=48&&H<=57||H>=65&&H<=90||H>=97&&H<=122||O===s.RFC1738&&(H===40||H===41)){at[at.length]=tt.charAt(et);continue}if(H<128){at[at.length]=r[H];continue}if(H<2048){at[at.length]=r[192|H>>6]+r[128|H&63];continue}if(H<55296||H>=57344){at[at.length]=r[224|H>>12]+r[128|H>>6&63]+r[128|H&63];continue}et+=1,H=65536+((H&1023)<<10|tt.charCodeAt(et)&1023),at[at.length]=r[240|H>>18]+r[128|H>>12&63]+r[128|H>>6&63]+r[128|H&63]}B+=at.join("")}return B},y=function(T){for(var I=[{obj:{o:T},prop:"o"}],D=[],P=0;P<I.length;++P)for(var O=I[P],X=O.obj[O.prop],B=Object.keys(X),V=0;V<B.length;++V){var tt=B[V],at=X[tt];typeof at=="object"&&at!==null&&D.indexOf(at)===-1&&(I.push({obj:X,prop:tt}),D.push(at))}return a(I),T},v=function(T){return Object.prototype.toString.call(T)==="[object RegExp]"},_=function(T){return!T||typeof T!="object"?!1:!!(T.constructor&&T.constructor.isBuffer&&T.constructor.isBuffer(T))},x=function(T,I){return[].concat(T,I)},S=function(T,I){if(e(T)){for(var D=[],P=0;P<T.length;P+=1)D.push(I(T[P]));return D}return I(T)};return ld={arrayToObject:o,assign:c,combine:x,compact:y,decode:d,encode:g,isBuffer:_,isRegExp:v,maybeMap:S,merge:h},ld}var od,k0;function fS(){if(k0)return od;k0=1;var s=cS(),t=px(),e=Op(),r=Object.prototype.hasOwnProperty,a={brackets:function(A){return A+"[]"},comma:"comma",indices:function(A,T){return A+"["+T+"]"},repeat:function(A){return A}},o=Array.isArray,h=Array.prototype.push,c=function(S,A){h.apply(S,o(A)?A:[A])},d=Date.prototype.toISOString,p=e.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:e.formatters[p],indices:!1,serializeDate:function(A){return d.call(A)},skipNulls:!1,strictNullHandling:!1},y=function(A){return typeof A=="string"||typeof A=="number"||typeof A=="boolean"||typeof A=="symbol"||typeof A=="bigint"},v={},_=function S(A,T,I,D,P,O,X,B,V,tt,at,et,H,Q,J,dt,w,C){for(var M=A,k=C,E=0,N=!1;(k=k.get(v))!==void 0&&!N;){var F=k.get(A);if(E+=1,typeof F<"u"){if(F===E)throw new RangeError("Cyclic object value");N=!0}typeof k.get(v)>"u"&&(E=0)}if(typeof tt=="function"?M=tt(T,M):M instanceof Date?M=H(M):I==="comma"&&o(M)&&(M=t.maybeMap(M,function(Tt){return Tt instanceof Date?H(Tt):Tt})),M===null){if(O)return V&&!dt?V(T,g.encoder,w,"key",Q):T;M=""}if(y(M)||t.isBuffer(M)){if(V){var L=dt?T:V(T,g.encoder,w,"key",Q);return[J(L)+"="+J(V(M,g.encoder,w,"value",Q))]}return[J(T)+"="+J(String(M))]}var $=[];if(typeof M>"u")return $;var rt;if(I==="comma"&&o(M))dt&&V&&(M=t.maybeMap(M,V)),rt=[{value:M.length>0?M.join(",")||null:void 0}];else if(o(tt))rt=tt;else{var lt=Object.keys(M);rt=at?lt.sort(at):lt}var ft=B?String(T).replace(/\./g,"%2E"):String(T),ct=D&&o(M)&&M.length===1?ft+"[]":ft;if(P&&o(M)&&M.length===0)return ct+"[]";for(var yt=0;yt<rt.length;++yt){var ut=rt[yt],vt=typeof ut=="object"&&ut&&typeof ut.value<"u"?ut.value:M[ut];if(!(X&&vt===null)){var xt=et&&B?String(ut).replace(/\./g,"%2E"):String(ut),Ot=o(M)?typeof I=="function"?I(ct,xt):ct:ct+(et?"."+xt:"["+xt+"]");C.set(A,E);var Ft=s();Ft.set(v,C),c($,S(vt,Ot,I,D,P,O,X,B,I==="comma"&&dt&&o(M)?null:V,tt,at,et,H,Q,J,dt,w,Ft))}}return $},x=function(A){if(!A)return g;if(typeof A.allowEmptyArrays<"u"&&typeof A.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof A.encodeDotInKeys<"u"&&typeof A.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(A.encoder!==null&&typeof A.encoder<"u"&&typeof A.encoder!="function")throw new TypeError("Encoder has to be a function.");var T=A.charset||g.charset;if(typeof A.charset<"u"&&A.charset!=="utf-8"&&A.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var I=e.default;if(typeof A.format<"u"){if(!r.call(e.formatters,A.format))throw new TypeError("Unknown format option provided.");I=A.format}var D=e.formatters[I],P=g.filter;(typeof A.filter=="function"||o(A.filter))&&(P=A.filter);var O;if(A.arrayFormat in a?O=A.arrayFormat:"indices"in A?O=A.indices?"indices":"repeat":O=g.arrayFormat,"commaRoundTrip"in A&&typeof A.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var X=typeof A.allowDots>"u"?A.encodeDotInKeys===!0?!0:g.allowDots:!!A.allowDots;return{addQueryPrefix:typeof A.addQueryPrefix=="boolean"?A.addQueryPrefix:g.addQueryPrefix,allowDots:X,allowEmptyArrays:typeof A.allowEmptyArrays=="boolean"?!!A.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:O,charset:T,charsetSentinel:typeof A.charsetSentinel=="boolean"?A.charsetSentinel:g.charsetSentinel,commaRoundTrip:!!A.commaRoundTrip,delimiter:typeof A.delimiter>"u"?g.delimiter:A.delimiter,encode:typeof A.encode=="boolean"?A.encode:g.encode,encodeDotInKeys:typeof A.encodeDotInKeys=="boolean"?A.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof A.encoder=="function"?A.encoder:g.encoder,encodeValuesOnly:typeof A.encodeValuesOnly=="boolean"?A.encodeValuesOnly:g.encodeValuesOnly,filter:P,format:I,formatter:D,serializeDate:typeof A.serializeDate=="function"?A.serializeDate:g.serializeDate,skipNulls:typeof A.skipNulls=="boolean"?A.skipNulls:g.skipNulls,sort:typeof A.sort=="function"?A.sort:null,strictNullHandling:typeof A.strictNullHandling=="boolean"?A.strictNullHandling:g.strictNullHandling}};return od=function(S,A){var T=S,I=x(A),D,P;typeof I.filter=="function"?(P=I.filter,T=P("",T)):o(I.filter)&&(P=I.filter,D=P);var O=[];if(typeof T!="object"||T===null)return"";var X=a[I.arrayFormat],B=X==="comma"&&I.commaRoundTrip;D||(D=Object.keys(T)),I.sort&&D.sort(I.sort);for(var V=s(),tt=0;tt<D.length;++tt){var at=D[tt],et=T[at];I.skipNulls&&et===null||c(O,_(et,at,X,B,I.allowEmptyArrays,I.strictNullHandling,I.skipNulls,I.encodeDotInKeys,I.encode?I.encoder:null,I.filter,I.sort,I.allowDots,I.serializeDate,I.format,I.formatter,I.encodeValuesOnly,I.charset,V))}var H=O.join(I.delimiter),Q=I.addQueryPrefix===!0?"?":"";return I.charsetSentinel&&(I.charset==="iso-8859-1"?Q+="utf8=%26%2310003%3B&":Q+="utf8=%E2%9C%93&"),H.length>0?Q+H:""},od}var ud,H0;function dS(){if(H0)return ud;H0=1;var s=px(),t=Object.prototype.hasOwnProperty,e=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:s.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},a=function(v){return v.replace(/&#(\d+);/g,function(_,x){return String.fromCharCode(parseInt(x,10))})},o=function(v,_,x){if(v&&typeof v=="string"&&_.comma&&v.indexOf(",")>-1)return v.split(",");if(_.throwOnLimitExceeded&&x>=_.arrayLimit)throw new RangeError("Array limit exceeded. Only "+_.arrayLimit+" element"+(_.arrayLimit===1?"":"s")+" allowed in an array.");return v},h="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",d=function(_,x){var S={__proto__:null},A=x.ignoreQueryPrefix?_.replace(/^\?/,""):_;A=A.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var T=x.parameterLimit===1/0?void 0:x.parameterLimit,I=A.split(x.delimiter,x.throwOnLimitExceeded?T+1:T);if(x.throwOnLimitExceeded&&I.length>T)throw new RangeError("Parameter limit exceeded. Only "+T+" parameter"+(T===1?"":"s")+" allowed.");var D=-1,P,O=x.charset;if(x.charsetSentinel)for(P=0;P<I.length;++P)I[P].indexOf("utf8=")===0&&(I[P]===c?O="utf-8":I[P]===h&&(O="iso-8859-1"),D=P,P=I.length);for(P=0;P<I.length;++P)if(P!==D){var X=I[P],B=X.indexOf("]="),V=B===-1?X.indexOf("="):B+1,tt,at;V===-1?(tt=x.decoder(X,r.decoder,O,"key"),at=x.strictNullHandling?null:""):(tt=x.decoder(X.slice(0,V),r.decoder,O,"key"),at=s.maybeMap(o(X.slice(V+1),x,e(S[tt])?S[tt].length:0),function(H){return x.decoder(H,r.decoder,O,"value")})),at&&x.interpretNumericEntities&&O==="iso-8859-1"&&(at=a(String(at))),X.indexOf("[]=")>-1&&(at=e(at)?[at]:at);var et=t.call(S,tt);et&&x.duplicates==="combine"?S[tt]=s.combine(S[tt],at):(!et||x.duplicates==="last")&&(S[tt]=at)}return S},p=function(v,_,x,S){var A=0;if(v.length>0&&v[v.length-1]==="[]"){var T=v.slice(0,-1).join("");A=Array.isArray(_)&&_[T]?_[T].length:0}for(var I=S?_:o(_,x,A),D=v.length-1;D>=0;--D){var P,O=v[D];if(O==="[]"&&x.parseArrays)P=x.allowEmptyArrays&&(I===""||x.strictNullHandling&&I===null)?[]:s.combine([],I);else{P=x.plainObjects?{__proto__:null}:{};var X=O.charAt(0)==="["&&O.charAt(O.length-1)==="]"?O.slice(1,-1):O,B=x.decodeDotInKeys?X.replace(/%2E/g,"."):X,V=parseInt(B,10);!x.parseArrays&&B===""?P={0:I}:!isNaN(V)&&O!==B&&String(V)===B&&V>=0&&x.parseArrays&&V<=x.arrayLimit?(P=[],P[V]=I):B!=="__proto__"&&(P[B]=I)}I=P}return I},g=function(_,x,S,A){if(_){var T=S.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,I=/(\[[^[\]]*])/,D=/(\[[^[\]]*])/g,P=S.depth>0&&I.exec(T),O=P?T.slice(0,P.index):T,X=[];if(O){if(!S.plainObjects&&t.call(Object.prototype,O)&&!S.allowPrototypes)return;X.push(O)}for(var B=0;S.depth>0&&(P=D.exec(T))!==null&&B<S.depth;){if(B+=1,!S.plainObjects&&t.call(Object.prototype,P[1].slice(1,-1))&&!S.allowPrototypes)return;X.push(P[1])}if(P){if(S.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+S.depth+" and strictDepth is true");X.push("["+T.slice(P.index)+"]")}return p(X,x,S,A)}},y=function(_){if(!_)return r;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.decodeDotInKeys<"u"&&typeof _.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(_.decoder!==null&&typeof _.decoder<"u"&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof _.throwOnLimitExceeded<"u"&&typeof _.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var x=typeof _.charset>"u"?r.charset:_.charset,S=typeof _.duplicates>"u"?r.duplicates:_.duplicates;if(S!=="combine"&&S!=="first"&&S!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var A=typeof _.allowDots>"u"?_.decodeDotInKeys===!0?!0:r.allowDots:!!_.allowDots;return{allowDots:A,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:r.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:r.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:r.arrayLimit,charset:x,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:r.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:r.comma,decodeDotInKeys:typeof _.decodeDotInKeys=="boolean"?_.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof _.decoder=="function"?_.decoder:r.decoder,delimiter:typeof _.delimiter=="string"||s.isRegExp(_.delimiter)?_.delimiter:r.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:r.depth,duplicates:S,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:r.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:r.plainObjects,strictDepth:typeof _.strictDepth=="boolean"?!!_.strictDepth:r.strictDepth,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof _.throwOnLimitExceeded=="boolean"?_.throwOnLimitExceeded:!1}};return ud=function(v,_){var x=y(_);if(v===""||v===null||typeof v>"u")return x.plainObjects?{__proto__:null}:{};for(var S=typeof v=="string"?d(v,x):v,A=x.plainObjects?{__proto__:null}:{},T=Object.keys(S),I=0;I<T.length;++I){var D=T[I],P=g(D,S[D],x,typeof v=="string");A=s.merge(A,P,x)}return x.allowSparse===!0?A:s.compact(A)},ud}var hd,z0;function pS(){if(z0)return hd;z0=1;var s=fS(),t=dS(),e=Op();return hd={formats:e,parse:t,stringify:s},hd}var X0;function mS(){if(X0)return Yn;X0=1;var s=PA();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var e=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],h=["{","}","|","\\","^","`"].concat(o),c=["'"].concat(h),d=["%","/","?",";","#"].concat(c),p=["/","?","#"],g=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=pS();function T(O,X,B){if(O&&typeof O=="object"&&O instanceof t)return O;var V=new t;return V.parse(O,X,B),V}t.prototype.parse=function(O,X,B){if(typeof O!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof O);var V=O.indexOf("?"),tt=V!==-1&&V<O.indexOf("#")?"?":"#",at=O.split(tt),et=/\\/g;at[0]=at[0].replace(et,"/"),O=at.join(tt);var H=O;if(H=H.trim(),!B&&O.split("#").length===1){var Q=a.exec(H);if(Q)return this.path=H,this.href=H,this.pathname=Q[1],Q[2]?(this.search=Q[2],X?this.query=A.parse(this.search.substr(1)):this.query=this.search.substr(1)):X&&(this.search="",this.query={}),this}var J=e.exec(H);if(J){J=J[0];var dt=J.toLowerCase();this.protocol=dt,H=H.substr(J.length)}if(B||J||H.match(/^\/\/[^@/]+@[^@/]+/)){var w=H.substr(0,2)==="//";w&&!(J&&x[J])&&(H=H.substr(2),this.slashes=!0)}if(!x[J]&&(w||J&&!S[J])){for(var C=-1,M=0;M<p.length;M++){var k=H.indexOf(p[M]);k!==-1&&(C===-1||k<C)&&(C=k)}var E,N;C===-1?N=H.lastIndexOf("@"):N=H.lastIndexOf("@",C),N!==-1&&(E=H.slice(0,N),H=H.slice(N+1),this.auth=decodeURIComponent(E)),C=-1;for(var M=0;M<d.length;M++){var k=H.indexOf(d[M]);k!==-1&&(C===-1||k<C)&&(C=k)}C===-1&&(C=H.length),this.host=H.slice(0,C),H=H.slice(C),this.parseHost(),this.hostname=this.hostname||"";var F=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!F)for(var L=this.hostname.split(/\./),M=0,$=L.length;M<$;M++){var rt=L[M];if(rt&&!rt.match(y)){for(var lt="",ft=0,ct=rt.length;ft<ct;ft++)rt.charCodeAt(ft)>127?lt+="x":lt+=rt[ft];if(!lt.match(y)){var yt=L.slice(0,M),ut=L.slice(M+1),vt=rt.match(v);vt&&(yt.push(vt[1]),ut.unshift(vt[2])),ut.length&&(H="/"+ut.join(".")+H),this.hostname=yt.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=s.toASCII(this.hostname));var xt=this.port?":"+this.port:"",Ot=this.hostname||"";this.host=Ot+xt,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),H[0]!=="/"&&(H="/"+H))}if(!_[dt])for(var M=0,$=c.length;M<$;M++){var Ft=c[M];if(H.indexOf(Ft)!==-1){var Tt=encodeURIComponent(Ft);Tt===Ft&&(Tt=escape(Ft)),H=H.split(Ft).join(Tt)}}var St=H.indexOf("#");St!==-1&&(this.hash=H.substr(St),H=H.slice(0,St));var Yt=H.indexOf("?");if(Yt!==-1?(this.search=H.substr(Yt),this.query=H.substr(Yt+1),X&&(this.query=A.parse(this.query)),H=H.slice(0,Yt)):X&&(this.search="",this.query={}),H&&(this.pathname=H),S[dt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var xt=this.pathname||"",me=this.search||"";this.path=xt+me}return this.href=this.format(),this};function I(O){return typeof O=="string"&&(O=T(O)),O instanceof t?O.format():t.prototype.format.call(O)}t.prototype.format=function(){var O=this.auth||"";O&&(O=encodeURIComponent(O),O=O.replace(/%3A/i,":"),O+="@");var X=this.protocol||"",B=this.pathname||"",V=this.hash||"",tt=!1,at="";this.host?tt=O+this.host:this.hostname&&(tt=O+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(tt+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(at=A.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var et=this.search||at&&"?"+at||"";return X&&X.substr(-1)!==":"&&(X+=":"),this.slashes||(!X||S[X])&&tt!==!1?(tt="//"+(tt||""),B&&B.charAt(0)!=="/"&&(B="/"+B)):tt||(tt=""),V&&V.charAt(0)!=="#"&&(V="#"+V),et&&et.charAt(0)!=="?"&&(et="?"+et),B=B.replace(/[?#]/g,function(H){return encodeURIComponent(H)}),et=et.replace("#","%23"),X+tt+B+et+V};function D(O,X){return T(O,!1,!0).resolve(X)}t.prototype.resolve=function(O){return this.resolveObject(T(O,!1,!0)).format()};function P(O,X){return O?T(O,!1,!0).resolveObject(X):X}return t.prototype.resolveObject=function(O){if(typeof O=="string"){var X=new t;X.parse(O,!1,!0),O=X}for(var B=new t,V=Object.keys(this),tt=0;tt<V.length;tt++){var at=V[tt];B[at]=this[at]}if(B.hash=O.hash,O.href==="")return B.href=B.format(),B;if(O.slashes&&!O.protocol){for(var et=Object.keys(O),H=0;H<et.length;H++){var Q=et[H];Q!=="protocol"&&(B[Q]=O[Q])}return S[B.protocol]&&B.hostname&&!B.pathname&&(B.pathname="/",B.path=B.pathname),B.href=B.format(),B}if(O.protocol&&O.protocol!==B.protocol){if(!S[O.protocol]){for(var J=Object.keys(O),dt=0;dt<J.length;dt++){var w=J[dt];B[w]=O[w]}return B.href=B.format(),B}if(B.protocol=O.protocol,!O.host&&!x[O.protocol]){for(var $=(O.pathname||"").split("/");$.length&&!(O.host=$.shift()););O.host||(O.host=""),O.hostname||(O.hostname=""),$[0]!==""&&$.unshift(""),$.length<2&&$.unshift(""),B.pathname=$.join("/")}else B.pathname=O.pathname;if(B.search=O.search,B.query=O.query,B.host=O.host||"",B.auth=O.auth,B.hostname=O.hostname||O.host,B.port=O.port,B.pathname||B.search){var C=B.pathname||"",M=B.search||"";B.path=C+M}return B.slashes=B.slashes||O.slashes,B.href=B.format(),B}var k=B.pathname&&B.pathname.charAt(0)==="/",E=O.host||O.pathname&&O.pathname.charAt(0)==="/",N=E||k||B.host&&O.pathname,F=N,L=B.pathname&&B.pathname.split("/")||[],$=O.pathname&&O.pathname.split("/")||[],rt=B.protocol&&!S[B.protocol];if(rt&&(B.hostname="",B.port=null,B.host&&(L[0]===""?L[0]=B.host:L.unshift(B.host)),B.host="",O.protocol&&(O.hostname=null,O.port=null,O.host&&($[0]===""?$[0]=O.host:$.unshift(O.host)),O.host=null),N=N&&($[0]===""||L[0]==="")),E)B.host=O.host||O.host===""?O.host:B.host,B.hostname=O.hostname||O.hostname===""?O.hostname:B.hostname,B.search=O.search,B.query=O.query,L=$;else if($.length)L||(L=[]),L.pop(),L=L.concat($),B.search=O.search,B.query=O.query;else if(O.search!=null){if(rt){B.host=L.shift(),B.hostname=B.host;var lt=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;lt&&(B.auth=lt.shift(),B.hostname=lt.shift(),B.host=B.hostname)}return B.search=O.search,B.query=O.query,(B.pathname!==null||B.search!==null)&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.href=B.format(),B}if(!L.length)return B.pathname=null,B.search?B.path="/"+B.search:B.path=null,B.href=B.format(),B;for(var ft=L.slice(-1)[0],ct=(B.host||O.host||L.length>1)&&(ft==="."||ft==="..")||ft==="",yt=0,ut=L.length;ut>=0;ut--)ft=L[ut],ft==="."?L.splice(ut,1):ft===".."?(L.splice(ut,1),yt++):yt&&(L.splice(ut,1),yt--);if(!N&&!F)for(;yt--;yt)L.unshift("..");N&&L[0]!==""&&(!L[0]||L[0].charAt(0)!=="/")&&L.unshift(""),ct&&L.join("/").substr(-1)!=="/"&&L.push("");var vt=L[0]===""||L[0]&&L[0].charAt(0)==="/";if(rt){B.hostname=vt?"":L.length?L.shift():"",B.host=B.hostname;var lt=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;lt&&(B.auth=lt.shift(),B.hostname=lt.shift(),B.host=B.hostname)}return N=N||B.host&&L.length,N&&!vt&&L.unshift(""),L.length>0?B.pathname=L.join("/"):(B.pathname=null,B.path=null),(B.pathname!==null||B.search!==null)&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.auth=O.auth||B.auth,B.slashes=B.slashes||O.slashes,B.href=B.format(),B},t.prototype.parseHost=function(){var O=this.host,X=r.exec(O);X&&(X=X[0],X!==":"&&(this.port=X.substr(1)),O=O.substr(0,O.length-X.length)),O&&(this.hostname=O)},Yn.parse=T,Yn.resolve=D,Yn.resolveObject=P,Yn.format=I,Yn.Url=t,Yn}mS();const V0={};function Xt(s,t,e=3){if(V0[t])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(r=r.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(r))),V0[t]=!0}function wi(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function fl(s){return s.split("?")[0].split("#")[0]}function gS(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yS(s,t,e){return s.replace(new RegExp(gS(t),"g"),e)}function vS(s,t){let e="",r=0,a=-1,o=0,h=-1;for(let c=0;c<=s.length;++c){if(c<s.length)h=s.charCodeAt(c);else{if(h===47)break;h=47}if(h===47){if(!(a===c-1||o===1))if(a!==c-1&&o===2){if(e.length<2||r!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const d=e.lastIndexOf("/");if(d!==e.length-1){d===-1?(e="",r=0):(e=e.slice(0,d),r=e.length-1-e.lastIndexOf("/")),a=c,o=0;continue}}else if(e.length===2||e.length===1){e="",r=0,a=c,o=0;continue}}}else e.length>0?e+=`/${s.slice(a+1,c)}`:e=s.slice(a+1,c),r=c-a-1;a=c,o=0}else h===46&&o!==-1?++o:o=-1}return e}const Be={toPosix(s){return yS(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){wi(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(s);return e?e[0]:""},toAbsolute(s,t,e){if(wi(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const r=fl(this.toPosix(t??gt.ADAPTER.getBaseUrl())),a=fl(this.toPosix(e??this.rootname(r)));return s=this.toPosix(s),s.startsWith("/")?Be.join(a,s.slice(1)):this.isAbsolute(s)?s:this.join(r,s)},normalize(s){if(wi(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const e=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const r=s.endsWith("/");return s=vS(s),s.length>0&&r&&(s+="/"),e?`/${s}`:t+s},isAbsolute(s){return wi(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let e=0;e<s.length;++e){const r=s[e];if(wi(r),r.length>0)if(t===void 0)t=r;else{const a=s[e-1]??"";this.joinExtensions.includes(this.extname(a).toLowerCase())?t+=`/../${r}`:t+=`/${r}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(wi(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const e=t===47;let r=-1,a=!0;const o=this.getProtocol(s),h=s;s=s.slice(o.length);for(let c=s.length-1;c>=1;--c)if(t=s.charCodeAt(c),t===47){if(!a){r=c;break}}else a=!1;return r===-1?e?"/":this.isUrl(h)?o+s:o:e&&r===1?"//":o+s.slice(0,r)},rootname(s){wi(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const e=s.indexOf("/",t.length);e!==-1?t=s.slice(0,e):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){wi(s),t&&wi(t),s=fl(this.toPosix(s));let e=0,r=-1,a=!0,o;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let h=t.length-1,c=-1;for(o=s.length-1;o>=0;--o){const d=s.charCodeAt(o);if(d===47){if(!a){e=o+1;break}}else c===-1&&(a=!1,c=o+1),h>=0&&(d===t.charCodeAt(h)?--h===-1&&(r=o):(h=-1,r=c))}return e===r?r=c:r===-1&&(r=s.length),s.slice(e,r)}for(o=s.length-1;o>=0;--o)if(s.charCodeAt(o)===47){if(!a){e=o+1;break}}else r===-1&&(a=!1,r=o+1);return r===-1?"":s.slice(e,r)},extname(s){wi(s),s=fl(this.toPosix(s));let t=-1,e=0,r=-1,a=!0,o=0;for(let h=s.length-1;h>=0;--h){const c=s.charCodeAt(h);if(c===47){if(!a){e=h+1;break}continue}r===-1&&(a=!1,r=h+1),c===46?t===-1?t=h:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||r===-1||o===0||o===1&&t===r-1&&t===e+1?"":s.slice(t,r)},parse(s){wi(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=fl(this.toPosix(s));let e=s.charCodeAt(0);const r=this.isAbsolute(s);let a;t.root=this.rootname(s),r||this.hasProtocol(s)?a=1:a=0;let o=-1,h=0,c=-1,d=!0,p=s.length-1,g=0;for(;p>=a;--p){if(e=s.charCodeAt(p),e===47){if(!d){h=p+1;break}continue}c===-1&&(d=!1,c=p+1),e===46?o===-1?o=p:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||c===-1||g===0||g===1&&o===c-1&&o===h+1?c!==-1&&(h===0&&r?t.base=t.name=s.slice(1,c):t.base=t.name=s.slice(h,c)):(h===0&&r?(t.name=s.slice(1,o),t.base=s.slice(1,c)):(t.name=s.slice(h,o),t.base=s.slice(h,c)),t.ext=s.slice(o,c)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let cd;async function _S(){return cd??(cd=(async()=>{const s=document.createElement("canvas").getContext("webgl");if(!s)return Ke.UNPACK;const t=await new Promise(o=>{const h=document.createElement("video");h.onloadeddata=()=>o(h),h.onerror=()=>o(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!t)return Ke.UNPACK;const e=s.createTexture();s.bindTexture(s.TEXTURE_2D,e);const r=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,r),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e,0),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.NONE),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,t);const a=new Uint8Array(4);return s.readPixels(0,0,1,1,s.RGBA,s.UNSIGNED_BYTE,a),s.deleteFramebuffer(r),s.deleteTexture(e),s.getExtension("WEBGL_lose_context")?.loseContext(),a[0]<=a[3]?Ke.PMA:Ke.UNPACK})()),cd}let fd;function xS(){return typeof fd>"u"&&(fd=function(){const s={stencil:!0,failIfMajorPerformanceCaveat:gt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!gt.ADAPTER.getWebGLRenderingContext())return!1;const t=gt.ADAPTER.createCanvas();let e=t.getContext("webgl",s)||t.getContext("experimental-webgl",s);const r=!!e?.getContextAttributes()?.stencil;if(e){const a=e.getExtension("WEBGL_lose_context");a&&a.loseContext()}return e=null,r}catch{return!1}}()),fd}var bS={grad:.9,turn:360,rad:360/(2*Math.PI)},Cr=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},Oe=function(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*s)/e+0},_i=function(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),s>e?e:s>t?s:t},mx=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},j0=function(s){return{r:_i(s.r,0,255),g:_i(s.g,0,255),b:_i(s.b,0,255),a:_i(s.a)}},dd=function(s){return{r:Oe(s.r),g:Oe(s.g),b:Oe(s.b),a:Oe(s.a,3)}},ES=/^#([0-9a-f]{3,8})$/i,Zo=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},gx=function(s){var t=s.r,e=s.g,r=s.b,a=s.a,o=Math.max(t,e,r),h=o-Math.min(t,e,r),c=h?o===t?(e-r)/h:o===e?2+(r-t)/h:4+(t-e)/h:0;return{h:60*(c<0?c+6:c),s:o?h/o*100:0,v:o/255*100,a}},yx=function(s){var t=s.h,e=s.s,r=s.v,a=s.a;t=t/360*6,e/=100,r/=100;var o=Math.floor(t),h=r*(1-e),c=r*(1-(t-o)*e),d=r*(1-(1-t+o)*e),p=o%6;return{r:255*[r,c,h,h,d,r][p],g:255*[d,r,r,c,h,h][p],b:255*[h,h,d,r,r,c][p],a}},q0=function(s){return{h:mx(s.h),s:_i(s.s,0,100),l:_i(s.l,0,100),a:_i(s.a)}},Y0=function(s){return{h:Oe(s.h),s:Oe(s.s),l:Oe(s.l),a:Oe(s.a,3)}},$0=function(s){return yx((e=(t=s).s,{h:t.h,s:(e*=((r=t.l)<50?r:100-r)/100)>0?2*e/(r+e)*100:0,v:r+e,a:t.a}));var t,e,r},Al=function(s){return{h:(t=gx(s)).h,s:(a=(200-(e=t.s))*(r=t.v)/100)>0&&a<200?e*r/100/(a<=100?a:200-a)*100:0,l:a/2,a:t.a};var t,e,r,a},TS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,AS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,SS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,kd={string:[[function(s){var t=ES.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?Oe(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?Oe(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=SS.exec(s)||wS.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:j0({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=TS.exec(s)||AS.exec(s);if(!t)return null;var e,r,a=q0({h:(e=t[1],r=t[2],r===void 0&&(r="deg"),Number(e)*(bS[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return $0(a)},"hsl"]],object:[[function(s){var t=s.r,e=s.g,r=s.b,a=s.a,o=a===void 0?1:a;return Cr(t)&&Cr(e)&&Cr(r)?j0({r:Number(t),g:Number(e),b:Number(r),a:Number(o)}):null},"rgb"],[function(s){var t=s.h,e=s.s,r=s.l,a=s.a,o=a===void 0?1:a;if(!Cr(t)||!Cr(e)||!Cr(r))return null;var h=q0({h:Number(t),s:Number(e),l:Number(r),a:Number(o)});return $0(h)},"hsl"],[function(s){var t=s.h,e=s.s,r=s.v,a=s.a,o=a===void 0?1:a;if(!Cr(t)||!Cr(e)||!Cr(r))return null;var h=function(c){return{h:mx(c.h),s:_i(c.s,0,100),v:_i(c.v,0,100),a:_i(c.a)}}({h:Number(t),s:Number(e),v:Number(r),a:Number(o)});return yx(h)},"hsv"]]},W0=function(s,t){for(var e=0;e<t.length;e++){var r=t[e][0](s);if(r)return[r,t[e][1]]}return[null,void 0]},RS=function(s){return typeof s=="string"?W0(s.trim(),kd.string):typeof s=="object"&&s!==null?W0(s,kd.object):[null,void 0]},pd=function(s,t){var e=Al(s);return{h:e.h,s:_i(e.s+100*t,0,100),l:e.l,a:e.a}},md=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},Z0=function(s,t){var e=Al(s);return{h:e.h,s:e.s,l:_i(e.l+100*t,0,100),a:e.a}},Hd=function(){function s(t){this.parsed=RS(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return Oe(md(this.rgba),2)},s.prototype.isDark=function(){return md(this.rgba)<.5},s.prototype.isLight=function(){return md(this.rgba)>=.5},s.prototype.toHex=function(){return t=dd(this.rgba),e=t.r,r=t.g,a=t.b,h=(o=t.a)<1?Zo(Oe(255*o)):"","#"+Zo(e)+Zo(r)+Zo(a)+h;var t,e,r,a,o,h},s.prototype.toRgb=function(){return dd(this.rgba)},s.prototype.toRgbString=function(){return t=dd(this.rgba),e=t.r,r=t.g,a=t.b,(o=t.a)<1?"rgba("+e+", "+r+", "+a+", "+o+")":"rgb("+e+", "+r+", "+a+")";var t,e,r,a,o},s.prototype.toHsl=function(){return Y0(Al(this.rgba))},s.prototype.toHslString=function(){return t=Y0(Al(this.rgba)),e=t.h,r=t.s,a=t.l,(o=t.a)<1?"hsla("+e+", "+r+"%, "+a+"%, "+o+")":"hsl("+e+", "+r+"%, "+a+"%)";var t,e,r,a,o},s.prototype.toHsv=function(){return t=gx(this.rgba),{h:Oe(t.h),s:Oe(t.s),v:Oe(t.v),a:Oe(t.a,3)};var t},s.prototype.invert=function(){return qi({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),qi(pd(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),qi(pd(this.rgba,-t))},s.prototype.grayscale=function(){return qi(pd(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),qi(Z0(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),qi(Z0(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?qi({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):Oe(this.rgba.a,3);var e},s.prototype.hue=function(t){var e=Al(this.rgba);return typeof t=="number"?qi({h:t,s:e.s,l:e.l,a:e.a}):Oe(e.h)},s.prototype.isEqual=function(t){return this.toHex()===qi(t).toHex()},s}(),qi=function(s){return s instanceof Hd?s:new Hd(s)},K0=[],CS=function(s){s.forEach(function(t){K0.indexOf(t)<0&&(t(Hd,kd),K0.push(t))})};function MS(s,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var a in e)r[e[a]]=a;var o={};s.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,d,p=r[this.toHex()];if(p)return p;if(h?.closest){var g=this.toRgb(),y=1/0,v="black";if(!o.length)for(var _ in e)o[_]=new s(e[_]).toRgb();for(var x in e){var S=(c=g,d=o[x],Math.pow(c.r-d.r,2)+Math.pow(c.g-d.g,2)+Math.pow(c.b-d.b,2));S<y&&(y=S,v=x)}return v}},t.string.push([function(h){var c=h.toLowerCase(),d=c==="transparent"?"#0000":e[c];return d?new s(d).toRgb():null},"name"])}CS([MS]);const Ys=class vu{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof vu)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((a,o)=>a===e[o]);if(t!==null&&e!==null){const a=Object.keys(t),o=Object.keys(e);return a.length!==o.length?!1:a.every(h=>t[h]===e[h])}return t===e}toRgba(){const[t,e,r,a]=this._components;return{r:t,g:e,b:r,a}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,a]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(a*255),t}toRgbArray(t){t=t??[];const[e,r,a]=this._components;return t[0]=e,t[1]=r,t[2]=a,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,a,o]=vu.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=a,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,a=this._int>>8&255,o=this._int&255;return e&&(r=r*t+.5|0,a=a*t+.5|0,o=o*t+.5|0),(t*255<<24)+(r<<16)+(a<<8)+o}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,a]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(a*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,a,o]=this._components;return t[0]=e,t[1]=r,t[2]=a,t[3]=o,t}normalize(t){let e,r,a,o;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;e=(h>>16&255)/255,r=(h>>8&255)/255,a=(h&255)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,a,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,a,o=255]=t,e/=255,r/=255,a/=255,o/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const c=vu.HEX_PATTERN.exec(t);c&&(t=`#${c[2]}`)}const h=qi(t);h.isValid()&&({r:e,g:r,b:a,a:o}=h.rgba,e/=255,r/=255,a/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=a,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((a,o)=>{t[o]=Math.min(Math.max(a,e),r)}),t)}};Ys.shared=new Ys,Ys.temp=new Ys,Ys.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let se=Ys;function DS(s){return Xt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),se.shared.setValue(s).toHex()}function OS(s){return Xt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),se.shared.setValue(s).toNumber()}function BS(){const s=[],t=[];for(let r=0;r<32;r++)s[r]=r,t[r]=r;s[Dt.NORMAL_NPM]=Dt.NORMAL,s[Dt.ADD_NPM]=Dt.ADD,s[Dt.SCREEN_NPM]=Dt.SCREEN,t[Dt.NORMAL]=Dt.NORMAL_NPM,t[Dt.ADD]=Dt.ADD_NPM,t[Dt.SCREEN]=Dt.SCREEN_NPM;const e=[];return e.push(t),e.push(s),e}const vx=BS();function _x(s,t){return vx[t?1:0][s]}function IS(s,t=null){const e=s*6;if(t=t||new Uint16Array(e),t.length!==e)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${e}`);for(let r=0,a=0;r<e;r+=6,a+=4)t[r+0]=a+0,t[r+1]=a+1,t[r+2]=a+2,t[r+3]=a+0,t[r+4]=a+2,t[r+5]=a+3;return t}function xx(s){if(s.BYTES_PER_ELEMENT===4)return s instanceof Float32Array?"Float32Array":s instanceof Uint32Array?"Uint32Array":"Int32Array";if(s.BYTES_PER_ELEMENT===2){if(s instanceof Uint16Array)return"Uint16Array"}else if(s.BYTES_PER_ELEMENT===1&&s instanceof Uint8Array)return"Uint8Array";return null}function Cu(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function Q0(s){return!(s&s-1)&&!!s}function J0(s){let t=(s>65535?1:0)<<4;s>>>=t;let e=(s>255?1:0)<<3;return s>>>=e,t|=e,e=(s>15?1:0)<<2,s>>>=e,t|=e,e=(s>3?1:0)<<1,s>>>=e,t|=e,t|s>>1}function ea(s,t,e){const r=s.length;let a;if(t>=r||e===0)return;e=t+e>r?r-t:e;const o=r-e;for(a=t;a<o;++a)s[a]=s[a+e];s.length=o}function xn(s){return s===0?0:s<0?-1:1}let NS=0;function ss(){return++NS}const zd=class{constructor(s,t,e,r){this.left=s,this.top=t,this.right=e,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};zd.EMPTY=new zd(0,0,0,0);let t_=zd;const e_={},Yi=Object.create(null),mn=Object.create(null);class PS{constructor(t,e,r){this._canvas=gt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||gt.RESOLUTION,this.resize(t,e)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,e){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(e*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function i_(s,t,e){for(let r=0,a=4*e*t;r<t;++r,a+=4)if(s[a+3]!==0)return!1;return!0}function r_(s,t,e,r,a){const o=4*t;for(let h=r,c=r*o+4*e;h<=a;++h,c+=o)if(s[c+3]!==0)return!1;return!0}function US(s){const{width:t,height:e}=s,r=s.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const a=r.getImageData(0,0,t,e).data;let o=0,h=0,c=t-1,d=e-1;for(;h<e&&i_(a,t,h);)++h;if(h===e)return t_.EMPTY;for(;i_(a,t,d);)--d;for(;r_(a,t,o,h,d);)++o;for(;r_(a,t,c,h,d);)--c;return++c,++d,new t_(o,h,c,d)}function LS(s){const t=US(s),{width:e,height:r}=t;let a=null;if(!t.isEmpty()){const o=s.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");a=o.getImageData(t.left,t.top,e,r)}return{width:e,height:r,data:a}}function FS(s,t=globalThis.location){if(s.startsWith("data:"))return"";t=t||globalThis.location;const e=new URL(s,document.baseURI);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function Ur(s,t=1){const e=gt.RETINA_PREFIX?.exec(s);return e?parseFloat(e[1]):t}var pt=(s=>(s.Renderer="renderer",s.Application="application",s.RendererSystem="renderer-webgl-system",s.RendererPlugin="renderer-webgl-plugin",s.CanvasRendererSystem="renderer-canvas-system",s.CanvasRendererPlugin="renderer-canvas-plugin",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s))(pt||{});const Xd=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},n_=(s,t)=>Xd(s).priority??t,Et={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(Xd).forEach(t=>{t.type.forEach(e=>this._removeHandlers[e]?.(t))}),this},add(...s){return s.map(Xd).forEach(t=>{t.type.forEach(e=>{const r=this._addHandlers,a=this._queue;r[e]?r[e]?.(t):(a[e]=a[e]||[],a[e]?.push(t))})}),this},handle(s,t,e){const r=this._addHandlers,a=this._removeHandlers;if(r[s]||a[s])throw new Error(`Extension type ${s} already has a handler`);r[s]=t,a[s]=e;const o=this._queue;return o[s]&&(o[s]?.forEach(h=>t(h)),delete o[s]),this},handleByMap(s,t){return this.handle(s,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(s,t,e=-1){return this.handle(s,r=>{t.includes(r.ref)||(t.push(r.ref),t.sort((a,o)=>n_(o,e)-n_(a,e)))},r=>{const a=t.indexOf(r.ref);a!==-1&&t.splice(a,1)})}};class Vd{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const GS=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function kS(s){let t="";for(let e=0;e<s;++e)e>0&&(t+=`
else `),e<s-1&&(t+=`if(test == ${e}.0){}`);return t}function HS(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);for(;;){const r=GS.replace(/%forloop%/gi,kS(s));if(t.shaderSource(e,r),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))s=s/2|0;else break}return s}const gd=0,yd=1,vd=2,_d=3,xd=4,bd=5;class nr{constructor(){this.data=0,this.blendMode=Dt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<gd)}set blend(t){!!(this.data&1<<gd)!==t&&(this.data^=1<<gd)}get offsets(){return!!(this.data&1<<yd)}set offsets(t){!!(this.data&1<<yd)!==t&&(this.data^=1<<yd)}get culling(){return!!(this.data&1<<vd)}set culling(t){!!(this.data&1<<vd)!==t&&(this.data^=1<<vd)}get depthTest(){return!!(this.data&1<<_d)}set depthTest(t){!!(this.data&1<<_d)!==t&&(this.data^=1<<_d)}get depthMask(){return!!(this.data&1<<bd)}set depthMask(t){!!(this.data&1<<bd)!==t&&(this.data^=1<<bd)}get clockwiseFrontFace(){return!!(this.data&1<<xd)}set clockwiseFrontFace(t){!!(this.data&1<<xd)!==t&&(this.data^=1<<xd)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==Dt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new nr;return t.depthTest=!1,t.blend=!0,t}}nr.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const jd=[];function bx(s,t){if(!s)return null;let e="";if(typeof s=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(s);r&&(e=r[1].toLowerCase())}for(let r=jd.length-1;r>=0;--r){const a=jd[r];if(a.test&&a.test(s,e))return new a(s,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ii{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,e,r,a,o,h,c,d){if(arguments.length>8)throw new Error("max arguments reached");const{name:p,items:g}=this;this._aliasCount++;for(let y=0,v=g.length;y<v;y++)g[y][p](t,e,r,a,o,h,c,d);return g===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ii.prototype,{dispatch:{value:Ii.prototype.emit},run:{value:Ii.prototype.emit}});class Rl{constructor(t=0,e=0){this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Ii("setRealSize"),this.onUpdate=new Ii("update"),this.onError=new Ii("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,e,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,e){return!1}}class qu extends Rl{constructor(t,e){const{width:r,height:a}=e||{};if(!r||!a)throw new Error("BufferResource width or height invalid");super(r,a),this.data=t,this.unpackAlignment=e.unpackAlignment??4}upload(t,e,r){const a=t.gl;a.pixelStorei(a.UNPACK_ALIGNMENT,this.unpackAlignment),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===Ke.UNPACK);const o=e.realWidth,h=e.realHeight;return r.width===o&&r.height===h?a.texSubImage2D(e.target,0,0,0,o,h,e.format,r.type,this.data):(r.width=o,r.height=h,a.texImage2D(e.target,0,r.internalFormat,o,h,0,e.format,r.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const zS={scaleMode:Dr.NEAREST,alphaMode:Ke.NPM},qd=class $s extends Ol{constructor(t=null,e=null){super(),e=Object.assign({},$s.defaultOptions,e);const{alphaMode:r,mipmap:a,anisotropicLevel:o,scaleMode:h,width:c,height:d,wrapMode:p,format:g,type:y,target:v,resolution:_,resourceOptions:x}=e;t&&!(t instanceof Rl)&&(t=bx(t,x),t.internal=!0),this.resolution=_||gt.RESOLUTION,this.width=Math.round((c||0)*this.resolution)/this.resolution,this.height=Math.round((d||0)*this.resolution)/this.resolution,this._mipmap=a,this.anisotropicLevel=o,this._wrapMode=p,this._scaleMode=h,this.format=g,this.type=y,this.target=v,this.alphaMode=r,this.uid=ss(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=c>0&&d>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Q0(this.realWidth)&&Q0(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete mn[this.cacheId],delete Yi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),$s.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=gt.STRICT_TEXTURE_CACHE){const a=typeof t=="string";let o=null;if(a)o=t;else{if(!t._pixiId){const c=e?.pixiIdPrefix||"pixiid";t._pixiId=`${c}_${ss()}`}o=t._pixiId}let h=mn[o];if(a&&r&&!h)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return h||(h=new $s(t,e),h.cacheId=o,$s.addToCache(h,o)),h}static fromBuffer(t,e,r,a){t=t||new Float32Array(e*r*4);const o=new qu(t,{width:e,height:r,...a?.resourceOptions});let h,c;return t instanceof Float32Array?(h=ht.RGBA,c=Rt.FLOAT):t instanceof Int32Array?(h=ht.RGBA_INTEGER,c=Rt.INT):t instanceof Uint32Array?(h=ht.RGBA_INTEGER,c=Rt.UNSIGNED_INT):t instanceof Int16Array?(h=ht.RGBA_INTEGER,c=Rt.SHORT):t instanceof Uint16Array?(h=ht.RGBA_INTEGER,c=Rt.UNSIGNED_SHORT):t instanceof Int8Array?(h=ht.RGBA,c=Rt.BYTE):(h=ht.RGBA,c=Rt.UNSIGNED_BYTE),o.internal=!0,new $s(o,Object.assign({},zS,{type:c,format:h},a))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),mn[e]&&mn[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),mn[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=mn[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete mn[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete mn[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};qd.defaultOptions={mipmap:ir.POW2,anisotropicLevel:0,scaleMode:Dr.LINEAR,wrapMode:En.CLAMP,alphaMode:Ke.UNPACK,target:ta.TEXTURE_2D,format:ht.RGBA,type:Rt.UNSIGNED_BYTE},qd._globalBatch=0;let Nt=qd;class Yd{constructor(){this.texArray=null,this.blend=0,this.type=Qi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let XS=0;class ve{constructor(t,e=!0,r=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=XS++,this.disposeRunner=new Ii("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?Ji.ELEMENT_ARRAY_BUFFER:Ji.ARRAY_BUFFER}get index(){return this.type===Ji.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new ve(t)}}class Mu{constructor(t,e=0,r=!1,a=Rt.FLOAT,o,h,c,d=1){this.buffer=t,this.size=e,this.normalized=r,this.type=a,this.stride=o,this.start=h,this.instance=c,this.divisor=d}destroy(){this.buffer=null}static from(t,e,r,a,o){return new Mu(t,e,r,a,o)}}const VS={Float32Array,Uint32Array,Int32Array,Uint8Array};function jS(s,t){let e=0,r=0;const a={};for(let d=0;d<s.length;d++)r+=t[d],e+=s[d].length;const o=new ArrayBuffer(e*4);let h=null,c=0;for(let d=0;d<s.length;d++){const p=t[d],g=s[d],y=xx(g);a[y]||(a[y]=new VS[y](o)),h=a[y];for(let v=0;v<g.length;v++){const _=(v/p|0)*r+c,x=v%p;h[_+x]=g[v]}c+=p}return new Float32Array(o)}const s_={5126:4,5123:2,5121:1};let qS=0;const YS={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Tn{constructor(t=[],e={}){this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=qS++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ii("disposeGeometry"),this.refCount=0}addAttribute(t,e,r=0,a=!1,o,h,c,d=!1){if(!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof ve||(e instanceof Array&&(e=new Float32Array(e)),e=new ve(e));const p=t.split("|");if(p.length>1){for(let y=0;y<p.length;y++)this.addAttribute(p[y],e,r,a,o);return this}let g=this.buffers.indexOf(e);return g===-1&&(this.buffers.push(e),g=this.buffers.length-1),this.attributes[t]=new Mu(g,r,a,o,h,c,d),this.instanced=this.instanced||d,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof ve||(t instanceof Array&&(t=new Uint16Array(t)),t=new ve(t)),t.type=Ji.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],e=[],r=new ve;let a;for(a in this.attributes){const o=this.attributes[a],h=this.buffers[o.buffer];t.push(h.data),e.push(o.size*s_[o.type]/4),o.buffer=0}for(r.data=jS(t,e),a=0;a<this.buffers.length;a++)this.buffers[a]!==this.indexBuffer&&this.buffers[a].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new Tn;for(let e=0;e<this.buffers.length;e++)t.buffers[e]=new ve(this.buffers[e].data.slice(0));for(const e in this.attributes){const r=this.attributes[e];t.attributes[e]=new Mu(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Ji.ELEMENT_ARRAY_BUFFER),t}static merge(t){const e=new Tn,r=[],a=[],o=[];let h;for(let c=0;c<t.length;c++){h=t[c];for(let d=0;d<h.buffers.length;d++)a[d]=a[d]||0,a[d]+=h.buffers[d].data.length,o[d]=0}for(let c=0;c<h.buffers.length;c++)r[c]=new YS[xx(h.buffers[c].data)](a[c]),e.buffers[c]=new ve(r[c]);for(let c=0;c<t.length;c++){h=t[c];for(let d=0;d<h.buffers.length;d++)r[d].set(h.buffers[d].data,o[d]),o[d]+=h.buffers[d].data.length}if(e.attributes=h.attributes,h.indexBuffer){e.indexBuffer=e.buffers[h.buffers.indexOf(h.indexBuffer)],e.indexBuffer.type=Ji.ELEMENT_ARRAY_BUFFER;let c=0,d=0,p=0,g=0;for(let y=0;y<h.buffers.length;y++)if(h.buffers[y]!==h.indexBuffer){g=y;break}for(const y in h.attributes){const v=h.attributes[y];(v.buffer|0)===g&&(d+=v.size*s_[v.type]/4)}for(let y=0;y<t.length;y++){const v=t[y].indexBuffer.data;for(let _=0;_<v.length;_++)e.indexBuffer.data[_+p]+=c;c+=t[y].buffers[g].data.length/d,p+=v.length}}return e}}class Ex extends Tn{constructor(t=!1){super(),this._buffer=new ve(null,t,!1),this._indexBuffer=new ve(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Rt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Rt.FLOAT).addAttribute("aColor",this._buffer,4,!0,Rt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Rt.FLOAT).addIndex(this._indexBuffer)}}const Du=Math.PI*2,$S=180/Math.PI,WS=Math.PI/180;var Le=(s=>(s[s.POLY=0]="POLY",s[s.RECT=1]="RECT",s[s.CIRC=2]="CIRC",s[s.ELIP=3]="ELIP",s[s.RREC=4]="RREC",s))(Le||{});class jt{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new jt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}}jt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Ko=[new jt,new jt,new jt,new jt];class Ut{constructor(t=0,e=0,r=0,a=0){this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(a),this.type=Le.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ut(0,0,0,0)}clone(){return new Ut(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}intersects(t,e){if(!e){const V=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=V)return!1;const tt=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>tt}const r=this.left,a=this.right,o=this.top,h=this.bottom;if(a<=r||h<=o)return!1;const c=Ko[0].set(t.left,t.top),d=Ko[1].set(t.left,t.bottom),p=Ko[2].set(t.right,t.top),g=Ko[3].set(t.right,t.bottom);if(p.x<=c.x||d.y<=c.y)return!1;const y=Math.sign(e.a*e.d-e.b*e.c);if(y===0||(e.apply(c,c),e.apply(d,d),e.apply(p,p),e.apply(g,g),Math.max(c.x,d.x,p.x,g.x)<=r||Math.min(c.x,d.x,p.x,g.x)>=a||Math.max(c.y,d.y,p.y,g.y)<=o||Math.min(c.y,d.y,p.y,g.y)>=h))return!1;const v=y*(d.y-c.y),_=y*(c.x-d.x),x=v*r+_*o,S=v*a+_*o,A=v*r+_*h,T=v*a+_*h;if(Math.max(x,S,A,T)<=v*c.x+_*c.y||Math.min(x,S,A,T)>=v*g.x+_*g.y)return!1;const I=y*(c.y-p.y),D=y*(p.x-c.x),P=I*r+D*o,O=I*a+D*o,X=I*r+D*h,B=I*a+D*h;return!(Math.max(P,O,X,B)<=I*c.x+D*c.y||Math.min(P,O,X,B)>=I*g.x+D*g.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),a=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=a,this.height=Math.max(o-a,0),this}ceil(t=1,e=.001){const r=Math.ceil((this.x+this.width-e)*t)/t,a=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=a-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),a=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=a,this.height=o-a,this}}Ut.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Yu{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.radius=r,this.type=Le.CIRC}clone(){return new Yu(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const r=this.radius*this.radius;let a=this.x-t,o=this.y-e;return a*=a,o*=o,a+o<=r}getBounds(){return new Ut(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Yu.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class $u{constructor(t=0,e=0,r=0,a=0){this.x=t,this.y=e,this.width=r,this.height=a,this.type=Le.ELIP}clone(){return new $u(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;let r=(t-this.x)/this.width,a=(e-this.y)/this.height;return r*=r,a*=a,r+a<=1}getBounds(){return new Ut(this.x-this.width,this.y-this.height,this.width,this.height)}}$u.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class rs{constructor(...t){let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const r=[];for(let a=0,o=e.length;a<o;a++)r.push(e[a].x,e[a].y);e=r}this.points=e,this.type=Le.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),e=new rs(t);return e.closeStroke=this.closeStroke,e}contains(t,e){let r=!1;const a=this.points.length/2;for(let o=0,h=a-1;o<a;h=o++){const c=this.points[o*2],d=this.points[o*2+1],p=this.points[h*2],g=this.points[h*2+1];d>e!=g>e&&t<(p-c)*((e-d)/(g-d))+c&&(r=!r)}return r}}rs.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((s,t)=>`${s}, ${t}`,"")}]`};class Wu{constructor(t=0,e=0,r=0,a=0,o=20){this.x=t,this.y=e,this.width=r,this.height=a,this.radius=o,this.type=Le.RREC}clone(){return new Wu(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+r&&e<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let a=t-(this.x+r),o=e-(this.y+r);const h=r*r;if(a*a+o*o<=h||(a=t-(this.x+this.width-r),a*a+o*o<=h)||(o=e-(this.y+this.height-r),a*a+o*o<=h)||(a=t-(this.x+r),a*a+o*o<=h))return!0}return!1}}Wu.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class ae{constructor(t=1,e=0,r=0,a=1,o=0,h=0){this.array=null,this.a=t,this.b=e,this.c=r,this.d=a,this.tx=o,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,r,a,o,h){return this.a=t,this.b=e,this.c=r,this.d=a,this.tx=o,this.ty=h,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,e){e=e||new jt;const r=t.x,a=t.y;return e.x=this.a*r+this.c*a+this.tx,e.y=this.b*r+this.d*a+this.ty,e}applyInverse(t,e){e=e||new jt;const r=1/(this.a*this.d+this.c*-this.b),a=t.x,o=t.y;return e.x=this.d*r*a+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*a+(-this.ty*this.a+this.tx*this.b)*r,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),a=this.a,o=this.c,h=this.tx;return this.a=a*e-this.b*r,this.b=a*r+this.b*e,this.c=o*e-this.d*r,this.d=o*r+this.d*e,this.tx=h*e-this.ty*r,this.ty=h*r+this.ty*e,this}append(t){const e=this.a,r=this.b,a=this.c,o=this.d;return this.a=t.a*e+t.b*a,this.b=t.a*r+t.b*o,this.c=t.c*e+t.d*a,this.d=t.c*r+t.d*o,this.tx=t.tx*e+t.ty*a+this.tx,this.ty=t.tx*r+t.ty*o+this.ty,this}setTransform(t,e,r,a,o,h,c,d,p){return this.a=Math.cos(c+p)*o,this.b=Math.sin(c+p)*o,this.c=-Math.sin(c-d)*h,this.d=Math.cos(c-d)*h,this.tx=t-(r*this.a+a*this.c),this.ty=e-(r*this.b+a*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,a=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=a*t.a+this.d*t.c,this.d=a*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,r=this.b,a=this.c,o=this.d,h=t.pivot,c=-Math.atan2(-a,o),d=Math.atan2(r,e),p=Math.abs(c+d);return p<1e-5||Math.abs(Du-p)<1e-5?(t.rotation=d,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=c,t.skew.y=d),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(a*a+o*o),t.position.x=this.tx+(h.x*e+h.y*a),t.position.y=this.ty+(h.x*r+h.y*o),t}invert(){const t=this.a,e=this.b,r=this.c,a=this.d,o=this.tx,h=t*a-e*r;return this.a=a/h,this.b=-e/h,this.c=-r/h,this.d=t/h,this.tx=(r*this.ty-a*o)/h,this.ty=-(t*this.ty-e*o)/h,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new ae;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new ae}static get TEMP_MATRIX(){return new ae}}ae.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Zn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Kn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Qn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Jn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],$d=[],Tx=[],Qo=Math.sign;function ZS(){for(let s=0;s<16;s++){const t=[];$d.push(t);for(let e=0;e<16;e++){const r=Qo(Zn[s]*Zn[e]+Qn[s]*Kn[e]),a=Qo(Kn[s]*Zn[e]+Jn[s]*Kn[e]),o=Qo(Zn[s]*Qn[e]+Qn[s]*Jn[e]),h=Qo(Kn[s]*Qn[e]+Jn[s]*Jn[e]);for(let c=0;c<16;c++)if(Zn[c]===r&&Kn[c]===a&&Qn[c]===o&&Jn[c]===h){t.push(c);break}}}for(let s=0;s<16;s++){const t=new ae;t.set(Zn[s],Kn[s],Qn[s],Jn[s],0,0),Tx.push(t)}}ZS();const ue={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>Zn[s],uY:s=>Kn[s],vX:s=>Qn[s],vY:s=>Jn[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>$d[s][t],sub:(s,t)=>$d[s][ue.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?ue.S:ue.N:Math.abs(t)*2<=Math.abs(s)?s>0?ue.E:ue.W:t>0?s>0?ue.SE:ue.SW:s>0?ue.NE:ue.NW,matrixAppendRotationInv:(s,t,e=0,r=0)=>{const a=Tx[ue.inv(t)];a.tx=e,a.ty=r,s.append(a)}};class Br{constructor(t,e,r=0,a=0){this._x=r,this._y=a,this.cb=t,this.scope=e}clone(t=this.cb,e=this.scope){return new Br(t,e,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}Br.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Wd=class{constructor(){this.worldTransform=new ae,this.localTransform=new ae,this.position=new Br(this.onChange,this,0,0),this.scale=new Br(this.onChange,this,1,1),this.pivot=new Br(this.onChange,this,0,0),this.skew=new Br(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const s=this.localTransform;this._localID!==this._currentLocalID&&(s.a=this._cx*this.scale.x,s.b=this._sx*this.scale.x,s.c=this._cy*this.scale.y,s.d=this._sy*this.scale.y,s.tx=this.position.x-(this.pivot.x*s.a+this.pivot.y*s.c),s.ty=this.position.y-(this.pivot.x*s.b+this.pivot.y*s.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(s){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==s._worldID){const e=s.worldTransform,r=this.worldTransform;r.a=t.a*e.a+t.b*e.c,r.b=t.a*e.b+t.b*e.d,r.c=t.c*e.a+t.d*e.c,r.d=t.c*e.b+t.d*e.d,r.tx=t.tx*e.a+t.ty*e.c+e.tx,r.ty=t.tx*e.b+t.ty*e.d+e.ty,this._parentID=s._worldID,this._worldID++}}setFromMatrix(s){s.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(s){this._rotation!==s&&(this._rotation=s,this.updateSkew())}};Wd.IDENTITY=new Wd;let Bp=Wd;Bp.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var KS=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,QS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function a_(s,t,e){const r=s.createShader(t);return s.shaderSource(r,e),s.compileShader(r),r}function Ed(s){const t=new Array(s);for(let e=0;e<t.length;e++)t[e]=!1;return t}function Ax(s,t){switch(s){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Ed(2*t);case"bvec3":return Ed(3*t);case"bvec4":return Ed(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ia=[{test:s=>s.type==="float"&&s.size===1&&!s.isArray,code:s=>`
            if(uv["${s}"] !== ud["${s}"].value)
            {
                ud["${s}"].value = uv["${s}"]
                gl.uniform1f(ud["${s}"].location, uv["${s}"])
            }
            `},{test:(s,t)=>(s.type==="sampler2D"||s.type==="samplerCube"||s.type==="sampler2DArray")&&s.size===1&&!s.isArray&&(t==null||t.castToBaseTexture!==void 0),code:s=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${s}"], t);

            if(ud["${s}"].value !== t)
            {
                ud["${s}"].value = t;
                gl.uniform1i(ud["${s}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(s,t)=>s.type==="mat3"&&s.size===1&&!s.isArray&&t.a!==void 0,code:s=>`
            gl.uniformMatrix3fv(ud["${s}"].location, false, uv["${s}"].toArray(true));
            `,codeUbo:s=>`
                var ${s}_matrix = uv.${s}.toArray(true);

                data[offset] = ${s}_matrix[0];
                data[offset+1] = ${s}_matrix[1];
                data[offset+2] = ${s}_matrix[2];
        
                data[offset + 4] = ${s}_matrix[3];
                data[offset + 5] = ${s}_matrix[4];
                data[offset + 6] = ${s}_matrix[5];
        
                data[offset + 8] = ${s}_matrix[6];
                data[offset + 9] = ${s}_matrix[7];
                data[offset + 10] = ${s}_matrix[8];
            `},{test:(s,t)=>s.type==="vec2"&&s.size===1&&!s.isArray&&t.x!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${s}"].location, v.x, v.y);
                }`,codeUbo:s=>`
                v = uv.${s};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:s=>s.type==="vec2"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${s}"].location, v[0], v[1]);
                }
            `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.width!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${s}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${s}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(s,t)=>s.type==="vec3"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${s}"].location, v.red, v.green, v.blue)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:s=>s.type==="vec4"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${s}"].location, v[0], v[1], v[2], v[3])
                }`}],JS={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},tw={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function ew(s,t){const e=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const r in s.uniforms){const a=t[r];if(!a){s.uniforms[r]?.group===!0&&(s.uniforms[r].ubo?e.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${r}, '${r}');
                    `):e.push(`
                        renderer.shader.syncUniformGroup(uv.${r}, syncData);
                    `));continue}const o=s.uniforms[r];let h=!1;for(let c=0;c<ia.length;c++)if(ia[c].test(a,o)){e.push(ia[c].code(r,o)),h=!0;break}if(!h){const c=(a.size===1&&!a.isArray?JS:tw)[a.type].replace("location",`ud["${r}"].location`);e.push(`
            cu = ud["${r}"];
            cv = cu.value;
            v = uv["${r}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",e.join(`
`))}const Sx={};let Jo=Sx;function iw(){if(Jo===Sx||Jo?.isContextLost()){const s=gt.ADAPTER.createCanvas();let t;gt.PREFER_ENV>=os.WEBGL2&&(t=s.getContext("webgl2",{})),t||(t=s.getContext("webgl",{})||s.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Jo=t}return Jo}let tu;function rw(){if(!tu){tu=vi.MEDIUM;const s=iw();if(s&&s.getShaderPrecisionFormat){const t=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT);t&&(tu=t.precision?vi.HIGH:vi.MEDIUM)}}return tu}function l_(s,t){const e=s.getShaderSource(t).split(`
`).map((p,g)=>`${g}: ${p}`),r=s.getShaderInfoLog(t),a=r.split(`
`),o={},h=a.map(p=>parseFloat(p.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(p=>p&&!o[p]?(o[p]=!0,!0):!1),c=[""];h.forEach(p=>{e[p-1]=`%c${e[p-1]}%c`,c.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const d=e.join(`
`);c[0]=d,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...c),console.groupEnd()}function nw(s,t,e,r){s.getProgramParameter(t,s.LINK_STATUS)||(s.getShaderParameter(e,s.COMPILE_STATUS)||l_(s,e),s.getShaderParameter(r,s.COMPILE_STATUS)||l_(s,r),console.error("PixiJS Error: Could not initialize shader."),s.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",s.getProgramInfoLog(t)))}const sw={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function wx(s){return sw[s]}let eu=null;const o_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Rx(s,t){if(!eu){const e=Object.keys(o_);eu={};for(let r=0;r<e.length;++r){const a=e[r];eu[s[a]]=o_[a]}}return eu[t]}function u_(s,t,e){if(s.substring(0,9)!=="precision"){let r=t;return t===vi.HIGH&&e!==vi.HIGH&&(r=vi.MEDIUM),`precision ${r} float;
${s}`}else if(e!==vi.HIGH&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}let dl;function aw(){if(typeof dl=="boolean")return dl;try{dl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{dl=!1}return dl}let lw=0;const iu={},Zd=class Ws{constructor(t,e,r="pixi-shader",a={}){this.extra={},this.id=lw++,this.vertexSrc=t||Ws.defaultVertexSrc,this.fragmentSrc=e||Ws.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=a,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),iu[r]?(iu[r]++,r+=`-${iu[r]}`):iu[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=u_(this.vertexSrc,Ws.defaultVertexPrecision,vi.HIGH),this.fragmentSrc=u_(this.fragmentSrc,Ws.defaultFragmentPrecision,rw())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return QS}static get defaultFragmentSrc(){return KS}static from(t,e,r){const a=t+e;let o=e_[a];return o||(e_[a]=o=new Ws(t,e,r)),o}};Zd.defaultVertexPrecision=vi.HIGH,Zd.defaultFragmentPrecision=Or.apple.device?vi.HIGH:vi.MEDIUM;let Ir=Zd,ow=0;class Ni{constructor(t,e,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ow++,this.static=!!e,this.ubo=!!r,t instanceof ve?(this.buffer=t,this.buffer.type=Ji.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new ve(new Float32Array(1)),this.buffer.type=Ji.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,e,r){if(!this.ubo)this.uniforms[t]=new Ni(e,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,e,r){return new Ni(t,e,r)}static uboFrom(t,e){return new Ni(t,e??!0,!0)}}class tr{constructor(t,e){this.uniformBindCount=0,this.program=t,e?e instanceof Ni?this.uniformGroup=e:this.uniformGroup=new Ni(e):this.uniformGroup=new Ni({}),this.disposeRunner=new Ii("disposeShader")}checkUniformExists(t,e){if(e.uniforms[t])return!0;for(const r in e.uniforms){const a=e.uniforms[r];if(a.group===!0&&this.checkUniformExists(t,a))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,e,r){const a=Ir.from(t,e);return new tr(a,r)}}class uw{constructor(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},!e.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!e.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const r=new Int32Array(t);for(let o=0;o<t;o++)r[o]=o;this.defaultGroupCache[t]=Ni.from({uSamplers:r},!0);let a=this.fragTemplate;a=a.replace(/%count%/gi,`${t}`),a=a.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Ir(this.vertexSrc,a)}const e={tint:new Float32Array([1,1,1,1]),translationMatrix:new ae,default:this.defaultGroupCache[t]};return new tr(this.programCache[t],e)}generateSampleSrc(t){let e="";e+=`
`,e+=`
`;for(let r=0;r<t;r++)r>0&&(e+=`
else `),r<t-1&&(e+=`if(vTextureId < ${r}.5)`),e+=`
{`,e+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,e+=`
}`;return e+=`
`,e+=`
`,e}}class Kd{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function hw(){return!Or.apple.device}function cw(s){let t=!0;const e=gt.ADAPTER.getNavigator();if(Or.tablet||Or.phone){if(Or.apple.device){const r=e.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(t=!1)}if(Or.android.device){const r=e.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(t=!1)}}return t?s:4}class Zu{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var fw=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,dw=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const yl=class Mi extends Zu{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=Ex,this.vertexSize=6,this.state=nr.for2d(),this.size=Mi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??cw(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??hw(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Xt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return dw}static get defaultFragmentTemplate(){return fw}setShaderGenerator({vertex:t=Mi.defaultVertexSrc,fragment:e=Mi.defaultFragmentTemplate}={}){this.shaderGenerator=new uw(t,e)}contextChange(){const t=this.renderer.gl;gt.PREFER_ENV===os.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Mi.defaultMaxTextures),this.maxTextures=HS(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Mi,r=this.size/4,a=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new Yd);for(;e.length<a;)e.push(new Kd);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=Mi._textureArrayPool,a=this.renderer.batch,o=this._tempBoundTextures,h=this.renderer.textureGC.count;let c=++Nt._globalBatch,d=0,p=r[0],g=0;a.copyBoundTextures(o,e);for(let y=0;y<this._bufferSize;++y){const v=t[y];t[y]=null,v._batchEnabled!==c&&(p.count>=e&&(a.boundArray(p,o,c,e),this.buildDrawCalls(p,g,y),g=y,p=r[++d],++c),v._batchEnabled=c,v.touched=h,p.elements[p.count++]=v)}p.count>0&&(a.boundArray(p,o,c,e),this.buildDrawCalls(p,g,this._bufferSize),++d,++c);for(let y=0;y<o.length;y++)o[y]=null;Nt._globalBatch=c}buildDrawCalls(t,e,r){const{_bufferedElements:a,_attributeBuffer:o,_indexBuffer:h,vertexSize:c}=this,d=Mi._drawCallPool;let p=this._dcIndex,g=this._aIndex,y=this._iIndex,v=d[p];v.start=this._iIndex,v.texArray=t;for(let _=e;_<r;++_){const x=a[_],S=x._texture.baseTexture,A=vx[S.alphaMode?1:0][x.blendMode];a[_]=null,e<_&&v.blend!==A&&(v.size=y-v.start,e=_,v=d[++p],v.texArray=t,v.start=y),this.packInterleavedGeometry(x,o,h,g,y),g+=x.vertexData.length/2*c,y+=x.indices.length,v.blend=A}e<r&&(v.size=y-v.start,++p),this._dcIndex=p,this._aIndex=g,this._iIndex=y}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;Mi.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,a=Mi._drawCallPool;let o=null;for(let h=0;h<t;h++){const{texArray:c,type:d,size:p,start:g,blend:y}=a[h];o!==c&&(o=c,this.bindAndClearTexArray(c)),this.state.blendMode=y,r.set(this.state),e.drawElements(d,p,e.UNSIGNED_SHORT,g*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Mi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Cu(Math.ceil(t/8)),r=J0(e),a=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new Vd(a*this.vertexSize*4)),o}getIndexBuffer(t){const e=Cu(Math.ceil(t/12)),r=J0(e),a=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let o=this._iBuffers[r];return o||(this._iBuffers[r]=o=new Uint16Array(a)),o}packInterleavedGeometry(t,e,r,a,o){const{uint32View:h,float32View:c}=e,d=a/this.vertexSize,p=t.uvs,g=t.indices,y=t.vertexData,v=t._texture.baseTexture._batchLocation,_=Math.min(t.worldAlpha,1),x=se.shared.setValue(t._tintRGB).toPremultiplied(_,t._texture.baseTexture.alphaMode>0);for(let S=0;S<y.length;S+=2)c[a++]=y[S],c[a++]=y[S+1],c[a++]=p[S],c[a++]=p[S+1],h[a++]=x,c[a++]=v;for(let S=0;S<g.length;S++)r[o++]=d+g[S]}};yl.defaultBatchSize=4096,yl.extension={name:"batch",type:pt.RendererPlugin},yl._drawCallPool=[],yl._textureArrayPool=[];let ts=yl;Et.add(ts);var pw=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,mw=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Qd=class vl extends tr{constructor(t,e,r){const a=Ir.from(t||vl.defaultVertexSrc,e||vl.defaultFragmentSrc);super(a,r),this.padding=0,this.resolution=vl.defaultResolution,this.multisample=vl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new nr}apply(t,e,r,a,o){t.applyFilter(this,e,r,a)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return mw}static get defaultFragmentSrc(){return pw}};Qd.defaultResolution=1,Qd.defaultMultisample=Ee.NONE;let Ve=Qd;class Ou{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new se(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:e,background:r,backgroundAlpha:a}=t,o=r??e;o!==void 0&&(this.color=o),this.alpha=a}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}Ou.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Ou.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"background"};Et.add(Ou);class Cx{constructor(t){this.renderer=t,this.emptyRenderer=new Zu(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,e){const{boundTextures:r}=this.renderer.texture;for(let a=e-1;a>=0;--a)t[a]=r[a]||null,t[a]&&(t[a]._batchLocation=a)}boundArray(t,e,r,a){const{elements:o,ids:h,count:c}=t;let d=0;for(let p=0;p<c;p++){const g=o[p],y=g._batchLocation;if(y>=0&&y<a&&e[y]===g){h[p]=y;continue}for(;d<a;){const v=e[d];if(v&&v._batchEnabled===r&&v._batchLocation===d){d++;continue}h[p]=d,g._batchLocation=d,e[d]=g;break}}}destroy(){this.renderer=null}}Cx.extension={type:pt.RendererSystem,name:"batch"};Et.add(Cx);let h_=0;class Bu{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=h_++}init(t){if(t.context)this.initFromContext(t.context);else{const e=this.renderer.background.alpha<1,r=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:e,premultipliedAlpha:r,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=h_++,this.renderer.runners.contextChange.emit(t);const e=this.renderer.view;e.addEventListener!==void 0&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const e=this.createContext(this.renderer.view,t);this.initFromContext(e)}createContext(t,e){let r;if(gt.PREFER_ENV>=os.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const e=t.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const a=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=a,a||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Bu.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Bu.extension={type:pt.RendererSystem,name:"context"};Et.add(Bu);class Jd{constructor(t,e){if(this.width=Math.round(t),this.height=Math.round(e),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ii("disposeFramebuffer"),this.multisample=Ee.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,e){return this.colorTextures[t]=e||new Nt(null,{scaleMode:Dr.NEAREST,resolution:1,mipmap:ir.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new Nt(null,{scaleMode:Dr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ir.OFF,format:ht.DEPTH_COMPONENT,type:Rt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,e){if(t=Math.round(t),e=Math.round(e),!t||!e)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&e===this.height)){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const a=this.colorTextures[r],o=a.resolution;a.setSize(t/o,e/o)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(t/r,e/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Mx extends Nt{constructor(t={}){if(typeof t=="number"){const e=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3];t={width:e,height:r,scaleMode:a,resolution:o}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=Ee.NONE),super(null,t),this.mipmap=ir.OFF,this.valid=!0,this._clear=new se([0,0,0,0]),this.framebuffer=new Jd(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Lr extends Rl{constructor(t){const e=t,r=e.naturalWidth||e.videoWidth||e.displayWidth||e.width,a=e.naturalHeight||e.videoHeight||e.displayHeight||e.height;super(r,a),this.source=t,this.noSubImage=!1}static crossOrigin(t,e,r){r===void 0&&!e.startsWith("data:")?t.crossOrigin=FS(e):r!==!1&&(t.crossOrigin=typeof r=="string"?r:"anonymous")}upload(t,e,r,a){const o=t.gl,h=e.realWidth,c=e.realHeight;if(a=a||this.source,typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===Ke.UNPACK),!this.noSubImage&&e.target===o.TEXTURE_2D&&r.width===h&&r.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.format,r.type,a):(r.width=h,r.height=c,o.texImage2D(e.target,0,r.internalFormat,e.format,r.type,a)),!0}update(){if(this.destroyed)return;const t=this.source,e=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;this.resize(e,r),super.update()}dispose(){this.source=null}}class Dx extends Lr{constructor(t,e){if(e=e||{},typeof t=="string"){const r=new Image;Lr.crossOrigin(r,t,e.crossorigin),r.src=t,t=r}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(e.createBitmap??gt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.bitmap=null,this._load=null,e.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((e,r)=>{const a=this.source;this.url=a.src;const o=()=>{this.destroyed||(a.onload=null,a.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};a.complete&&a.src?o():(a.onload=o,a.onerror=h=>{r(h),this.onError.emit(h)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const e=globalThis.createImageBitmap,r=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then(a=>a.blob()).then(a=>e(a,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ke.UNPACK?"premultiply":"none"})).then(a=>this.destroyed?Promise.reject():(this.bitmap=a,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,e,r){if(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,e,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,e,r,this.bitmap),!this.preserveBitmap){let a=!0;const o=e._glTextures;for(const h in o){const c=o[h];if(c!==r&&c.dirtyId!==e.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class Ip{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,e,r){const a=e.width,o=e.height;if(r){const h=t.width/2/a,c=t.height/2/o,d=t.x/a+h,p=t.y/o+c;r=ue.add(r,ue.NW),this.x0=d+h*ue.uX(r),this.y0=p+c*ue.uY(r),r=ue.add(r,2),this.x1=d+h*ue.uX(r),this.y1=p+c*ue.uY(r),r=ue.add(r,2),this.x2=d+h*ue.uX(r),this.y2=p+c*ue.uY(r),r=ue.add(r,2),this.x3=d+h*ue.uX(r),this.y3=p+c*ue.uY(r)}else this.x0=t.x/a,this.y0=t.y/o,this.x1=(t.x+t.width)/a,this.y1=t.y/o,this.x2=(t.x+t.width)/a,this.y2=(t.y+t.height)/o,this.x3=t.x/a,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Ip.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const c_=new Ip;function ru(s){s.destroy=function(){},s.on=function(){},s.once=function(){},s.emit=function(){}}class bt extends Ol{constructor(t,e,r,a,o,h,c){if(super(),this.noFrame=!1,e||(this.noFrame=!0,e=new Ut(0,0,1,1)),t instanceof bt&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=a,this.valid=!1,this.destroyed=!1,this._uvs=c_,this.uvMatrix=null,this.orig=r||e,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=h?new jt(h.x,h.y):new jt(0,0),this.defaultBorders=c,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=e:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:e}=this.baseTexture;e?.url&&Yi[e.url]&&bt.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,bt.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),r=new bt(this.baseTexture,!this.noFrame&&t,e,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=t),r}updateUvs(){this._uvs===c_&&(this._uvs=new Ip),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,e={},r=gt.STRICT_TEXTURE_CACHE){const a=typeof t=="string";let o=null;if(a)o=t;else if(t instanceof Nt){if(!t.cacheId){const c=e?.pixiIdPrefix||"pixiid";t.cacheId=`${c}-${ss()}`,Nt.addToCache(t,t.cacheId)}o=t.cacheId}else{if(!t._pixiId){const c=e?.pixiIdPrefix||"pixiid";t._pixiId=`${c}_${ss()}`}o=t._pixiId}let h=Yi[o];if(a&&r&&!h)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!h&&!(t instanceof Nt)?(e.resolution||(e.resolution=Ur(t)),h=new bt(new Nt(t,e)),h.baseTexture.cacheId=o,Nt.addToCache(h.baseTexture,o),bt.addToCache(h,o)):!h&&t instanceof Nt&&(h=new bt(t),bt.addToCache(h,o)),h}static fromURL(t,e){const r=Object.assign({autoLoad:!1},e?.resourceOptions),a=bt.from(t,Object.assign({resourceOptions:r},e),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(()=>Promise.resolve(a))}static fromBuffer(t,e,r,a){return new bt(Nt.fromBuffer(t,e,r,a))}static fromLoader(t,e,r,a){const o=new Nt(t,Object.assign({scaleMode:Nt.defaultOptions.scaleMode,resolution:Ur(e)},a)),{resource:h}=o;h instanceof Dx&&(h.url=e);const c=new bt(o);return r||(r=e),Nt.addToCache(c.baseTexture,r),bt.addToCache(c,r),r!==e&&(Nt.addToCache(c.baseTexture,e),bt.addToCache(c,e)),c.baseTexture.valid?Promise.resolve(c):new Promise(d=>{c.baseTexture.once("loaded",()=>d(c))})}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Yi[e]&&Yi[e]!==t&&console.warn(`Texture added to the cache with an id [${e}] that already had an entry`),Yi[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Yi[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Yi[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)Yi[t.textureCacheIds[e]]===t&&delete Yi[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:e,y:r,width:a,height:o}=t,h=e+a>this.baseTexture.width,c=r+o>this.baseTexture.height;if(h||c){const d=h&&c?"and":"or",p=`X: ${e} + ${a} = ${e+a} > ${this.baseTexture.width}`,g=`Y: ${r} + ${o} = ${r+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${p} ${d} ${g}`)}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return bt._EMPTY||(bt._EMPTY=new bt(new Nt),ru(bt._EMPTY),ru(bt._EMPTY.baseTexture)),bt._EMPTY}static get WHITE(){if(!bt._WHITE){const t=gt.ADAPTER.createCanvas(16,16),e=t.getContext("2d");t.width=16,t.height=16,e.fillStyle="white",e.fillRect(0,0,16,16),bt._WHITE=new bt(Nt.from(t)),ru(bt._WHITE),ru(bt._WHITE.baseTexture)}return bt._WHITE}}class us extends bt{constructor(t,e){super(t,e),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e,r=!0){const a=this.baseTexture.resolution,o=Math.round(t*a)/a,h=Math.round(e*a)/a;this.valid=o>0&&h>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=h,r&&this.baseTexture.resize(o,h),this.updateUvs()}setResolution(t){const{baseTexture:e}=this;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))}static create(t){return new us(new Mx(t))}}class Ox{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,e,r=Ee.NONE){const a=new Mx(Object.assign({width:t,height:e,resolution:1,multisample:r},this.textureOptions));return new us(a)}getOptimalTexture(t,e,r=1,a=Ee.NONE){let o;t=Math.max(Math.ceil(t*r-1e-6),1),e=Math.max(Math.ceil(e*r-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||e!==this._pixelsHeight?(t=Cu(t),e=Cu(e),o=((t&65535)<<16|e&65535)>>>0,a>1&&(o+=a*4294967296)):o=a>1?-a:-1,this.texturePool[o]||(this.texturePool[o]=[]);let h=this.texturePool[o].pop();return h||(h=this.createTexture(t,e,a)),h.filterPoolKey=o,h.setResolution(r),h}getFilterTexture(t,e,r){const a=this.getOptimalTexture(t.width,t.height,e||t.resolution,r||Ee.NONE);return a.filterFrame=t.filterFrame,a}returnTexture(t){const e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const e in this.texturePool){const r=this.texturePool[e];if(r)for(let a=0;a<r.length;a++)r[a].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const r=this.texturePool[e];if(r)for(let a=0;a<r.length;a++)r[a].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}Ox.SCREEN_KEY=-1;class gw extends Tn{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Bx extends Tn{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ve(this.vertices),this.uvBuffer=new ve(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,e){let r=0,a=0;return this.uvs[0]=r,this.uvs[1]=a,this.uvs[2]=r+e.width/t.width,this.uvs[3]=a,this.uvs[4]=r+e.width/t.width,this.uvs[5]=a+e.height/t.height,this.uvs[6]=r,this.uvs[7]=a+e.height/t.height,r=e.x,a=e.y,this.vertices[0]=r,this.vertices[1]=a,this.vertices[2]=r+e.width,this.vertices[3]=a,this.vertices[4]=r+e.width,this.vertices[5]=a+e.height,this.vertices[6]=r,this.vertices[7]=a+e.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class yw{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ee.NONE,this.sourceFrame=new Ut,this.destinationFrame=new Ut,this.bindingSourceFrame=new Ut,this.bindingDestinationFrame=new Ut,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const nu=[new jt,new jt,new jt,new jt],Td=new ae;class Ix{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Ox,this.statePool=[],this.quad=new gw,this.quadUv=new Bx,this.tempRect=new Ut,this.activeState={},this.globalUniforms=new Ni({outputFrame:new Ut,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,e){const r=this.renderer,a=this.defaultFilterStack,o=this.statePool.pop()||new yw,h=r.renderTexture;let c,d;if(h.current){const A=h.current;c=A.resolution,d=A.multisample}else c=r.resolution,d=r.multisample;let p=e[0].resolution||c,g=e[0].multisample??d,y=e[0].padding,v=e[0].autoFit,_=e[0].legacy??!0;for(let A=1;A<e.length;A++){const T=e[A];p=Math.min(p,T.resolution||c),g=Math.min(g,T.multisample??d),y=this.useMaxPadding?Math.max(y,T.padding):y+T.padding,v=v&&T.autoFit,_=_||(T.legacy??!0)}a.length===1&&(this.defaultFilterStack[0].renderTexture=h.current),a.push(o),o.resolution=p,o.multisample=g,o.legacy=_,o.target=t,o.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),o.sourceFrame.pad(y);const x=this.tempRect.copyFrom(h.sourceFrame);r.projection.transform&&this.transformAABB(Td.copyFrom(r.projection.transform).invert(),x),v?(o.sourceFrame.fit(x),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(x)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,h.current?h.current.resolution:r.resolution,h.sourceFrame,h.destinationFrame,r.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,p,g),o.filters=e,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const S=this.tempRect;S.x=0,S.y=0,S.width=o.sourceFrame.width,S.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(h.sourceFrame),o.bindingDestinationFrame.copyFrom(h.destinationFrame),o.transform=r.projection.transform,r.projection.transform=null,h.bind(o.renderTexture,o.sourceFrame,S),r.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;const a=this.globalUniforms.uniforms;a.outputFrame=e.sourceFrame,a.resolution=e.resolution;const o=a.inputSize,h=a.inputPixel,c=a.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],h[0]=Math.round(o[0]*e.resolution),h[1]=Math.round(o[1]*e.resolution),h[2]=1/h[0],h[3]=1/h[1],c[0]=.5*h[2],c[1]=.5*h[3],c[2]=e.sourceFrame.width*o[2]-.5*h[2],c[3]=e.sourceFrame.height*o[3]-.5*h[3],e.legacy){const p=a.filterArea;p[0]=e.destinationFrame.width,p[1]=e.destinationFrame.height,p[2]=e.sourceFrame.x,p[3]=e.sourceFrame.y,a.filterClamp=a.inputClamp}this.globalUniforms.update();const d=t[t.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,e.renderTexture,d.renderTexture,Ki.BLEND,e),this.returnFilterTexture(e.renderTexture);else{let p=e.renderTexture,g=this.getOptimalFilterTexture(p.width,p.height,e.resolution);g.filterFrame=p.filterFrame;let y=0;for(y=0;y<r.length-1;++y){y===1&&e.multisample>1&&(g=this.getOptimalFilterTexture(p.width,p.height,e.resolution),g.filterFrame=p.filterFrame),r[y].apply(this,p,g,Ki.CLEAR,e);const v=p;p=g,g=v}r[y].apply(this,p,d.renderTexture,Ki.BLEND,e),y>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(p),this.returnFilterTexture(g)}e.clear(),this.statePool.push(e)}bindAndClear(t,e=Ki.CLEAR){const{renderTexture:r,state:a}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t?.filterFrame){const h=this.tempRect;h.x=0,h.y=0,h.width=t.filterFrame.width,h.height=t.filterFrame.height,r.bind(t,t.filterFrame,h)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=a.stateId&1||this.forceClear;(e===Ki.CLEAR||e===Ki.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,e,r,a){const o=this.renderer;o.state.set(t.state),this.bindAndClear(r,a),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Qi.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Qi.TRIANGLE_STRIP))}calculateSpriteMatrix(t,e){const{sourceFrame:r,destinationFrame:a}=this.activeState,{orig:o}=e._texture,h=t.set(a.width,0,0,a.height,r.x,r.y),c=e.worldTransform.copyTo(ae.TEMP_MATRIX);return c.invert(),h.prepend(c),h.scale(1/o.width,1/o.height),h.translate(e.anchor.x,e.anchor.y),h}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,e,r=1,a=Ee.NONE){return this.texturePool.getOptimalTexture(t,e,r,a)}getFilterTexture(t,e,r){if(typeof t=="number"){const o=t;t=e,e=o}t=t||this.activeState.renderTexture;const a=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,r||Ee.NONE);return a.filterFrame=t.filterFrame,a}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,e){const r=nu[0],a=nu[1],o=nu[2],h=nu[3];r.set(e.left,e.top),a.set(e.left,e.bottom),o.set(e.right,e.top),h.set(e.right,e.bottom),t.apply(r,r),t.apply(a,a),t.apply(o,o),t.apply(h,h);const c=Math.min(r.x,a.x,o.x,h.x),d=Math.min(r.y,a.y,o.y,h.y),p=Math.max(r.x,a.x,o.x,h.x),g=Math.max(r.y,a.y,o.y,h.y);e.x=c,e.y=d,e.width=p-c,e.height=g-d}roundFrame(t,e,r,a,o){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(o){const{a:h,b:c,c:d,d:p}=o;if((Math.abs(c)>1e-4||Math.abs(d)>1e-4)&&(Math.abs(h)>1e-4||Math.abs(p)>1e-4))return}o=o?Td.copyFrom(o):Td.identity(),o.translate(-r.x,-r.y).scale(a.width/r.width,a.height/r.height).translate(a.x,a.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}}}Ix.extension={type:pt.RendererSystem,name:"filter"};Et.add(Ix);class vw{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ee.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const _w=new Ut;class Nx{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Jd(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ut,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;gt.PREFER_ENV===os.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=a=>e.drawBuffersWEBGL(a):(this.hasMRT=!1,t.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,e,r=0){const{gl:a}=this;if(t){const o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,a.bindFramebuffer(a.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=r),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let h=0;h<t.colorTextures.length;h++){const c=t.colorTextures[h];this.renderer.texture.unbind(c.parentTextureArray||c)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){const h=e.width>>r,c=e.height>>r,d=h/e.width;this.setViewport(e.x*d,e.y*d,h,c)}else{const h=t.width>>r,c=t.height>>r;this.setViewport(0,0,h,c)}}else this.current&&(this.current=null,a.bindFramebuffer(a.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,e,r,a){const o=this.viewport;t=Math.round(t),e=Math.round(e),r=Math.round(r),a=Math.round(a),(o.width!==r||o.height!==a||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=r,o.height=a,this.gl.viewport(t,e,r,a))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,e,r,a,o=Gd.COLOR|Gd.DEPTH){const{gl:h}=this;h.clearColor(t,e,r,a),h.clear(o)}initFramebuffer(t){const{gl:e}=this,r=new vw(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r}resizeFramebuffer(t){const{gl:e}=this,r=t.glFramebuffers[this.CONTEXT_UID];if(r.stencil){e.bindRenderbuffer(e.RENDERBUFFER,r.stencil);let h;this.renderer.context.webGLVersion===1?h=e.DEPTH_STENCIL:t.depth&&t.stencil?h=e.DEPTH24_STENCIL8:t.depth?h=e.DEPTH_COMPONENT24:h=e.STENCIL_INDEX8,r.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,h,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,h,t.width,t.height)}const a=t.colorTextures;let o=a.length;e.drawBuffers||(o=Math.min(o,1));for(let h=0;h<o;h++){const c=a[h],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),h===0&&r.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,e){const{gl:r}=this,a=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures;let h=o.length;r.drawBuffers||(h=Math.min(h,1)),a.multisample>1&&this.canMultisampleFramebuffer(t)?a.msaaBuffer=a.msaaBuffer||r.createRenderbuffer():a.msaaBuffer&&(r.deleteRenderbuffer(a.msaaBuffer),a.msaaBuffer=null,a.blitFramebuffer&&(a.blitFramebuffer.dispose(),a.blitFramebuffer=null));const c=[];for(let d=0;d<h;d++){const p=o[d],g=p.parentTextureArray||p;this.renderer.texture.bind(g,0),d===0&&a.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,a.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,a.multisample,g._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,a.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+d,p.target,g._glTextures[this.CONTEXT_UID].texture,e),c.push(r.COLOR_ATTACHMENT0+d))}if(c.length>1&&r.drawBuffers(c),t.depthTexture&&this.writeDepthTexture){const d=t.depthTexture;this.renderer.texture.bind(d,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,d._glTextures[this.CONTEXT_UID].texture,e)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){a.stencil=a.stencil||r.createRenderbuffer();let d,p;this.renderer.context.webGLVersion===1?(d=r.DEPTH_STENCIL_ATTACHMENT,p=r.DEPTH_STENCIL):t.depth&&t.stencil?(d=r.DEPTH_STENCIL_ATTACHMENT,p=r.DEPTH24_STENCIL8):t.depth?(d=r.DEPTH_ATTACHMENT,p=r.DEPTH_COMPONENT24):(d=r.STENCIL_ATTACHMENT,p=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,a.stencil),a.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,a.multisample,p,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,p,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,d,r.RENDERBUFFER,a.stencil)}else a.stencil&&(r.deleteRenderbuffer(a.stencil),a.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:e}=this;let r=Ee.NONE;if(t<=1||e===null)return r;for(let a=0;a<e.length;a++)if(e[a]<=t){r=e[a];break}return r===1&&(r=Ee.NONE),r}blit(t,e,r){const{current:a,renderer:o,gl:h,CONTEXT_UID:c}=this;if(o.context.webGLVersion!==2||!a)return;const d=a.glFramebuffers[c];if(!d)return;if(!t){if(!d.msaaBuffer)return;const g=a.colorTextures[0];if(!g)return;d.blitFramebuffer||(d.blitFramebuffer=new Jd(a.width,a.height),d.blitFramebuffer.addColorTexture(0,g)),t=d.blitFramebuffer,t.colorTextures[0]!==g&&(t.colorTextures[0]=g,t.dirtyId++,t.dirtyFormat++),(t.width!==a.width||t.height!==a.height)&&(t.width=a.width,t.height=a.height,t.dirtyId++,t.dirtySize++)}e||(e=_w,e.width=a.width,e.height=a.height),r||(r=e);const p=e.width===r.width&&e.height===r.height;this.bind(t),h.bindFramebuffer(h.READ_FRAMEBUFFER,d.framebuffer),h.blitFramebuffer(e.left,e.top,e.right,e.bottom,r.left,r.top,r.right,r.bottom,h.COLOR_BUFFER_BIT,p?h.NEAREST:h.LINEAR),h.bindFramebuffer(h.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,e){const r=t.glFramebuffers[this.CONTEXT_UID],a=this.gl;if(!r)return;delete t.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(a.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&a.deleteRenderbuffer(r.msaaBuffer),r.stencil&&a.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,e)}disposeAll(t){const e=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)}forceStencil(){const t=this.current;if(!t)return;const e=t.glFramebuffers[this.CONTEXT_UID];if(!e||e.stencil&&t.stencil)return;t.stencil=!0;const r=t.width,a=t.height,o=this.gl,h=e.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,h);let c,d;this.renderer.context.webGLVersion===1?(c=o.DEPTH_STENCIL_ATTACHMENT,d=o.DEPTH_STENCIL):t.depth?(c=o.DEPTH_STENCIL_ATTACHMENT,d=o.DEPTH24_STENCIL8):(c=o.STENCIL_ATTACHMENT,d=o.STENCIL_INDEX8),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,d,r,a):o.renderbufferStorage(o.RENDERBUFFER,d,r,a),o.framebufferRenderbuffer(o.FRAMEBUFFER,c,o.RENDERBUFFER,h)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ut}destroy(){this.renderer=null}}Nx.extension={type:pt.RendererSystem,name:"framebuffer"};Et.add(Nx);const Ad={5126:4,5123:2,5121:1};class Px{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;gt.PREFER_ENV===os.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=()=>r.createVertexArrayOES(),t.bindVertexArray=a=>r.bindVertexArrayOES(a),t.deleteVertexArray=a=>r.deleteVertexArrayOES(a)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(e.webGLVersion!==2){const r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=(a,o)=>r.vertexAttribDivisorANGLE(a,o),t.drawElementsInstanced=(a,o,h,c,d)=>r.drawElementsInstancedANGLE(a,o,h,c,d),t.drawArraysInstanced=(a,o,h,c)=>r.drawArraysInstancedANGLE(a,o,h,c)):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex}bind(t,e){e=e||this.renderer.shader.shader;const{gl:r}=this;let a=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;a||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=a={},o=!0);const h=a[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==h&&(this._activeVao=h,this.hasVao?r.bindVertexArray(h):this.activateVao(t,e.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,e=this.renderer.buffer;for(let r=0;r<t.buffers.length;r++){const a=t.buffers[r];e.update(a)}}checkCompatibility(t,e){const r=t.attributes,a=e.attributeData;for(const o in a)if(!r[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(t,e){const r=t.attributes,a=e.attributeData,o=["g",t.id];for(const h in r)a[h]&&o.push(h,a[h].location);return o.join("-")}initGeometryVao(t,e,r=!0){const a=this.gl,o=this.CONTEXT_UID,h=this.renderer.buffer,c=e.program;c.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,c);const d=this.getSignature(t,c),p=t.glVertexArrayObjects[this.CONTEXT_UID];let g=p[d];if(g)return p[c.id]=g,g;const y=t.buffers,v=t.attributes,_={},x={};for(const S in y)_[S]=0,x[S]=0;for(const S in v)!v[S].size&&c.attributeData[S]?v[S].size=c.attributeData[S].size:v[S].size||console.warn(`PIXI Geometry attribute '${S}' size cannot be determined (likely the bound shader does not have the attribute)`),_[v[S].buffer]+=v[S].size*Ad[v[S].type];for(const S in v){const A=v[S],T=A.size;A.stride===void 0&&(_[A.buffer]===T*Ad[A.type]?A.stride=0:A.stride=_[A.buffer]),A.start===void 0&&(A.start=x[A.buffer],x[A.buffer]+=T*Ad[A.type])}g=a.createVertexArray(),a.bindVertexArray(g);for(let S=0;S<y.length;S++){const A=y[S];h.bind(A),r&&A._glBuffers[o].refCount++}return this.activateVao(t,c),p[c.id]=g,p[d]=g,a.bindVertexArray(null),h.unbind(Ji.ARRAY_BUFFER),g}disposeGeometry(t,e){if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const r=t.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=t.buffers,h=this.renderer?.buffer;if(t.disposeRunner.remove(this),!!r){if(h)for(let c=0;c<o.length;c++){const d=o[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!e&&h.dispose(o[c],e))}if(!e){for(const c in r)if(c[0]==="g"){const d=r[c];this._activeVao===d&&this.unbind(),a.deleteVertexArray(d)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const e=Object.keys(this.managedGeometries);for(let r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t)}activateVao(t,e){const r=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,h=t.buffers,c=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);let d=null;for(const p in c){const g=c[p],y=h[g.buffer],v=y._glBuffers[a];if(e.attributeData[p]){d!==v&&(o.bind(y),d=v);const _=e.attributeData[p].location;if(r.enableVertexAttribArray(_),r.vertexAttribPointer(_,g.size,g.type||r.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)r.vertexAttribDivisor(_,g.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,e,r,a){const{gl:o}=this,h=this._activeGeometry;if(h.indexBuffer){const c=h.indexBuffer.data.BYTES_PER_ELEMENT,d=c===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?h.instanced?o.drawElementsInstanced(t,e||h.indexBuffer.data.length,d,(r||0)*c,a||1):o.drawElements(t,e||h.indexBuffer.data.length,d,(r||0)*c):console.warn("unsupported index buffer type: uint32")}else h.instanced?o.drawArraysInstanced(t,r,e||h.getSize(),a||1):o.drawArrays(t,r,e||h.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Px.extension={type:pt.RendererSystem,name:"geometry"};Et.add(Px);const f_=new ae;class Ux{constructor(t,e){this._texture=t,this.mapCoord=new ae,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,e){e===void 0&&(e=t);const r=this.mapCoord;for(let a=0;a<t.length;a+=2){const o=t[a],h=t[a+1];e[a]=o*r.a+h*r.c+r.tx,e[a+1]=o*r.b+h*r.d+r.ty}return e}update(t){const e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;const r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const a=e.orig,o=e.trim;o&&(f_.set(a.width/o.width,0,0,a.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(f_));const h=e.baseTexture,c=this.uClampFrame,d=this.clampMargin/h.resolution,p=this.clampOffset;return c[0]=(e._frame.x+d+p)/h.width,c[1]=(e._frame.y+d+p)/h.height,c[2]=(e._frame.x+e._frame.width-d+p)/h.width,c[3]=(e._frame.y+e._frame.height-d+p)/h.height,this.uClampOffset[0]=p/h.realWidth,this.uClampOffset[1]=p/h.realHeight,this.isSimple=e._frame.width===h.width&&e._frame.height===h.height&&e.rotate===0,!0}}var xw=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,bw=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class Ew extends Ve{constructor(t,e,r){let a=null;typeof t!="string"&&e===void 0&&r===void 0&&(a=t,t=void 0,e=void 0,r=void 0),super(t||bw,e||xw,r),this.maskSprite=a,this.maskMatrix=new ae}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,e,r,a){const o=this._maskSprite,h=o._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new Ux(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,o).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,t.applyFilter(this,e,r,a))}}class Tw{constructor(t=null){this.type=Re.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ve.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Re.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Lx{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,e){let r=e;if(!r.isMaskData){const o=this.maskDataPool.pop()||new Tw;o.pooled=!0,o.maskObject=e,r=o}const a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(a),r._colorMask=a?a._colorMask:15,r.autoDetect&&this.detect(r),r._target=t,r.type!==Re.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Re.SCISSOR:this.renderer.scissor.push(r);break;case Re.STENCIL:this.renderer.stencil.push(r);break;case Re.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Re.COLOR:this.pushColorMask(r);break}r.type===Re.SPRITE&&this.maskStack.push(r)}pop(t){const e=this.maskStack.pop();if(!(!e||e._target!==t)){if(e.enabled)switch(e.type){case Re.SCISSOR:this.renderer.scissor.pop(e);break;case Re.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Re.SPRITE:this.popSpriteMask(e);break;case Re.COLOR:this.popColorMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Re.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(t){const e=t.maskObject;e?e.isSprite?t.type=Re.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Re.SCISSOR:t.type=Re.STENCIL:t.type=Re.COLOR}pushSpriteMask(t){const{maskObject:e}=t,r=t._target;let a=t._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new Ew])),a[0].resolution=t.resolution,a[0].multisample=t.multisample,a[0].maskSprite=e;const o=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,a),r.filterArea=o,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const e=t._colorMask,r=t._colorMask=e&t.colorMask;r!==e&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(t){const e=t._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==e&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}Lx.extension={type:pt.RendererSystem,name:"mask"};Et.add(Lx);class Fx{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:e}=this.renderer,r=this.getStackLength();this.maskStack=t;const a=this.getStackLength();a!==r&&(a===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const d_=new ae,p_=[],Gx=class _u extends Fx{constructor(t){super(t),this.glConst=gt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:a}=this,o=a.renderTexture,h=r.getBounds(!0,p_.pop()??new Ut);this.roundFrameToPixels(h,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),e&&h.fit(e),t._scissorRectLocal=h}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:a,d:o}=t;return(Math.abs(r)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(o)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||_u.isMatrixRotated(e.worldTransform)||_u.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,a,o){_u.isMatrixRotated(o)||(o=o?d_.copyFrom(o):d_.identity(),o.translate(-r.x,-r.y).scale(a.width/r.width,a.height/r.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,t),t.fit(a),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&p_.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};Gx.extension={type:pt.RendererSystem,name:"scissor"};let Aw=Gx;Et.add(Aw);class kx extends Fx{constructor(t){super(t),this.glConst=gt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const e=t.maskObject,{gl:r}=this.renderer,a=t._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),t._stencilCounter++;const o=t._colorMask;o!==0&&(t._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,a,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,o!==0&&(t._colorMask=o,r.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(t){const e=this.renderer.gl;if(this.getStackLength()===0)e.disable(e.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,a=r?r._colorMask:15;a!==0&&(r._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,a!==0&&(r._colorMask=a,e.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}kx.extension={type:pt.RendererSystem,name:"stencil"};Et.add(kx);class Hx{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Xt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return Xt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return Xt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const e in t)this.plugins[e]=new t[e](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}Hx.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"_plugin"};Et.add(Hx);class zx{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ae,this.transform=null}update(t,e,r,a){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,a),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(t,e,r,a){const o=this.projectionMatrix,h=a?-1:1;o.identity(),o.a=1/e.width*2,o.d=h*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-h-e.y*o.d}setTransform(t){}destroy(){this.renderer=null}}zx.extension={type:pt.RendererSystem,name:"projection"};Et.add(zx);const Sw=new Bp,m_=new Ut;class Xx{constructor(t){this.renderer=t,this._tempMatrix=new ae}generateTexture(t,e){const{region:r,...a}=e||{},o=r?.copyTo(m_)||t.getLocalBounds(m_,!0),h=a.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/h),o.height=Math.max(o.height,1/h),a.width=o.width,a.height=o.height,a.resolution=h,a.multisample??(a.multisample=this.renderer.multisample);const c=us.create(a);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const d=t.transform;return t.transform=Sw,this.renderer.render(t,{renderTexture:c,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=d,c}destroy(){}}Xx.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"textureGenerator"};Et.add(Xx);const $n=new Ut,pl=new Ut;class Vx{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ut,this.destinationFrame=new Ut,this.viewportFrame=new Ut}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,e,r){const a=this.renderer;this.current=t;let o,h,c;t?(o=t.baseTexture,c=o.resolution,e||($n.width=t.frame.width,$n.height=t.frame.height,e=$n),r||(pl.x=t.frame.x,pl.y=t.frame.y,pl.width=e.width,pl.height=e.height,r=pl),h=o.framebuffer):(c=a.resolution,e||($n.width=a._view.screen.width,$n.height=a._view.screen.height,e=$n),r||(r=$n,r.width=e.width,r.height=e.height));const d=this.viewportFrame;d.x=r.x*c,d.y=r.y*c,d.width=r.width*c,d.height=r.height*c,t||(d.y=a.view.height-(d.y+d.height)),d.ceil(),this.renderer.framebuffer.bind(h,d),this.renderer.projection.update(r,e,c,!h),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)}clear(t,e){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,a=se.shared.setValue(t||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&a.premultiply(a.alpha);const o=this.destinationFrame,h=this.current?this.current.baseTexture:this.renderer._view.screen,c=o.width!==h.width||o.height!==h.height;if(c){let{x:d,y:p,width:g,height:y}=this.viewportFrame;d=Math.round(d),p=Math.round(p),g=Math.round(g),y=Math.round(y),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(d,p,g,y)}this.renderer.framebuffer.clear(a.red,a.green,a.blue,a.alpha,e),c&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Vx.extension={type:pt.RendererSystem,name:"renderTexture"};Et.add(Vx);class ww{constructor(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Rw(s,t){const e={},r=t.getProgramParameter(s,t.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const o=t.getActiveAttrib(s,a);if(o.name.startsWith("gl_"))continue;const h=Rx(t,o.type),c={type:h,name:o.name,size:wx(h),location:t.getAttribLocation(s,o.name)};e[o.name]=c}return e}function Cw(s,t){const e={},r=t.getProgramParameter(s,t.ACTIVE_UNIFORMS);for(let a=0;a<r;a++){const o=t.getActiveUniform(s,a),h=o.name.replace(/\[.*?\]$/,""),c=!!o.name.match(/\[.*?\]$/),d=Rx(t,o.type);e[h]={name:h,index:a,type:d,size:o.size,isArray:c,value:Ax(d,o.size)}}return e}function Mw(s,t){const e=a_(s,s.VERTEX_SHADER,t.vertexSrc),r=a_(s,s.FRAGMENT_SHADER,t.fragmentSrc),a=s.createProgram();s.attachShader(a,e),s.attachShader(a,r);const o=t.extra?.transformFeedbackVaryings;if(o&&(typeof s.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):s.transformFeedbackVaryings(a,o.names,o.bufferMode==="separate"?s.SEPARATE_ATTRIBS:s.INTERLEAVED_ATTRIBS)),s.linkProgram(a),s.getProgramParameter(a,s.LINK_STATUS)||nw(s,a,e,r),t.attributeData=Rw(a,s),t.uniformData=Cw(a,s),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const c=Object.keys(t.attributeData);c.sort((d,p)=>d>p?1:-1);for(let d=0;d<c.length;d++)t.attributeData[c[d]].location=d,s.bindAttribLocation(a,d,c[d]);s.linkProgram(a)}s.deleteShader(e),s.deleteShader(r);const h={};for(const c in t.uniformData){const d=t.uniformData[c];h[c]={location:s.getUniformLocation(a,c),value:Ax(d.type,d.size)}}return new ww(a,h)}function Dw(s,t,e,r,a){e.buffer.update(a)}const Ow={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},jx={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Bw(s){const t=s.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let e=0,r=0,a=0;for(let o=0;o<t.length;o++){const h=t[o];if(e=jx[h.data.type],h.data.size>1&&(e=Math.max(e,16)*h.data.size),h.dataLen=e,r%e!==0&&r<16){const c=r%e%16;r+=c,a+=c}r+e>16?(a=Math.ceil(a/16)*16,h.offset=a,a+=e,r=e):(h.offset=a,r+=e,a+=e)}return a=Math.ceil(a/16)*16,{uboElements:t,size:a}}function Iw(s,t){const e=[];for(const r in s)t[r]&&e.push(t[r]);return e.sort((r,a)=>r.index-a.index),e}function Nw(s,t){if(!s.autoManage)return{size:0,syncFunc:Dw};const e=Iw(s.uniforms,t),{uboElements:r,size:a}=Bw(e),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let h=0;h<r.length;h++){const c=r[h],d=s.uniforms[c.data.name],p=c.data.name;let g=!1;for(let y=0;y<ia.length;y++){const v=ia[y];if(v.codeUbo&&v.test(c.data,d)){o.push(`offset = ${c.offset/4};`,ia[y].codeUbo(c.data.name,d)),g=!0;break}}if(!g)if(c.data.size>1){const y=wx(c.data.type),v=Math.max(jx[c.data.type]/16,1),_=y/v,x=(4-_%4)%4;o.push(`
                cv = ud.${p}.value;
                v = uv.${p};
                offset = ${c.offset/4};

                t = 0;

                for(var i=0; i < ${c.data.size*v}; i++)
                {
                    for(var j = 0; j < ${_}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const y=Ow[c.data.type];o.push(`
                cv = ud.${p}.value;
                v = uv.${p};
                offset = ${c.offset/4};
                ${y};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let Pw=0;const su={textureCount:0,uboCount:0};class qx{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Pw++}systemCheck(){if(!aw())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const r=t.program,a=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(a.program)),e||(su.textureCount=0,su.uboCount=0,this.syncUniformGroup(t.uniformGroup,su)),a}setUniforms(t){const e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)}syncUniformGroup(t,e){const r=this.getGlProgram();(!t.static||t.dirtyId!==r.uniformDirtyGroups[t.id])&&(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))}syncUniforms(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)}createSyncGroups(t){const e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=ew(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,e){const r=this.getGlProgram();if(!t.static||t.dirtyId!==0||!r.uniformGroups[t.id]){t.dirtyId=0;const a=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,e);t.buffer.update(),a(r.uniformData,t.uniforms,this.renderer,su,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[e])}createSyncBufferGroup(t,e,r){const{gl:a}=this.renderer;this.renderer.buffer.bind(t.buffer);const o=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,a.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const h=this.getSignature(t,this.shader.program.uniformData,"ubo");let c=this._uboCache[h];if(c||(c=this._uboCache[h]=Nw(t,this.shader.program.uniformData)),t.autoManage){const d=new Float32Array(c.size/4);t.buffer.update(d)}return e.uniformGroups[t.id]=c.syncFunc,e.uniformGroups[t.id]}getSignature(t,e,r){const a=t.uniforms,o=[`${r}-`];for(const h in a)o.push(h),e[h]&&o.push(e[h].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const e=this.gl,r=t.program,a=Mw(e,r);return r.glPrograms[this.renderer.CONTEXT_UID]=a,a}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}qx.extension={type:pt.RendererSystem,name:"shader"};Et.add(qx);class Iu{constructor(t){this.renderer=t}run(t){const{renderer:e}=this;e.runners.init.emit(e.options),t.hello&&console.log(`PixiJS 7.4.3 - ${e.rendererLogId} - https://pixijs.com`),e.resize(e.screen.width,e.screen.height)}destroy(){}}Iu.defaultOptions={hello:!1},Iu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"startup"};Et.add(Iu);function Uw(s,t=[]){return t[Dt.NORMAL]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.ADD]=[s.ONE,s.ONE],t[Dt.MULTIPLY]=[s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.SCREEN]=[s.ONE,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.OVERLAY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.DARKEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.LIGHTEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.COLOR_DODGE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.COLOR_BURN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.HARD_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.SOFT_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.DIFFERENCE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.EXCLUSION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.HUE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.SATURATION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.COLOR]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.LUMINOSITY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.NONE]=[0,0],t[Dt.NORMAL_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.ADD_NPM]=[s.SRC_ALPHA,s.ONE,s.ONE,s.ONE],t[Dt.SCREEN_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.SRC_IN]=[s.DST_ALPHA,s.ZERO],t[Dt.SRC_OUT]=[s.ONE_MINUS_DST_ALPHA,s.ZERO],t[Dt.SRC_ATOP]=[s.DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[Dt.DST_OVER]=[s.ONE_MINUS_DST_ALPHA,s.ONE],t[Dt.DST_IN]=[s.ZERO,s.SRC_ALPHA],t[Dt.DST_OUT]=[s.ZERO,s.ONE_MINUS_SRC_ALPHA],t[Dt.DST_ATOP]=[s.ONE_MINUS_DST_ALPHA,s.SRC_ALPHA],t[Dt.XOR]=[s.ONE_MINUS_DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[Dt.SUBTRACT]=[s.ONE,s.ONE,s.ONE,s.ONE,s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD],t}const Lw=0,Fw=1,Gw=2,kw=3,Hw=4,zw=5,Yx=class tp{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Dt.NONE,this._blendEq=!1,this.map=[],this.map[Lw]=this.setBlend,this.map[Fw]=this.setOffset,this.map[Gw]=this.setCullFace,this.map[kw]=this.setDepthTest,this.map[Hw]=this.setFrontFace,this.map[zw]=this.setDepthMask,this.checks=[],this.defaultState=new nr,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=Uw(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(tp.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(tp.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};Yx.extension={type:pt.RendererSystem,name:"state"};let Xw=Yx;Et.add(Xw);class Vw extends Ol{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const e=(t.priority??[]).filter(a=>t.systems[a]),r=[...e,...Object.keys(t.systems).filter(a=>!e.includes(a))];for(const a of r)this.addSystem(t.systems[a],a)}addRunners(...t){t.forEach(e=>{this.runners[e]=new Ii(e)})}addSystem(t,e){const r=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=r,this._systemsHash[e]=r;for(const a in this.runners)this.runners[a].add(r);return this}emitWithCustomOptions(t,e){const r=Object.keys(this._systemsHash);t.items.forEach(a=>{const o=r.find(h=>this._systemsHash[h]===a);a[t.name](e[o])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const _l=class xu{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=xu.defaultMaxIdle,this.checkCountMax=xu.defaultCheckCountMax,this.mode=xu.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Cp.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let a=0;a<e.length;a++){const o=e[a];o.resource&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[a]=null,r=!0)}if(r){let a=0;for(let o=0;o<e.length;o++)e[o]!==null&&(e[a++]=e[o]);e.length=a}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let a=t.children.length-1;a>=0;a--)this.unload(t.children[a])}destroy(){this.renderer=null}};_l.defaultMode=Cp.AUTO,_l.defaultMaxIdle=60*60,_l.defaultCheckCountMax=60*10,_l.extension={type:pt.RendererSystem,name:"textureGC"};let es=_l;Et.add(es);class Sd{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Rt.UNSIGNED_BYTE,this.internalFormat=ht.RGBA,this.samplerType=0}}function jw(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[s.RGB]:mt.FLOAT,[s.RGBA]:mt.FLOAT,[s.ALPHA]:mt.FLOAT,[s.LUMINANCE]:mt.FLOAT,[s.LUMINANCE_ALPHA]:mt.FLOAT,[s.R8]:mt.FLOAT,[s.R8_SNORM]:mt.FLOAT,[s.RG8]:mt.FLOAT,[s.RG8_SNORM]:mt.FLOAT,[s.RGB8]:mt.FLOAT,[s.RGB8_SNORM]:mt.FLOAT,[s.RGB565]:mt.FLOAT,[s.RGBA4]:mt.FLOAT,[s.RGB5_A1]:mt.FLOAT,[s.RGBA8]:mt.FLOAT,[s.RGBA8_SNORM]:mt.FLOAT,[s.RGB10_A2]:mt.FLOAT,[s.RGB10_A2UI]:mt.FLOAT,[s.SRGB8]:mt.FLOAT,[s.SRGB8_ALPHA8]:mt.FLOAT,[s.R16F]:mt.FLOAT,[s.RG16F]:mt.FLOAT,[s.RGB16F]:mt.FLOAT,[s.RGBA16F]:mt.FLOAT,[s.R32F]:mt.FLOAT,[s.RG32F]:mt.FLOAT,[s.RGB32F]:mt.FLOAT,[s.RGBA32F]:mt.FLOAT,[s.R11F_G11F_B10F]:mt.FLOAT,[s.RGB9_E5]:mt.FLOAT,[s.R8I]:mt.INT,[s.R8UI]:mt.UINT,[s.R16I]:mt.INT,[s.R16UI]:mt.UINT,[s.R32I]:mt.INT,[s.R32UI]:mt.UINT,[s.RG8I]:mt.INT,[s.RG8UI]:mt.UINT,[s.RG16I]:mt.INT,[s.RG16UI]:mt.UINT,[s.RG32I]:mt.INT,[s.RG32UI]:mt.UINT,[s.RGB8I]:mt.INT,[s.RGB8UI]:mt.UINT,[s.RGB16I]:mt.INT,[s.RGB16UI]:mt.UINT,[s.RGB32I]:mt.INT,[s.RGB32UI]:mt.UINT,[s.RGBA8I]:mt.INT,[s.RGBA8UI]:mt.UINT,[s.RGBA16I]:mt.INT,[s.RGBA16UI]:mt.UINT,[s.RGBA32I]:mt.INT,[s.RGBA32UI]:mt.UINT,[s.DEPTH_COMPONENT16]:mt.FLOAT,[s.DEPTH_COMPONENT24]:mt.FLOAT,[s.DEPTH_COMPONENT32F]:mt.FLOAT,[s.DEPTH_STENCIL]:mt.FLOAT,[s.DEPTH24_STENCIL8]:mt.FLOAT,[s.DEPTH32F_STENCIL8]:mt.FLOAT}:t={[s.RGB]:mt.FLOAT,[s.RGBA]:mt.FLOAT,[s.ALPHA]:mt.FLOAT,[s.LUMINANCE]:mt.FLOAT,[s.LUMINANCE_ALPHA]:mt.FLOAT,[s.DEPTH_STENCIL]:mt.FLOAT},t}function qw(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[Rt.UNSIGNED_BYTE]:{[ht.RGBA]:s.RGBA8,[ht.RGB]:s.RGB8,[ht.RG]:s.RG8,[ht.RED]:s.R8,[ht.RGBA_INTEGER]:s.RGBA8UI,[ht.RGB_INTEGER]:s.RGB8UI,[ht.RG_INTEGER]:s.RG8UI,[ht.RED_INTEGER]:s.R8UI,[ht.ALPHA]:s.ALPHA,[ht.LUMINANCE]:s.LUMINANCE,[ht.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[Rt.BYTE]:{[ht.RGBA]:s.RGBA8_SNORM,[ht.RGB]:s.RGB8_SNORM,[ht.RG]:s.RG8_SNORM,[ht.RED]:s.R8_SNORM,[ht.RGBA_INTEGER]:s.RGBA8I,[ht.RGB_INTEGER]:s.RGB8I,[ht.RG_INTEGER]:s.RG8I,[ht.RED_INTEGER]:s.R8I},[Rt.UNSIGNED_SHORT]:{[ht.RGBA_INTEGER]:s.RGBA16UI,[ht.RGB_INTEGER]:s.RGB16UI,[ht.RG_INTEGER]:s.RG16UI,[ht.RED_INTEGER]:s.R16UI,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT16},[Rt.SHORT]:{[ht.RGBA_INTEGER]:s.RGBA16I,[ht.RGB_INTEGER]:s.RGB16I,[ht.RG_INTEGER]:s.RG16I,[ht.RED_INTEGER]:s.R16I},[Rt.UNSIGNED_INT]:{[ht.RGBA_INTEGER]:s.RGBA32UI,[ht.RGB_INTEGER]:s.RGB32UI,[ht.RG_INTEGER]:s.RG32UI,[ht.RED_INTEGER]:s.R32UI,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT24},[Rt.INT]:{[ht.RGBA_INTEGER]:s.RGBA32I,[ht.RGB_INTEGER]:s.RGB32I,[ht.RG_INTEGER]:s.RG32I,[ht.RED_INTEGER]:s.R32I},[Rt.FLOAT]:{[ht.RGBA]:s.RGBA32F,[ht.RGB]:s.RGB32F,[ht.RG]:s.RG32F,[ht.RED]:s.R32F,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT32F},[Rt.HALF_FLOAT]:{[ht.RGBA]:s.RGBA16F,[ht.RGB]:s.RGB16F,[ht.RG]:s.RG16F,[ht.RED]:s.R16F},[Rt.UNSIGNED_SHORT_5_6_5]:{[ht.RGB]:s.RGB565},[Rt.UNSIGNED_SHORT_4_4_4_4]:{[ht.RGBA]:s.RGBA4},[Rt.UNSIGNED_SHORT_5_5_5_1]:{[ht.RGBA]:s.RGB5_A1},[Rt.UNSIGNED_INT_2_10_10_10_REV]:{[ht.RGBA]:s.RGB10_A2,[ht.RGBA_INTEGER]:s.RGB10_A2UI},[Rt.UNSIGNED_INT_10F_11F_11F_REV]:{[ht.RGB]:s.R11F_G11F_B10F},[Rt.UNSIGNED_INT_5_9_9_9_REV]:{[ht.RGB]:s.RGB9_E5},[Rt.UNSIGNED_INT_24_8]:{[ht.DEPTH_STENCIL]:s.DEPTH24_STENCIL8},[Rt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ht.DEPTH_STENCIL]:s.DEPTH32F_STENCIL8}}:t={[Rt.UNSIGNED_BYTE]:{[ht.RGBA]:s.RGBA,[ht.RGB]:s.RGB,[ht.ALPHA]:s.ALPHA,[ht.LUMINANCE]:s.LUMINANCE,[ht.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[Rt.UNSIGNED_SHORT_5_6_5]:{[ht.RGB]:s.RGB},[Rt.UNSIGNED_SHORT_4_4_4_4]:{[ht.RGBA]:s.RGBA},[Rt.UNSIGNED_SHORT_5_5_5_1]:{[ht.RGBA]:s.RGBA}},t}class $x{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Nt,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=qw(t),this.samplerTypes=jw(t);const e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(let a=0;a<e;a++)this.boundTextures[a]=null;this.emptyTextures={};const r=new Sd(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Sd(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let a=0;a<6;a++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let a=0;a<this.boundTextures.length;a++)this.bind(null,a)}bind(t,e=0){const{gl:r}=this;if(t=t?.castToBaseTexture(),t?.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const a=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,a.texture)),a.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)):a.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:e,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let a=0;a<r.length;a++)r[a]===this.unknownTexture&&this.bind(null,a)}for(let a=0;a<r.length;a++)r[a]===t&&(this.currentLocation!==a&&(e.activeTexture(e.TEXTURE0+a),this.currentLocation=a),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[a]=null)}ensureSamplerType(t){const{boundTextures:e,hasIntegerTextures:r,CONTEXT_UID:a}=this;if(r)for(let o=t-1;o>=0;--o){const h=e[o];h&&h._glTextures[a].samplerType!==mt.FLOAT&&this.renderer.texture.unbind(h)}}initTexture(t){const e=new Sd(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e}initTextureType(t,e){e.internalFormat=this.internalFormats[t.type]?.[t.format]??t.format,e.samplerType=this.samplerTypes[e.internalFormat]??mt.FLOAT,this.webGLVersion===2&&t.type===Rt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type}updateTexture(t){const e=t._glTextures[this.CONTEXT_UID];if(!e)return;const r=this.renderer;if(this.initTextureType(t,e),t.resource?.upload(r,t,e))e.samplerType!==mt.FLOAT&&(this.hasIntegerTextures=!0);else{const a=t.realWidth,o=t.realHeight,h=r.gl;(e.width!==a||e.height!==o||e.dirtyId<0)&&(e.width=a,e.height=o,h.texImage2D(t.target,0,e.internalFormat,a,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}destroyTexture(t,e){const{gl:r}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){const a=this.managedTextures.indexOf(t);a!==-1&&ea(this.managedTextures,a,1)}}updateTextureStyle(t){const e=t._glTextures[this.CONTEXT_UID];e&&((t.mipmap===ir.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?e.mipmap=!1:e.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?e.wrapMode=En.CLAMP:e.wrapMode=t.wrapMode,t.resource?.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)}setStyle(t,e){const r=this.gl;if(e.mipmap&&t.mipmap!==ir.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===Dr.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const a=this.renderer.context.extensions.anisotropicFiltering;if(a&&t.anisotropicLevel>0&&t.scaleMode===Dr.LINEAR){const o=Math.min(t.anisotropicLevel,r.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,a.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===Dr.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===Dr.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}$x.extension={type:pt.RendererSystem,name:"texture"};Et.add($x);class Wx{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:r}=this,a=t._glTransformFeedbacks[r]||this.createGLTransformFeedback(t);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,a)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,e){const{gl:r,renderer:a}=this;e&&a.shader.bind(e),r.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:e,renderer:r,CONTEXT_UID:a}=this,o=e.createTransformFeedback();t._glTransformFeedbacks[a]=o,e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,o);for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];c&&(r.buffer.update(c),c._glBuffers[a].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,h,c._glBuffers[a].buffer||null))}return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),o}disposeTransformFeedback(t,e){const r=t._glTransformFeedbacks[this.CONTEXT_UID],a=this.gl;t.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];if(!c)continue;const d=c._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!e&&o.dispose(c,e))}r&&(e||a.deleteTransformFeedback(r),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Wx.extension={type:pt.RendererSystem,name:"transformFeedback"};Et.add(Wx);class Nu{constructor(t){this.renderer=t}init(t){this.screen=new Ut(0,0,t.width,t.height),this.element=t.view||gt.ADAPTER.createCanvas(),this.resolution=t.resolution||gt.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,e){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(e*this.resolution);const r=this.element.width/this.resolution,a=this.element.height/this.resolution;this.screen.width=r,this.screen.height=a,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${a}px`),this.renderer.emit("resize",r,a),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){t&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}Nu.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Nu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"_view"};Et.add(Nu);gt.PREFER_ENV=os.WEBGL2;gt.STRICT_TEXTURE_CACHE=!1;gt.RENDER_OPTIONS={...Bu.defaultOptions,...Ou.defaultOptions,...Nu.defaultOptions,...Iu.defaultOptions};Object.defineProperties(gt,{WRAP_MODE:{get(){return Nt.defaultOptions.wrapMode},set(s){Xt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Nt.defaultOptions.wrapMode=s}},SCALE_MODE:{get(){return Nt.defaultOptions.scaleMode},set(s){Xt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Nt.defaultOptions.scaleMode=s}},MIPMAP_TEXTURES:{get(){return Nt.defaultOptions.mipmap},set(s){Xt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Nt.defaultOptions.mipmap=s}},ANISOTROPIC_LEVEL:{get(){return Nt.defaultOptions.anisotropicLevel},set(s){Xt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Nt.defaultOptions.anisotropicLevel=s}},FILTER_RESOLUTION:{get(){return Xt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Ve.defaultResolution},set(s){Ve.defaultResolution=s}},FILTER_MULTISAMPLE:{get(){return Xt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Ve.defaultMultisample},set(s){Ve.defaultMultisample=s}},SPRITE_MAX_TEXTURES:{get(){return ts.defaultMaxTextures},set(s){Xt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),ts.defaultMaxTextures=s}},SPRITE_BATCH_SIZE:{get(){return ts.defaultBatchSize},set(s){Xt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),ts.defaultBatchSize=s}},CAN_UPLOAD_SAME_BUFFER:{get(){return ts.canUploadSameBuffer},set(s){Xt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),ts.canUploadSameBuffer=s}},GC_MODE:{get(){return es.defaultMode},set(s){Xt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),es.defaultMode=s}},GC_MAX_IDLE:{get(){return es.defaultMaxIdle},set(s){Xt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),es.defaultMaxIdle=s}},GC_MAX_CHECK_COUNT:{get(){return es.defaultCheckCountMax},set(s){Xt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),es.defaultCheckCountMax=s}},PRECISION_VERTEX:{get(){return Ir.defaultVertexPrecision},set(s){Xt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Ir.defaultVertexPrecision=s}},PRECISION_FRAGMENT:{get(){return Ir.defaultFragmentPrecision},set(s){Xt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Ir.defaultFragmentPrecision=s}}});var as=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(as||{});class wd{constructor(t,e=null,r=0,a=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=a}match(t,e=null){return this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const Zx=class si{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new wd(null,null,1/0),this.deltaMS=1/si.targetFPMS,this.elapsedMS=1/si.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=as.NORMAL){return this._addListener(new wd(t,e,r))}addOnce(t,e,r=as.NORMAL){return this._addListener(new wd(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const o=t-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=t-o%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*si.targetFPMS;const r=this._head;let a=r.next;for(;a;)a=a.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,si.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!si._shared){const t=si._shared=new si;t.autoStart=!0,t._protected=!0}return si._shared}static get system(){if(!si._system){const t=si._system=new si;t.autoStart=!0,t._protected=!0}return si._system}};Zx.targetFPMS=.06;let ai=Zx;Object.defineProperties(gt,{TARGET_FPMS:{get(){return ai.targetFPMS},set(s){Xt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),ai.targetFPMS=s}}});class Kx{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,as.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?ai.shared:new ai,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}Kx.extension=pt.Application;Et.add(Kx);const Qx=[];Et.handleByList(pt.Renderer,Qx);function Yw(s){for(const t of Qx)if(t.test(s))return new t(s);throw new Error("Unable to auto-detect a suitable renderer.")}var $w=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Ww=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Zw=$w,Jx=Ww;class tb{constructor(t){this.renderer=t}contextChange(t){let e;if(this.renderer.context.webGLVersion===1){const r=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,r)}else{const r=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,r)}e>=Ee.HIGH?this.multisample=Ee.HIGH:e>=Ee.MEDIUM?this.multisample=Ee.MEDIUM:e>=Ee.LOW?this.multisample=Ee.LOW:this.multisample=Ee.NONE}destroy(){}}tb.extension={type:pt.RendererSystem,name:"_multisample"};Et.add(tb);class Kw{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class eb{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:r}=this,a=t._glBuffers[r]||this.createGLBuffer(t);e.bindBuffer(t.type,a.buffer)}unbind(t){const{gl:e}=this;e.bindBuffer(t,null)}bindBufferBase(t,e){const{gl:r,CONTEXT_UID:a}=this;if(this.boundBufferBases[e]!==t){const o=t._glBuffers[a]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,o.buffer)}}bindBufferRange(t,e,r){const{gl:a,CONTEXT_UID:o}=this;r=r||0;const h=t._glBuffers[o]||this.createGLBuffer(t);a.bindBufferRange(a.UNIFORM_BUFFER,e||0,h.buffer,r*256,256)}update(t){const{gl:e,CONTEXT_UID:r}=this,a=t._glBuffers[r]||this.createGLBuffer(t);if(t._updateID!==a.updateID)if(a.updateID=t._updateID,e.bindBuffer(t.type,a.buffer),a.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{const o=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;a.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,o)}}dispose(t,e){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const r=t._glBuffers[this.CONTEXT_UID],a=this.gl;t.disposeRunner.remove(this),r&&(e||a.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const e=Object.keys(this.managedBuffers);for(let r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],t)}createGLBuffer(t){const{CONTEXT_UID:e,gl:r}=this;return t._glBuffers[e]=new Kw(r.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]}}eb.extension={type:pt.RendererSystem,name:"buffer"};Et.add(eb);class ib{constructor(t){this.renderer=t}render(t,e){const r=this.renderer;let a,o,h,c;if(e&&(a=e.renderTexture,o=e.clear,h=e.transform,c=e.skipUpdateTransform),this.renderingToScreen=!a,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=h,!r.context.isLost){if(a||(this.lastObjectRendered=t),!c){const d=t.enableTempParent();t.updateTransform(),t.disableTempParent(d)}r.renderTexture.bind(a),r.batch.currentRenderer.start(),(o??r.background.clearBeforeRender)&&r.renderTexture.clear(),t.render(r),r.batch.currentRenderer.flush(),a&&(e.blit&&r.framebuffer.blit(),a.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ib.extension={type:pt.RendererSystem,name:"objectRenderer"};Et.add(ib);const bu=class ep extends Vw{constructor(t){super(),this.type=sx.WEBGL,t=Object.assign({},gt.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Ni({projectionMatrix:new ae},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:ep.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Xt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=ep.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t?.forceCanvas?!1:xS()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Xt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Xt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Xt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Xt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Xt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Xt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Xt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Xt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};bu.extension={type:pt.Renderer,priority:1},bu.__plugins={},bu.__systems={};let Np=bu;Et.handleByMap(pt.RendererPlugin,Np.__plugins);Et.handleByMap(pt.RendererSystem,Np.__systems);Et.add(Np);class rb extends Rl{constructor(t,e){const{width:r,height:a}=e||{};super(r,a),this.items=[],this.itemDirtyIds=[];for(let o=0;o<t;o++){const h=new Nt;this.items.push(h),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,e){for(let r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof Rl?this.addResourceAt(t[r],r):this.addResourceAt(bx(t[r],e),r))}dispose(){for(let t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,e){if(!this.items[e])throw new Error(`Index ${e} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)}unbind(t){super.unbind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(t).then(()=>{const{realWidth:e,realHeight:r}=this.items[0];return this.resize(e,r),this.update(),Promise.resolve(this)}),this._load}}class Qw extends rb{constructor(t,e){const{width:r,height:a}=e||{};let o,h;Array.isArray(t)?(o=t,h=t.length):h=t,super(h,{width:r,height:a}),o&&this.initFromArray(o,e)}addBaseTextureAt(t,e){if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=ta.TEXTURE_2D_ARRAY}upload(t,e,r){const{length:a,itemDirtyIds:o,items:h}=this,{gl:c}=t;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,a,0,e.format,r.type,null);for(let d=0;d<a;d++){const p=h[d];o[d]<p.dirtyId&&(o[d]=p.dirtyId,p.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,d,p.resource.width,p.resource.height,1,e.format,r.type,p.resource.source))}return!0}}class Jw extends Lr{constructor(t){super(t)}static test(t){const{OffscreenCanvas:e}=globalThis;return e&&t instanceof e?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const nb=class xl extends rb{constructor(t,e){const{width:r,height:a,autoLoad:o,linkBaseTexture:h}=e||{};if(t&&t.length!==xl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:a});for(let c=0;c<xl.SIDES;c++)this.items[c].target=ta.TEXTURE_CUBE_MAP_POSITIVE_X+c;this.linkBaseTexture=h!==!1,t&&this.initFromArray(t,e),o!==!1&&this.load()}bind(t){super.bind(t),t.target=ta.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=ta.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const a=this.itemDirtyIds;for(let o=0;o<xl.SIDES;o++){const h=this.items[o];(a[o]<h.dirtyId||r.dirtyId<e.dirtyId)&&(h.valid&&h.resource?(h.resource.upload(t,h,r),a[o]=h.dirtyId):a[o]<-1&&(t.gl.texImage2D(h.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),a[o]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===xl.SIDES}};nb.SIDES=6;let tR=nb;class Js extends Lr{constructor(t,e){e=e||{};let r,a,o;typeof t=="string"?(r=Js.EMPTY,a=t,o=!0):(r=t,a=null,o=!1),super(r),this.url=a,this.crossOrigin=e.crossOrigin??!0,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.ownsImageBitmap=e.ownsImageBitmap??o,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,e)=>{if(this.url===null){t(this);return}try{const r=await gt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const a=await r.blob();if(this.destroyed)return;const o=await createImageBitmap(a,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ke.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),t(this)}catch(r){if(this.destroyed)return;e(r),this.onError.emit(r)}}),this._load)}upload(t,e,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),super.upload(t,e,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return Js._EMPTY=Js._EMPTY??gt.ADAPTER.createCanvas(0,0),Js._EMPTY}}const ip=class Eu extends Lr{constructor(t,e){e=e||{},super(gt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},Eu.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Lr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let a=e*this.scale,o=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(a=this._overrideWidth||this._overrideHeight/r*e,o=this._overrideHeight||this._overrideWidth/e*r),a=Math.round(a),o=Math.round(o);const h=this.source;h.width=a,h.height=o,h._pixiId=`canvas_${ss()}`,h.getContext("2d").drawImage(t,0,0,e,r,0,0,a,o),this._resolve(),this._resolve=null}}static getSize(t){const e=Eu.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Eu.SVG_XML.test(t)}};ip.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,ip.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let rp=ip;class eR extends Lr{constructor(t){super(t)}static test(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}const np=class sp extends Lr{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");e.autoLoad!==!1&&r.setAttribute("preload","auto"),e.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),e.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),e.loop===!0&&r.setAttribute("loop",""),e.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const a=t[0].src||t[0];Lr.crossOrigin(r,a,e.crossorigin);for(let o=0;o<t.length;++o){const h=document.createElement("source");let{src:c,mime:d}=t[o];if(c=c||t[o],c.startsWith("data:"))d=c.slice(5,c.indexOf(";"));else if(!c.startsWith("blob:")){const p=c.split("?").shift().toLowerCase(),g=p.slice(p.lastIndexOf(".")+1);d=d||sp.MIME_TYPES[g]||`video/${g}`}h.src=c,d&&(h.type=d),r.appendChild(h)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const e=ai.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((e,r)=>{this.valid?e(this):(this._resolve=e,this._reject=r,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!e&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(ai.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ai.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ai.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||sp.TYPES.includes(e)}};np.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],np.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let sb=np;jd.push(Js,Dx,Jw,sb,eR,rp,qu,tR,Qw);class Pu{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?Ut.EMPTY:(t=t||new Ut(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,e){const{a:r,b:a,c:o,d:h,tx:c,ty:d}=t,p=r*e.x+o*e.y+c,g=a*e.x+h*e.y+d;this.minX=Math.min(this.minX,p),this.maxX=Math.max(this.maxX,p),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)}addQuad(t){let e=this.minX,r=this.minY,a=this.maxX,o=this.maxY,h=t[0],c=t[1];e=h<e?h:e,r=c<r?c:r,a=h>a?h:a,o=c>o?c:o,h=t[2],c=t[3],e=h<e?h:e,r=c<r?c:r,a=h>a?h:a,o=c>o?c:o,h=t[4],c=t[5],e=h<e?h:e,r=c<r?c:r,a=h>a?h:a,o=c>o?c:o,h=t[6],c=t[7],e=h<e?h:e,r=c<r?c:r,a=h>a?h:a,o=c>o?c:o,this.minX=e,this.minY=r,this.maxX=a,this.maxY=o}addFrame(t,e,r,a,o){this.addFrameMatrix(t.worldTransform,e,r,a,o)}addFrameMatrix(t,e,r,a,o){const h=t.a,c=t.b,d=t.c,p=t.d,g=t.tx,y=t.ty;let v=this.minX,_=this.minY,x=this.maxX,S=this.maxY,A=h*e+d*r+g,T=c*e+p*r+y;v=A<v?A:v,_=T<_?T:_,x=A>x?A:x,S=T>S?T:S,A=h*a+d*r+g,T=c*a+p*r+y,v=A<v?A:v,_=T<_?T:_,x=A>x?A:x,S=T>S?T:S,A=h*e+d*o+g,T=c*e+p*o+y,v=A<v?A:v,_=T<_?T:_,x=A>x?A:x,S=T>S?T:S,A=h*a+d*o+g,T=c*a+p*o+y,v=A<v?A:v,_=T<_?T:_,x=A>x?A:x,S=T>S?T:S,this.minX=v,this.minY=_,this.maxX=x,this.maxY=S}addVertexData(t,e,r){let a=this.minX,o=this.minY,h=this.maxX,c=this.maxY;for(let d=e;d<r;d+=2){const p=t[d],g=t[d+1];a=p<a?p:a,o=g<o?g:o,h=p>h?p:h,c=g>c?g:c}this.minX=a,this.minY=o,this.maxX=h,this.maxY=c}addVertices(t,e,r,a){this.addVerticesMatrix(t.worldTransform,e,r,a)}addVerticesMatrix(t,e,r,a,o=0,h=o){const c=t.a,d=t.b,p=t.c,g=t.d,y=t.tx,v=t.ty;let _=this.minX,x=this.minY,S=this.maxX,A=this.maxY;for(let T=r;T<a;T+=2){const I=e[T],D=e[T+1],P=c*I+p*D+y,O=g*D+d*I+v;_=Math.min(_,P-o),S=Math.max(S,P+o),x=Math.min(x,O-h),A=Math.max(A,O+h)}this.minX=_,this.minY=x,this.maxX=S,this.maxY=A}addBounds(t){const e=this.minX,r=this.minY,a=this.maxX,o=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>a?t.maxX:a,this.maxY=t.maxY>o?t.maxY:o}addBoundsMask(t,e){const r=t.minX>e.minX?t.minX:e.minX,a=t.minY>e.minY?t.minY:e.minY,o=t.maxX<e.maxX?t.maxX:e.maxX,h=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=o&&a<=h){const c=this.minX,d=this.minY,p=this.maxX,g=this.maxY;this.minX=r<c?r:c,this.minY=a<d?a:d,this.maxX=o>p?o:p,this.maxY=h>g?h:g}}addBoundsMatrix(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,e){const r=t.minX>e.x?t.minX:e.x,a=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,h=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=o&&a<=h){const c=this.minX,d=this.minY,p=this.maxX,g=this.maxY;this.minX=r<c?r:c,this.minY=a<d?a:d,this.maxX=o>p?o:p,this.maxY=h>g?h:g}}pad(t=0,e=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)}addFramePad(t,e,r,a,o,h){t-=o,e-=h,r+=o,a+=h,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>a?this.maxY:a}}class ce extends Ol{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Bp,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Pu,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const e=Object.keys(t);for(let r=0;r<e.length;++r){const a=e[r];Object.defineProperty(ce.prototype,a,Object.getOwnPropertyDescriptor(t,a))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Ut),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new Ut),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Pu);const e=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=r?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const h=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=a,this._bounds.updateID+=this._boundsID-o,h}toGlobal(t,e,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}toLocal(t,e,r,a){return e&&(t=e.toGlobal(t,r,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){this.parent?.removeChild(this)}setTransform(t=0,e=0,r=1,a=1,o=0,h=0,c=0,d=0,p=0){return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=a||1,this.rotation=o,this.skew.x=h,this.skew.y=c,this.pivot.x=d,this.pivot.y=p,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new iR),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*$S}set angle(t){this.transform.rotation=t*WS}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,e._maskRefCount===0&&(e.renderable=!0,e.isMask=!1))}if(this._mask=t,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount===0&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class iR extends ce{constructor(){super(...arguments),this.sortDirty=null}}ce.prototype.displayObjectUpdateTransform=ce.prototype.updateTransform;const rR=new ae;function nR(s,t){return s.zIndex===t.zIndex?s._lastSortedIndex-t._lastSortedIndex:s.zIndex-t.zIndex}const ab=class ap extends ce{constructor(){super(),this.children=[],this.sortableChildren=ap.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),a=this.getChildIndex(e);this.children[r]=e,this.children[a]=t,this.onChildrenChange(r<a?r:a)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);ea(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,ea(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,ea(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,a=e,o=a-r;let h;if(o>0&&o<=a){h=this.children.splice(r,o);for(let c=0;c<h.length;++c)h[c].parent=null,h[c].transform&&(h[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let c=0;c<h.length;++c)h[c].emit("removed",this),this.emit("childRemoved",h[c],this,c);return h}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const a=this.children[e];a._lastSortedIndex=e,!t&&a.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(nR),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let a=0,o=this.children.length;a<o;++a){const h=this.children[a];h.visible&&h.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,a;this.cullArea?(r=this.cullArea,a=this.worldTransform):this._render!==ap.prototype._render&&(r=this.getBounds(!0));const o=t.projection.transform;if(o&&(a?(a=rR.copyFrom(a),a.prepend(o)):a=o),r&&e.intersects(r,a))this._render(t);else if(this.cullArea)return;for(let h=0,c=this.children.length;h<c;++h){const d=this.children[h],p=d.cullable;d.cullable=p||!this.cullArea,d.render(t),d.cullable=p}}render(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters?.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}}renderAdvanced(t){const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let o=0;o<e.length;o++)e[o].enabled&&this._enabledFilters.push(e[o])}const a=e&&this._enabledFilters?.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Re.NONE));if(a&&t.batch.flush(),e&&this._enabledFilters?.length&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let o=0,h=this.children.length;o<h;++o)this.children[o].render(t)}a&&t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters?.length&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t?.children,r=this.removeChildren(0,this.children.length);if(e)for(let a=0;a<r.length;++a)r[a].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};ab.defaultSortableChildren=!1;let Pi=ab;Pi.prototype.containerUpdateTransform=Pi.prototype.updateTransform;Object.defineProperties(gt,{SORTABLE_CHILDREN:{get(){return Pi.defaultSortableChildren},set(s){Xt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Pi.defaultSortableChildren=s}}});const ml=new jt,sR=new Uint16Array([0,1,2,0,2,3]);class ha extends Pi{constructor(t){super(),this._anchor=new Br(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new se(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Dt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||bt.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=sR,this.pluginName="batch",this.isSprite=!0,this._roundPixels=gt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=xn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=xn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const e=this.transform.worldTransform,r=e.a,a=e.b,o=e.c,h=e.d,c=e.tx,d=e.ty,p=this.vertexData,g=t.trim,y=t.orig,v=this._anchor;let _=0,x=0,S=0,A=0;if(g?(x=g.x-v._x*y.width,_=x+g.width,A=g.y-v._y*y.height,S=A+g.height):(x=-v._x*y.width,_=x+y.width,A=-v._y*y.height,S=A+y.height),p[0]=r*x+o*A+c,p[1]=h*A+a*x+d,p[2]=r*_+o*A+c,p[3]=h*A+a*_+d,p[4]=r*_+o*S+c,p[5]=h*S+a*_+d,p[6]=r*x+o*S+c,p[7]=h*S+a*x+d,this._roundPixels){const T=gt.RESOLUTION;for(let I=0;I<p.length;++I)p[I]=Math.round(p[I]*T)/T}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,e=this.vertexTrimmedData,r=t.orig,a=this._anchor,o=this.transform.worldTransform,h=o.a,c=o.b,d=o.c,p=o.d,g=o.tx,y=o.ty,v=-a._x*r.width,_=v+r.width,x=-a._y*r.height,S=x+r.height;if(e[0]=h*v+d*x+g,e[1]=p*x+c*v+y,e[2]=h*_+d*x+g,e[3]=p*x+c*_+y,e[4]=h*_+d*S+g,e[5]=p*S+c*_+y,e[6]=h*v+d*S+g,e[7]=p*S+c*v+y,this._roundPixels){const A=gt.RESOLUTION;for(let T=0;T<e.length;++T)e[T]=Math.round(e[T]*A)/A}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new Pu),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Ut),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,ml);const e=this._texture.orig.width,r=this._texture.orig.height,a=-e*this.anchor.x;let o=0;return ml.x>=a&&ml.x<a+e&&(o=-r*this.anchor.y,ml.y>=o&&ml.y<o+r)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t?.texture){const e=typeof t=="boolean"?t:t?.baseTexture;this._texture.destroy(!!e)}this._texture=null}static from(t,e){const r=t instanceof bt?t:bt.from(t,e);return new ha(r)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const e=xn(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const e=xn(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||bt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const lb=new ae;ce.prototype._cacheAsBitmap=!1;ce.prototype._cacheData=null;ce.prototype._cacheAsBitmapResolution=null;ce.prototype._cacheAsBitmapMultisample=null;class aR{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ce.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(s){s!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(s){s!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(s){if(this._cacheAsBitmap===s)return;this._cacheAsBitmap=s;let t;s?(this._cacheData||(this._cacheData=new aR),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}});ce.prototype._renderCached=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(s),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(s))};ce.prototype._initCachedDisplayObject=function(s){if(this._cacheData?.sprite)return;const t=this.alpha;this.alpha=1,s.batch.flush();const e=this.getLocalBounds(new Ut,!0);if(this.filters?.length){const v=this.filters[0].padding;e.pad(v)}const r=this.cacheAsBitmapResolution||s.resolution;e.ceil(r),e.width=Math.max(e.width,1/r),e.height=Math.max(e.height,1/r);const a=s.renderTexture.current,o=s.renderTexture.sourceFrame.clone(),h=s.renderTexture.destinationFrame.clone(),c=s.projection.transform,d=us.create({width:e.width,height:e.height,resolution:r,multisample:this.cacheAsBitmapMultisample??s.multisample}),p=`cacheAsBitmap_${ss()}`;this._cacheData.textureCacheId=p,Nt.addToCache(d.baseTexture,p),bt.addToCache(d,p);const g=this.transform.localTransform.copyTo(lb).invert().translate(-e.x,-e.y);this.render=this._cacheData.originalRender,s.render(this,{renderTexture:d,clear:!0,transform:g,skipUpdateTransform:!1}),s.framebuffer.blit(),s.projection.transform=c,s.renderTexture.bind(a,o,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const y=new ha(d);y.transform.worldTransform=this.transform.worldTransform,y.anchor.x=-(e.x/e.width),y.anchor.y=-(e.y/e.height),y.alpha=t,y._bounds=this._bounds,this._cacheData.sprite=y,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=y.containsPoint.bind(y)};ce.prototype._renderCachedCanvas=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(s),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(s))};ce.prototype._initCachedDisplayObjectCanvas=function(s){if(this._cacheData?.sprite)return;const t=this.getLocalBounds(new Ut,!0),e=this.alpha;this.alpha=1;const r=s.canvasContext.activeContext,a=s._projTransform,o=this.cacheAsBitmapResolution||s.resolution;t.ceil(o),t.width=Math.max(t.width,1/o),t.height=Math.max(t.height,1/o);const h=us.create({width:t.width,height:t.height,resolution:o}),c=`cacheAsBitmap_${ss()}`;this._cacheData.textureCacheId=c,Nt.addToCache(h.baseTexture,c),bt.addToCache(h,c);const d=lb;this.transform.localTransform.copyTo(d),d.invert(),d.tx-=t.x,d.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,s.render(this,{renderTexture:h,clear:!0,transform:d,skipUpdateTransform:!1}),s.canvasContext.activeContext=r,s._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const p=new ha(h);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(t.x/t.width),p.anchor.y=-(t.y/t.height),p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=s._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)};ce.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ce.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ce.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Nt.removeFromCache(this._cacheData.textureCacheId),bt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ce.prototype._cacheAsBitmapDestroy=function(s){this.cacheAsBitmap=!1,this.destroy(s)};ce.prototype.name=null;Pi.prototype.getChildByName=function(s,t){for(let e=0,r=this.children.length;e<r;e++)if(this.children[e].name===s)return this.children[e];if(t)for(let e=0,r=this.children.length;e<r;e++){const a=this.children[e];if(!a.getChildByName)continue;const o=a.getChildByName(s,!0);if(o)return o}return null};ce.prototype.getGlobalPosition=function(s=new jt,t=!1){return this.parent?this.parent.toGlobal(this.position,s,t):(s.x=this.position.x,s.y=this.position.y),s};var lR=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class oR extends Ve{constructor(t=1){super(Zw,lR,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const uR={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},hR=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function cR(s){const t=uR[s],e=t.length;let r=hR,a="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let h;for(let c=0;c<s;c++){let d=o.replace("%index%",c.toString());h=c,c>=e&&(h=s-c-1),d=d.replace("%value%",t[h].toString()),a+=d,a+=`
`}return r=r.replace("%blur%",a),r=r.replace("%size%",s.toString()),r}const fR=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function dR(s,t){const e=Math.ceil(s/2);let r=fR,a="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let h=0;h<s;h++){let c=o.replace("%index%",h.toString());c=c.replace("%sampleIndex%",`${h-(e-1)}.0`),a+=c,a+=`
`}return r=r.replace("%blur%",a),r=r.replace("%size%",s.toString()),r}class lp extends Ve{constructor(t,e=8,r=4,a=Ve.defaultResolution,o=5){const h=dR(o,t),c=cR(o);super(h,c),this.horizontal=t,this.resolution=a,this._quality=0,this.quality=r,this.blur=e}apply(t,e,r,a){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,e,r,a);else{const o=t.getFilterTexture(),h=t.renderer;let c=e,d=o;this.state.blend=!1,t.applyFilter(this,c,d,Ki.CLEAR);for(let p=1;p<this.passes-1;p++){t.bindAndClear(c,Ki.BLIT),this.uniforms.uSampler=d;const g=d;d=c,c=g,h.shader.bind(this),h.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,d,r,a),t.returnFilterTexture(o)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class pR extends Ve{constructor(t=8,e=4,r=Ve.defaultResolution,a=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new lp(!0,t,e,r,a),this.blurYFilter=new lp(!1,t,e,r,a),this.resolution=r,this.quality=e,this.blur=t,this.repeatEdgePixels=!1}apply(t,e,r,a){const o=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(o&&h){const c=t.getFilterTexture();this.blurXFilter.apply(t,e,c,Ki.CLEAR),this.blurYFilter.apply(t,c,r,a),t.returnFilterTexture(c)}else h?this.blurYFilter.apply(t,e,r,a):this.blurXFilter.apply(t,e,r,a)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var mR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class op extends Ve{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Jx,mR,t),this.alpha=1}_loadMatrix(t,e=!1){let r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t}_colorMatrix(t){const e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){const r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}tint(t,e){const[r,a,o]=se.shared.setValue(t).toArray(),h=[r,0,0,0,0,0,a,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(h,e)}greyscale(t,e){const r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}blackAndWhite(t){const e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)}hue(t,e){t=(t||0)/180*Math.PI;const r=Math.cos(t),a=Math.sin(t),o=Math.sqrt,h=1/3,c=o(h),d=r+(1-r)*h,p=h*(1-r)-c*a,g=h*(1-r)+c*a,y=h*(1-r)+c*a,v=r+h*(1-r),_=h*(1-r)-c*a,x=h*(1-r)-c*a,S=h*(1-r)+c*a,A=r+h*(1-r),T=[d,p,g,0,0,y,v,_,0,0,x,S,A,0,0,0,0,0,1,0];this._loadMatrix(T,e)}contrast(t,e){const r=(t||0)+1,a=-.5*(r-1),o=[r,0,0,0,a,0,r,0,0,a,0,0,r,0,a,0,0,0,1,0];this._loadMatrix(o,e)}saturate(t=0,e){const r=t*2/3+1,a=(r-1)*-.5,o=[r,a,a,0,0,a,r,a,0,0,a,a,r,0,0,0,0,0,1,0];this._loadMatrix(o,e)}desaturate(){this.saturate(-1)}negative(t){const e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)}sepia(t){const e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)}technicolor(t){const e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)}polaroid(t){const e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)}toBGR(t){const e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)}kodachrome(t){const e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)}browni(t){const e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)}vintage(t){const e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)}colorTone(t,e,r,a,o){t=t||.2,e=e||.15,r=r||16770432,a=a||3375104;const h=se.shared,[c,d,p]=h.setValue(r).toArray(),[g,y,v]=h.setValue(a).toArray(),_=[.3,.59,.11,0,0,c,d,p,t,0,g,y,v,e,0,c-g,d-y,p-v,0,0];this._loadMatrix(_,o)}night(t,e){t=t||.1;const r=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(r,e)}predator(t,e){const r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)}lsd(t){const e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}op.prototype.grayscale=op.prototype.greyscale;var gR=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,yR=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class vR extends Ve{constructor(t,e){const r=new ae;t.renderable=!1,super(yR,gR,{mapSampler:t._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=r,e==null&&(e=20),this.scale=new jt(e,e)}apply(t,e,r,a){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,h=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);h!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/h,this.uniforms.rotation[1]=o.b/h,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),t.applyFilter(this,e,r,a)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var _R=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,xR=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class bR extends Ve{constructor(){super(xR,_R)}}var ER=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class TR extends Ve{constructor(t=.5,e=Math.random()){super(Jx,ER,{uNoise:0,uSeed:0}),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const g_={AlphaFilter:oR,BlurFilter:pR,BlurFilterPass:lp,ColorMatrixFilter:op,DisplacementFilter:vR,FXAAFilter:bR,NoiseFilter:TR};Object.entries(g_).forEach(([s,t])=>{Object.defineProperty(g_,s,{get(){return Xt("7.1.0",`filters.${s} has moved to ${s}`),t}})});class AR{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(ai.system.add(this.tickerUpdate,this,as.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(ai.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const _n=new AR;class Bl{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Bl.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new jt,this.page=new jt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,r,a,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Uu extends Bl{constructor(){super(...arguments),this.client=new jt,this.movement=new jt,this.offset=new jt,this.global=new jt,this.screen=new jt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,r,a,o,h,c,d,p,g,y,v,_,x,S){throw new Error("Method not implemented.")}}class Di extends Uu{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class ra extends Uu{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}ra.DOM_DELTA_PIXEL=0,ra.DOM_DELTA_LINE=1,ra.DOM_DELTA_PAGE=2;const SR=2048,wR=new jt,Rd=new jt;class RR{constructor(t){this.dispatch=new Ol,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((r,a)=>r.priority-a.priority)}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let r=0,a=e.length;r<a;r++)e[r].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){_n.pauseUpdate=!0;const r=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",a=this[r](this.rootTarget,this.rootTarget.eventMode,wR.set(t,e),this.hitTestFn,this.hitPruneFn);return a&&a[0]}propagate(t,e){if(!t.target)return;const r=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let a=0,o=r.length-1;a<o;a++)if(t.currentTarget=r[a],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let a=r.length-2;a>=0;a--)if(t.currentTarget=r[a],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,r=this._allInteractiveElements){if(r.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const a=Array.isArray(e)?e:[e];for(let o=r.length-1;o>=0;o--)a.forEach(h=>{t.currentTarget=r[o],this.notifyTarget(t,h)})}propagationPath(t){const e=[t];for(let r=0;r<SR&&t!==this.rootTarget;r++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,r,a,o,h=!1){let c=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(_n.pauseUpdate=!1),t.interactiveChildren&&t.children){const g=t.children;for(let y=g.length-1;y>=0;y--){const v=g[y],_=this.hitTestMoveRecursive(v,this._isInteractive(e)?e:v.eventMode,r,a,o,h||o(t,r));if(_){if(_.length>0&&!_[_.length-1].parent)continue;const x=t.isInteractive();(_.length>0||x)&&(x&&this._allInteractiveElements.push(t),_.push(t)),this._hitElements.length===0&&(this._hitElements=_),c=!0}}}const d=this._isInteractive(e),p=t.isInteractive();return d&&p&&this._allInteractiveElements.push(t),h||this._hitElements.length>0?null:c?this._hitElements:d&&!o(t,r)&&a(t,r)?p?[t]:[]:null}hitTestRecursive(t,e,r,a,o){if(this._interactivePrune(t)||o(t,r))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(_n.pauseUpdate=!1),t.interactiveChildren&&t.children){const d=t.children;for(let p=d.length-1;p>=0;p--){const g=d[p],y=this.hitTestRecursive(g,this._isInteractive(e)?e:g.eventMode,r,a,o);if(y){if(y.length>0&&!y[y.length-1].parent)continue;const v=t.isInteractive();return(y.length>0||v)&&y.push(t),y}}}const h=this._isInteractive(e),c=t.isInteractive();return h&&a(t,r)?c?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,e){if(t.hitArea&&(t.worldTransform.applyInverse(e,Rd),!t.hitArea.contains(Rd.x,Rd.y)))return!0;if(t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;if(r&&!r.containsPoint?.(e))return!0}return!1}hitTestFn(t,e){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(e):!1}notifyTarget(t,e){e=e??t.type;const r=`on${e}`;t.currentTarget[r]?.(t);const a=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,a),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),e.pointerType==="touch")this.dispatchEvent(e,"touchstart");else if(e.pointerType==="mouse"||e.pointerType==="pen"){const a=e.button===2;this.dispatchEvent(e,a?"rightdown":"mousedown")}const r=this.trackingData(t.pointerId);r.pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const r=e.pointerType==="mouse"||e.pointerType==="pen",a=this.trackingData(t.pointerId),o=this.findMountedTarget(a.overTargets);if(a.overTargets?.length>0&&o!==e.target){const d=t.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(t,d,o);if(this.dispatchEvent(p,"pointerout"),r&&this.dispatchEvent(p,"mouseout"),!e.composedPath().includes(o)){const g=this.createPointerEvent(t,"pointerleave",o);for(g.eventPhase=g.AT_TARGET;g.target&&!e.composedPath().includes(g.target);)g.currentTarget=g.target,this.notifyTarget(g),r&&this.notifyTarget(g,"mouseleave"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(p)}if(o!==e.target){const d=t.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(e,d);this.dispatchEvent(p,"pointerover"),r&&this.dispatchEvent(p,"mouseover");let g=o?.parent;for(;g&&g!==this.rootTarget.parent&&g!==e.target;)g=g.parent;if(!g||g===this.rootTarget.parent){const y=this.clonePointerEvent(e,"pointerenter");for(y.eventPhase=y.AT_TARGET;y.target&&y.target!==o&&y.target!==this.rootTarget.parent;)y.currentTarget=y.target,this.notifyTarget(y),r&&this.notifyTarget(y,"mouseenter"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(p)}const h=[],c=this.enableGlobalMoveEvents??!0;this.moveOnAll?h.push("pointermove"):this.dispatchEvent(e,"pointermove"),c&&h.push("globalpointermove"),e.pointerType==="touch"&&(this.moveOnAll?h.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),c&&h.push("globaltouchmove")),r&&(this.moveOnAll?h.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),c&&h.push("globalmousemove"),this.cursor=e.target?.cursor),h.length>0&&this.all(e,h),this._allInteractiveElements.length=0,this._hitElements.length=0,a.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),r=this.createPointerEvent(t),a=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),a&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=r.target?.cursor);const o=this.clonePointerEvent(r,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),a&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;e.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(o)}mapPointerOut(t){if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId);if(e.overTargets){const r=t.pointerType==="mouse"||t.pointerType==="pen",a=this.findMountedTarget(e.overTargets),o=this.createPointerEvent(t,"pointerout",a);this.dispatchEvent(o),r&&this.dispatchEvent(o,"mouseout");const h=this.createPointerEvent(t,"pointerleave",a);for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==this.rootTarget.parent;)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;e.overTargets=null,this.freeEvent(o),this.freeEvent(h)}this.cursor=null}mapPointerUp(t){if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=performance.now(),r=this.createPointerEvent(t);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const c=r.button===2;this.dispatchEvent(r,c?"rightup":"mouseup")}const a=this.trackingData(t.pointerId),o=this.findMountedTarget(a.pressTargetsByButton[t.button]);let h=o;if(o&&!r.composedPath().includes(o)){let c=o;for(;c&&!r.composedPath().includes(c);){if(r.currentTarget=c,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const d=r.button===2;this.notifyTarget(r,d?"rightupoutside":"mouseupoutside")}c=c.parent}delete a.pressTargetsByButton[t.button],h=c}if(h){const c=this.clonePointerEvent(r,"click");c.target=h,c.path=null,a.clicksByButton[t.button]||(a.clicksByButton[t.button]={clickCount:0,target:c.target,timeStamp:e});const d=a.clicksByButton[t.button];if(d.target===c.target&&e-d.timeStamp<200?++d.clickCount:d.clickCount=1,d.target=c.target,d.timeStamp=e,c.detail=d.clickCount,c.pointerType==="mouse"){const p=c.button===2;this.dispatchEvent(c,p?"rightclick":"click")}else c.pointerType==="touch"&&this.dispatchEvent(c,"tap");this.dispatchEvent(c,"pointertap"),this.freeEvent(c)}this.freeEvent(r)}mapPointerUpOutside(t){if(!(t instanceof Di)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),r=this.findMountedTarget(e.pressTargetsByButton[t.button]),a=this.createPointerEvent(t);if(r){let o=r;for(;o;)a.currentTarget=o,this.notifyTarget(a,"pointerupoutside"),a.pointerType==="touch"?this.notifyTarget(a,"touchendoutside"):(a.pointerType==="mouse"||a.pointerType==="pen")&&this.notifyTarget(a,a.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(a)}mapWheel(t){if(!(t instanceof ra)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let r=1;r<t.length&&t[r].parent===e;r++)e=t[r];return e}createPointerEvent(t,e,r){const a=this.allocateEvent(Di);return this.copyPointerData(t,a),this.copyMouseData(t,a),this.copyData(t,a),a.nativeEvent=t.nativeEvent,a.originalEvent=t,a.target=r??this.hitTest(a.global.x,a.global.y)??this._hitElements[0],typeof e=="string"&&(a.type=e),a}createWheelEvent(t){const e=this.allocateEvent(ra);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const r=this.allocateEvent(Di);return r.nativeEvent=t.nativeEvent,r.originalEvent=t.originalEvent,this.copyPointerData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.target=t.target,r.path=t.composedPath().slice(),r.type=e??r.type,r}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof Di&&e instanceof Di&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof Uu&&e instanceof Uu&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}notifyListeners(t,e){const r=t.currentTarget._events[e];if(r&&t.currentTarget.isInteractive())if("fn"in r)r.once&&t.currentTarget.removeListener(e,r.fn,void 0,!0),r.fn.call(r.context,t);else for(let a=0,o=r.length;a<o&&!t.propagationImmediatelyStopped;a++)r[a].once&&t.currentTarget.removeListener(e,r[a].fn,void 0,!0),r[a].fn.call(r[a].context,t)}}const CR=1,MR={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},up=class hp{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new RR(null),_n.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Di(null),this.rootWheelEvent=new ra(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...hp.defaultEventFeatures},{set:(e,r,a)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=a),e[r]=a,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,hp._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,a=e.length;r<a;r++){const o=e[r],h=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,_n.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,a=e.length;r<a;r++){const o=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",a=this.normalizeToPointerData(t);for(let o=0,h=a.length;o<h;o++){const c=this.bootstrapEvent(this.rootPointerEvent,a[o]);c.type+=r,this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);for(let r=0,a=e.length;r<a;r++){const o=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,_n.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;_n.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;_n.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){const a=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;t.x=(e-a.left)*(this.domElement.width/a.width)*o,t.y=(r-a.top)*(this.domElement.height/a.height)*o}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,a=t.changedTouches.length;r<a;r++){const o=t.changedTouches[r];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=t.type,e.push(o)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=CR),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=MR[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};up.extension={name:"events",type:[pt.RendererSystem,pt.CanvasRendererSystem]},up.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let cp=up;Et.add(cp);function y_(s){return s==="dynamic"||s==="static"}const DR={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??y_(cp.defaultEventMode)},set interactive(s){Xt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=s,this.eventMode=s?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??cp.defaultEventMode},set eventMode(s){this._internalInteractive=y_(s),this._internalEventMode=s},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(s,t,e){const r=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,a=typeof e=="object"?e.signal:void 0,o=typeof e=="object"?e.once===!0:!1,h=typeof t=="function"?void 0:t;s=r?`${s}capture`:s;const c=typeof t=="function"?t:t.handleEvent,d=this;a&&a.addEventListener("abort",()=>{d.off(s,c,h)}),o?d.once(s,c,h):d.on(s,c,h)},removeEventListener(s,t,e){const r=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,a=typeof t=="function"?void 0:t;s=r?`${s}capture`:s,t=typeof t=="function"?t:t.handleEvent,this.off(s,t,a)},dispatchEvent(s){if(!(s instanceof Bl))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return s.defaultPrevented=!1,s.path=null,s.target=this,s.manager.dispatchEvent(s),!s.defaultPrevented}};ce.mixin(DR);const OR={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ce.mixin(OR);const BR=9,au=100,IR=0,NR=0,v_=2,__=1,PR=-1e3,UR=-1e3,LR=2;class ob{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Or.tablet||Or.phone)&&this.createTouchHook();const e=document.createElement("div");e.style.width=`${au}px`,e.style.height=`${au}px`,e.style.position="absolute",e.style.top=`${IR}px`,e.style.left=`${NR}px`,e.style.zIndex=v_.toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${__}px`,t.style.height=`${__}px`,t.style.position="absolute",t.style.top=`${PR}px`,t.style.left=`${UR}px`,t.style.zIndex=LR.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const e=t.children;if(e)for(let r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}update(){const t=performance.now();if(Or.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:e,y:r,width:a,height:o}=this.renderer.view.getBoundingClientRect(),{width:h,height:c,resolution:d}=this.renderer,p=a/h*d,g=o/c*d;let y=this.div;y.style.left=`${e}px`,y.style.top=`${r}px`,y.style.width=`${h}px`,y.style.height=`${c}px`;for(let v=0;v<this.children.length;v++){const _=this.children[v];if(_.renderId!==this.renderId)_._accessibleActive=!1,ea(this.children,v,1),this.div.removeChild(_._accessibleDiv),this.pool.push(_._accessibleDiv),_._accessibleDiv=null,v--;else{y=_._accessibleDiv;let x=_.hitArea;const S=_.worldTransform;_.hitArea?(y.style.left=`${(S.tx+x.x*S.a)*p}px`,y.style.top=`${(S.ty+x.y*S.d)*g}px`,y.style.width=`${x.width*S.a*p}px`,y.style.height=`${x.height*S.d*g}px`):(x=_.getBounds(),this.capHitArea(x),y.style.left=`${x.x*p}px`,y.style.top=`${x.y*g}px`,y.style.width=`${x.width*p}px`,y.style.height=`${x.height*g}px`,y.title!==_.accessibleTitle&&_.accessibleTitle!==null&&(y.title=_.accessibleTitle),y.getAttribute("aria-label")!==_.accessibleHint&&_.accessibleHint!==null&&y.setAttribute("aria-label",_.accessibleHint)),(_.accessibleTitle!==y.title||_.tabIndex!==y.tabIndex)&&(y.title=_.accessibleTitle,y.tabIndex=_.tabIndex,this.debug&&this.updateDebugHTML(y))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:r}=this.renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>r&&(t.height=r-t.y)}addChild(t){let e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=`${au}px`,e.style.height=`${au}px`,e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=v_.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?e.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(e.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{displayObject:r}=t.target,a=this.renderer.events.rootBoundary,o=Object.assign(new Bl(a),{target:r});a.rootTarget=this.renderer.lastObjectRendered,e.forEach(h=>a.dispatchEvent(o,h))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===BR&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}ob.extension={name:"accessibility",type:[pt.RendererPlugin,pt.CanvasRendererPlugin]};Et.add(ob);const ub=class fp{constructor(t){this.stage=new Pi,t=Object.assign({forceCanvas:!1},t),this.renderer=Yw(t),fp._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(t,e){const r=fp._plugins.slice(0);r.reverse(),r.forEach(a=>{a.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};ub._plugins=[];let hb=ub;Et.handleByList(pt.Application,hb._plugins);class cb{static init(t){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let e,r;if(this._resizeTo===globalThis.window)e=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:a,clientHeight:o}=this._resizeTo;e=a,r=o}this.renderer.resize(e,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}cb.extension=pt.Application;Et.add(cb);const x_={loader:pt.LoadParser,resolver:pt.ResolveParser,cache:pt.CacheParser,detection:pt.DetectionParser};Et.handle(pt.Asset,s=>{const t=s.ref;Object.entries(x_).filter(([e])=>!!t[e]).forEach(([e,r])=>Et.add(Object.assign(t[e],{extension:t[e].extension??r})))},s=>{const t=s.ref;Object.keys(x_).filter(e=>!!t[e]).forEach(e=>Et.remove(t[e]))});class FR{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<e;r++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function ca(s,t){if(Array.isArray(t)){for(const e of t)if(s.startsWith(`data:${e}`))return!0;return!1}return s.startsWith(`data:${t}`)}function wn(s,t){const e=s.split("?")[0],r=Be.extname(e).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}const Bi=(s,t,e=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(r=>typeof r=="string"||e?t(r):r):s),dp=(s,t)=>{const e=t.split("?")[1];return e&&(s+=`?${e}`),s};function fb(s,t,e,r,a){const o=t[e];for(let h=0;h<o.length;h++){const c=o[h];e<t.length-1?fb(s.replace(r[e],c),t,e+1,r,a):a.push(s.replace(r[e],c))}}function GR(s){const t=/\{(.*?)\}/g,e=s.match(t),r=[];if(e){const a=[];e.forEach(o=>{const h=o.substring(1,o.length-1).split(",");a.push(h)}),fb(s,a,0,e,r)}else r.push(s);return r}const Lu=s=>!Array.isArray(s);class kR{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const r=Bi(t);let a;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.test(e)){a=d.getCacheableAssets(r,e);break}}a||(a={},r.forEach(c=>{a[c]=e}));const o=Object.keys(a),h={cacheKeys:o,keys:r};if(r.forEach(c=>{this._cacheMap.set(c,h)}),o.forEach(c=>{const d=a?a[c]:e;this._cache.has(c)&&this._cache.get(c)!==d&&console.warn("[Cache] already has key:",c),this._cache.set(c,a[c])}),e instanceof bt){const c=e;r.forEach(d=>{c.baseTexture!==bt.EMPTY.baseTexture&&Nt.addToCache(c.baseTexture,d),bt.addToCache(c,d)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(r=>{this._cache.delete(r)}),e.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const is=new kR;class HR{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,r)=>(this._parsersValidated=!1,t[e]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const r={promise:null,parser:null};return r.promise=(async()=>{let a=null,o=null;if(e.loadParser&&(o=this._parserHash[e.loadParser],o||console.warn(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!o){for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];if(c.load&&c.test?.(t,e,this)){o=c;break}}if(!o)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}a=await o.load(t,e,this),r.parser=o;for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];c.parse&&c.parse&&await c.testParse?.(a,e,this)&&(a=await c.parse(a,e,this)||a,r.parser=c)}return a})(),r}async load(t,e){this._parsersValidated||this._validateParsers();let r=0;const a={},o=Lu(t),h=Bi(t,p=>({alias:[p],src:p})),c=h.length,d=h.map(async p=>{const g=Be.toAbsolute(p.src);if(!a[p.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,p)),a[p.src]=await this.promiseCache[g].promise,e&&e(++r/c)}catch(y){throw delete this.promiseCache[g],delete a[p.src],new Error(`[Loader.load] Failed to load ${g}.
${y}`)}});return await Promise.all(d),o?a[h[0].src]:a}async unload(t){const e=Bi(t,r=>({alias:[r],src:r})).map(async r=>{const a=Be.toAbsolute(r.src),o=this.promiseCache[a];if(o){const h=await o.promise;delete this.promiseCache[a],o.parser?.unload?.(h,r,this)}});await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(t[e.name]&&console.warn(`[Assets] loadParser name conflict "${e.name}"`),{...t,[e.name]:e}),{})}}var Ui=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(Ui||{});const zR=".json",XR="application/json",VR={extension:{type:pt.LoadParser,priority:Ui.Low},name:"loadJson",test(s){return ca(s,XR)||wn(s,zR)},async load(s){return await(await gt.ADAPTER.fetch(s)).json()}};Et.add(VR);const jR=".txt",qR="text/plain",YR={name:"loadTxt",extension:{type:pt.LoadParser,priority:Ui.Low},test(s){return ca(s,qR)||wn(s,jR)},async load(s){return await(await gt.ADAPTER.fetch(s)).text()}};Et.add(YR);const $R=["normal","bold","100","200","300","400","500","600","700","800","900"],WR=[".ttf",".otf",".woff",".woff2"],ZR=["font/ttf","font/otf","font/woff","font/woff2"],KR=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function QR(s){const t=Be.extname(s),e=Be.basename(s,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let r=e.length>0;for(const o of e)if(!o.match(KR)){r=!1;break}let a=e.join(" ");return r||(a=`"${a.replace(/[\\"]/g,"\\$&")}"`),a}const JR=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function tC(s){return JR.test(s)?s:encodeURI(s)}const eC={extension:{type:pt.LoadParser,priority:Ui.Low},name:"loadWebFont",test(s){return ca(s,ZR)||wn(s,WR)},async load(s,t){const e=gt.ADAPTER.getFontFaceSet();if(e){const r=[],a=t.data?.family??QR(s),o=t.data?.weights?.filter(c=>$R.includes(c))??["normal"],h=t.data??{};for(let c=0;c<o.length;c++){const d=o[c],p=new FontFace(a,`url(${tC(s)})`,{...h,weight:d});await p.load(),e.add(p),r.push(p)}return r.length===1?r[0]:r}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(s){(Array.isArray(s)?s:[s]).forEach(t=>gt.ADAPTER.getFontFaceSet().delete(t))}};Et.add(eC);const iC=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let na=null,pp=class{constructor(){na||(na=URL.createObjectURL(new Blob([iC],{type:"application/javascript"}))),this.worker=new Worker(na)}};pp.revokeObjectURL=function(){na&&(URL.revokeObjectURL(na),na=null)};const rC=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let sa=null;class db{constructor(){sa||(sa=URL.createObjectURL(new Blob([rC],{type:"application/javascript"}))),this.worker=new Worker(sa)}}db.revokeObjectURL=function(){sa&&(URL.revokeObjectURL(sa),sa=null)};let b_=0,Cd;class nC{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new pp;e.addEventListener("message",r=>{e.terminate(),pp.revokeObjectURL(),t(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Cd===void 0&&(Cd=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<Cd&&(this._createdWorkers++,t=new db().worker,t.addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const r=new Promise((a,o)=>{this.queue.push({id:t,arguments:e,resolve:a,reject:o})});return this.next(),r}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const e=this.queue.pop(),r=e.id;this.resolveHash[b_]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:b_++,id:r})}}const E_=new nC;function Il(s,t,e){s.resource.internal=!0;const r=new bt(s),a=()=>{delete t.promiseCache[e],is.has(e)&&is.remove(e)};return r.baseTexture.once("destroyed",()=>{e in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),a())}),r.once("destroyed",()=>{s.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),a())}),r}const sC=[".jpeg",".jpg",".png",".webp",".avif"],aC=["image/jpeg","image/png","image/webp","image/avif"];async function lC(s){const t=await gt.ADAPTER.fetch(s);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${s}: ${t.status} ${t.statusText}`);const e=await t.blob();return await createImageBitmap(e)}const Ku={name:"loadTextures",extension:{type:pt.LoadParser,priority:Ui.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(s){return ca(s,aC)||wn(s,sC)},async load(s,t,e){const r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let a;r?this.config.preferWorkers&&await E_.isImageBitmapSupported()?a=await E_.loadImageBitmap(s):a=await lC(s):a=await new Promise((c,d)=>{const p=new Image;p.crossOrigin=this.config.crossOrigin,p.src=s,p.complete?c(p):(p.onload=()=>c(p),p.onerror=g=>d(g))});const o={...t.data};o.resolution??(o.resolution=Ur(s)),r&&o.resourceOptions?.ownsImageBitmap===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const h=new Nt(a,o);return h.resource.src=s,Il(h,e,s)},unload(s){s.destroy(!0)}};Et.add(Ku);const oC=".svg",uC="image/svg+xml",hC={extension:{type:pt.LoadParser,priority:Ui.High},name:"loadSVG",test(s){return ca(s,uC)||wn(s,oC)},async testParse(s){return rp.test(s)},async parse(s,t,e){const r=new rp(s,t?.data?.resourceOptions);await r.load();const a=new Nt(r,{resolution:Ur(s),...t?.data});return a.resource.src=t.src,Il(a,e,t.src)},async load(s,t){return(await gt.ADAPTER.fetch(s)).text()},unload:Ku.unload};Et.add(hC);const cC=[".mp4",".m4v",".webm",".ogv"],fC=["video/mp4","video/webm","video/ogg"],dC={name:"loadVideo",extension:{type:pt.LoadParser,priority:Ui.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(s){return ca(s,fC)||wn(s,cC)},async load(s,t,e){let r;const a=await(await gt.ADAPTER.fetch(s)).blob(),o=URL.createObjectURL(a);try{const h={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...t?.data?.resourceOptions,autoLoad:!0},c=new sb(o,h);await c.load();const d=new Nt(c,{alphaMode:await _S(),resolution:Ur(s),...t?.data});d.resource.src=s,r=Il(d,e,s),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(h){throw URL.revokeObjectURL(o),h}return r},unload(s){s.destroy(!0)}};Et.add(dC);class pC{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`).join("&")}}getAlias(t){const{alias:e,name:r,src:a,srcs:o}=t;return Bi(e||r||a||o,h=>typeof h=="string"?h:Array.isArray(h)?h.map(c=>c?.src??c?.srcs??c):h?.src||h?.srcs?h.src??h.srcs:h,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const r=[];Array.isArray(e)?e.forEach(a=>{const o=a.src??a.srcs,h=a.alias??a.name;let c;if(typeof h=="string"){const d=this._createBundleAssetId(t,h);r.push(d),c=[h,d]}else{const d=h.map(p=>this._createBundleAssetId(t,p));r.push(...d),c=[...h,...d]}this.add({...a,alias:c,src:o})}):Object.keys(e).forEach(a=>{const o=[a,this._createBundleAssetId(t,a)];if(typeof e[a]=="string")this.add({alias:o,src:e[a]});else if(Array.isArray(e[a]))this.add({alias:o,src:e[a]});else{const h=e[a],c=h.src??h.srcs;this.add({...h,alias:o,src:Array.isArray(c)?c:[c]})}r.push(...o)}),this._bundles[t]=r}add(t,e,r,a,o){const h=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(Xt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),h.push({alias:t,src:e,data:r,format:a,loadParser:o})):Array.isArray(t)?h.push(...t):h.push(t);let c;c=d=>{this.hasKey(d)&&console.warn(`[Resolver] already has key: ${d} overwriting`)},Bi(h).forEach(d=>{const{src:p,srcs:g}=d;let{data:y,format:v,loadParser:_}=d;const x=Bi(p||g).map(T=>typeof T=="string"?GR(T):Array.isArray(T)?T:[T]),S=this.getAlias(d);Array.isArray(S)?S.forEach(c):c(S);const A=[];x.forEach(T=>{T.forEach(I=>{let D={};if(typeof I!="object"){D.src=I;for(let P=0;P<this._parsers.length;P++){const O=this._parsers[P];if(O.test(I)){D=O.parse(I);break}}}else y=I.data??y,v=I.format??v,_=I.loadParser??_,D={...D,...I};if(!S)throw new Error(`[Resolver] alias is undefined for this asset: ${D.src}`);D=this.buildResolvedAsset(D,{aliases:S,data:y,format:v,loadParser:_}),A.push(D)})}),S.forEach(T=>{this._assetMap[T]=A})})}resolveBundle(t){const e=Lu(t);t=Bi(t);const r={};return t.forEach(a=>{const o=this._bundles[a];if(o){const h=this.resolve(o),c={};for(const d in h){const p=h[d];c[this._extractAssetIdFromBundle(a,d)]=p}r[a]=c}}),e?r[t[0]]:r}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const r={};for(const a in e)r[a]=e[a].src;return r}return e.src}resolve(t){const e=Lu(t);t=Bi(t);const r={};return t.forEach(a=>{if(!this._resolverHash[a])if(this._assetMap[a]){let o=this._assetMap[a];const h=o[0],c=this._getPreferredOrder(o);c?.priority.forEach(d=>{c.params[d].forEach(p=>{const g=o.filter(y=>y[d]?y[d]===p:!1);g.length&&(o=g)})}),this._resolverHash[a]=o[0]??h}else this._resolverHash[a]=this.buildResolvedAsset({alias:[a],src:a},{});r[a]=this._resolverHash[a]}),e?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const r=t[0],a=this._preferredOrder.find(o=>o.params.format.includes(r.format));if(a)return a}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}buildResolvedAsset(t,e){const{aliases:r,data:a,loadParser:o,format:h}=e;return(this._basePath||this._rootPath)&&(t.src=Be.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=r??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...a||{},...t.data},t.loadParser=o??t.loadParser,t.format=h??t.format??Be.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}class mC{constructor(){this._detections=[],this._initialized=!1,this.resolver=new pC,this.loader=new HR,this.cache=is,this._backgroundLoader=new FR(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let o=t.manifest;typeof o=="string"&&(o=await this.load(o)),this.resolver.addManifest(o)}const e=t.texturePreference?.resolution??1,r=typeof e=="number"?[e]:e,a=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:a,resolution:r}}),t.preferences&&this.setPreferences(t.preferences)}add(t,e,r,a,o){this.resolver.add(t,e,r,a,o)}async load(t,e){this._initialized||await this.init();const r=Lu(t),a=Bi(t).map(c=>{if(typeof c!="string"){const d=this.resolver.getAlias(c);return d.some(p=>!this.resolver.hasKey(p))&&this.add(c),Array.isArray(d)?d[0]:d}return this.resolver.hasKey(c)||this.add({alias:c,src:c}),c}),o=this.resolver.resolve(a),h=await this._mapLoadToResolve(o,e);return r?h[a[0]]:h}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let r=!1;typeof t=="string"&&(r=!0,t=[t]);const a=this.resolver.resolveBundle(t),o={},h=Object.keys(a);let c=0,d=0;const p=()=>{e?.(++c/d)},g=h.map(y=>{const v=a[y];return d+=Object.keys(v).length,this._mapLoadToResolve(v,p).then(_=>{o[y]=_})});return await Promise.all(g),r?o[t[0]]:o}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return is.get(t);const e={};for(let r=0;r<t.length;r++)e[r]=is.get(t[r]);return e}async _mapLoadToResolve(t,e){const r=Object.values(t),a=Object.keys(t);this._backgroundLoader.active=!1;const o=await this.loader.load(r,e);this._backgroundLoader.active=!0;const h={};return r.forEach((c,d)=>{const p=o[c.src],g=[c.src];c.alias&&g.push(...c.alias),h[a[d]]=p,is.set(g,p)}),h}async unload(t){this._initialized||await this.init();const e=Bi(t).map(a=>typeof a!="string"?a.src:a),r=this.resolver.resolve(e);await this._unloadFromResolved(r)}async unloadBundle(t){this._initialized||await this.init(),t=Bi(t);const e=this.resolver.resolveBundle(t),r=Object.keys(e).map(a=>this._unloadFromResolved(e[a]));await Promise.all(r)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(r=>{is.remove(r.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const r of t.detections)t.skipDetections||await r.test()?e=await r.add(e):t.skipDetections||(e=await r.remove(e));return e=e.filter((r,a)=>e.indexOf(r)===a),e}get detections(){return this._detections}get preferWorkers(){return Ku.config.preferWorkers}set preferWorkers(t){Xt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(r=>r in t).forEach(r=>{e.config[r]=t[r]})})}}const lu=new mC;Et.handleByList(pt.LoadParser,lu.loader.parsers).handleByList(pt.ResolveParser,lu.resolver.parsers).handleByList(pt.CacheParser,lu.cache.parsers).handleByList(pt.DetectionParser,lu.detections);const gC={extension:pt.CacheParser,test:s=>Array.isArray(s)&&s.every(t=>t instanceof bt),getCacheableAssets:(s,t)=>{const e={};return s.forEach(r=>{t.forEach((a,o)=>{e[r+(o===0?"":o+1)]=a})}),e}};Et.add(gC);async function pb(s){if("Image"in globalThis)return new Promise(t=>{const e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=s});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(s)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const yC={extension:{type:pt.DetectionParser,priority:1},test:async()=>pb("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async s=>[...s,"avif"],remove:async s=>s.filter(t=>t!=="avif")};Et.add(yC);const vC={extension:{type:pt.DetectionParser,priority:0},test:async()=>pb("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async s=>[...s,"webp"],remove:async s=>s.filter(t=>t!=="webp")};Et.add(vC);const T_=["png","jpg","jpeg"],_C={extension:{type:pt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async s=>[...s,...T_],remove:async s=>s.filter(t=>!T_.includes(t))};Et.add(_C);const xC="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Pp(s){return xC?!1:document.createElement("video").canPlayType(s)!==""}const bC={extension:{type:pt.DetectionParser,priority:0},test:async()=>Pp("video/webm"),add:async s=>[...s,"webm"],remove:async s=>s.filter(t=>t!=="webm")};Et.add(bC);const EC={extension:{type:pt.DetectionParser,priority:0},test:async()=>Pp("video/mp4"),add:async s=>[...s,"mp4","m4v"],remove:async s=>s.filter(t=>t!=="mp4"&&t!=="m4v")};Et.add(EC);const TC={extension:{type:pt.DetectionParser,priority:0},test:async()=>Pp("video/ogg"),add:async s=>[...s,"ogv"],remove:async s=>s.filter(t=>t!=="ogv")};Et.add(TC);const AC={extension:pt.ResolveParser,test:Ku.test,parse:s=>({resolution:parseFloat(gt.RETINA_PREFIX.exec(s)?.[1]??"1"),format:Be.extname(s).slice(1),src:s})};Et.add(AC);var Ue=(s=>(s[s.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",s[s.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",s[s.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",s[s.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",s[s.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",s[s.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",s[s.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",s[s.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",s[s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",s[s.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",s[s.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",s[s.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",s[s.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",s[s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",s[s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",s[s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",s))(Ue||{});const Fu={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let $i,Zs;function A_(){Zs={bptc:$i.getExtension("EXT_texture_compression_bptc"),astc:$i.getExtension("WEBGL_compressed_texture_astc"),etc:$i.getExtension("WEBGL_compressed_texture_etc"),s3tc:$i.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:$i.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:$i.getExtension("WEBGL_compressed_texture_pvrtc")||$i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:$i.getExtension("WEBGL_compressed_texture_etc1"),atc:$i.getExtension("WEBGL_compressed_texture_atc")}}const SC={extension:{type:pt.DetectionParser,priority:2},test:async()=>{const s=gt.ADAPTER.createCanvas().getContext("webgl");return s?($i=s,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async s=>{Zs||A_();const t=[];for(const e in Zs)Zs[e]&&t.push(e);return[...t,...s]},remove:async s=>(Zs||A_(),s.filter(t=>!(t in Zs)))};Et.add(SC);class wC extends qu{constructor(t,e={width:1,height:1,autoLoad:!0}){let r,a;typeof t=="string"?(r=t,a=new Uint8Array):(r=null,a=t),super(a,e),this.origin=r,this.buffer=a?new Vd(a):null,this._load=null,this.loaded=!1,this.origin!==null&&e.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new Vd(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class ns extends wC{constructor(t,e){super(t,e),this.format=e.format,this.levels=e.levels||1,this._width=e.width,this._height=e.height,this._extension=ns._formatToExtension(this.format),(e.levelBuffers||this.buffer)&&(this._levelBuffers=e.levelBuffers||ns._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,e,r){const a=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;a.pixelStorei(a.UNPACK_ALIGNMENT,4);for(let o=0,h=this.levels;o<h;o++){const{levelID:c,levelWidth:d,levelHeight:p,levelBuffer:g}=this._levelBuffers[o];a.compressedTexImage2D(a.TEXTURE_2D,c,this.format,d,p,0,g)}return!0}onBlobLoaded(){this._levelBuffers=ns._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t===36196)return"etc1";if(t===35986||t===35987||t===34798)return"atc";if(t>=36492&&t<=36495)return"bptc";if(t===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${t}`)}static _createLevelBuffers(t,e,r,a,o,h,c){const d=new Array(r);let p=t.byteOffset,g=h,y=c,v=g+a-1&~(a-1),_=y+o-1&~(o-1),x=v*_*Fu[e];for(let S=0;S<r;S++)d[S]={levelID:S,levelWidth:r>1?g:v,levelHeight:r>1?y:_,levelBuffer:new Uint8Array(t.buffer,p,x)},p+=x,g=g>>1||1,y=y>>1||1,v=g+a-1&~(a-1),_=y+o-1&~(o-1),x=v*_*Fu[e];return d}}const Md=4,ou=124,RC=32,S_=20,CC=542327876,uu={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},MC={FOURCC:2},hu={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},DC=1,OC=2,BC=4,IC=64,NC=512,PC=131072,UC=827611204,LC=861165636,FC=894720068,GC=808540228,kC=4,HC={[UC]:Ue.COMPRESSED_RGBA_S3TC_DXT1_EXT,[LC]:Ue.COMPRESSED_RGBA_S3TC_DXT3_EXT,[FC]:Ue.COMPRESSED_RGBA_S3TC_DXT5_EXT},zC={70:Ue.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Ue.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Ue.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Ue.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Ue.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Ue.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Ue.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Ue.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Ue.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Ue.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Ue.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Ue.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Ue.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function XC(s){const t=new Uint32Array(s);if(t[0]!==CC)throw new Error("Invalid DDS file magic word");const e=new Uint32Array(s,0,ou/Uint32Array.BYTES_PER_ELEMENT),r=e[uu.HEIGHT],a=e[uu.WIDTH],o=e[uu.MIPMAP_COUNT],h=new Uint32Array(s,uu.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,RC/Uint32Array.BYTES_PER_ELEMENT),c=h[DC];if(c&BC){const d=h[MC.FOURCC];if(d!==GC){const I=HC[d],D=Md+ou,P=new Uint8Array(s,D);return[new ns(P,{format:I,width:a,height:r,levels:o})]}const p=Md+ou,g=new Uint32Array(t.buffer,p,S_/Uint32Array.BYTES_PER_ELEMENT),y=g[hu.DXGI_FORMAT],v=g[hu.RESOURCE_DIMENSION],_=g[hu.MISC_FLAG],x=g[hu.ARRAY_SIZE],S=zC[y];if(S===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${y}`);if(_===kC)throw new Error("DDSParser does not support cubemap textures");if(v===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,T=Md+ou+S_;if(x===1)A.push(new Uint8Array(s,T));else{const I=Fu[S];let D=0,P=a,O=r;for(let B=0;B<o;B++){const V=Math.max(1,P+3&-4),tt=Math.max(1,O+3&-4),at=V*tt*I;D+=at,P=P>>>1,O=O>>>1}let X=T;for(let B=0;B<x;B++)A.push(new Uint8Array(s,X,D)),X+=D}return A.map(I=>new ns(I,{format:S,width:a,height:r,levels:o}))}throw c&IC?new Error("DDSParser does not support uncompressed texture data."):c&NC?new Error("DDSParser does not supported YUV uncompressed texture data."):c&PC?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&OC?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const w_=[171,75,84,88,32,49,49,187,13,10,26,10],VC=67305985,Ri={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},mp=64,R_={[Rt.UNSIGNED_BYTE]:1,[Rt.UNSIGNED_SHORT]:2,[Rt.INT]:4,[Rt.UNSIGNED_INT]:4,[Rt.FLOAT]:4,[Rt.HALF_FLOAT]:8},jC={[ht.RGBA]:4,[ht.RGB]:3,[ht.RG]:2,[ht.RED]:1,[ht.LUMINANCE]:1,[ht.LUMINANCE_ALPHA]:2,[ht.ALPHA]:1},qC={[Rt.UNSIGNED_SHORT_4_4_4_4]:2,[Rt.UNSIGNED_SHORT_5_5_5_1]:2,[Rt.UNSIGNED_SHORT_5_6_5]:2};function YC(s,t,e=!1){const r=new DataView(t);if(!$C(s,r))return null;const a=r.getUint32(Ri.ENDIANNESS,!0)===VC,o=r.getUint32(Ri.GL_TYPE,a),h=r.getUint32(Ri.GL_FORMAT,a),c=r.getUint32(Ri.GL_INTERNAL_FORMAT,a),d=r.getUint32(Ri.PIXEL_WIDTH,a),p=r.getUint32(Ri.PIXEL_HEIGHT,a)||1,g=r.getUint32(Ri.PIXEL_DEPTH,a)||1,y=r.getUint32(Ri.NUMBER_OF_ARRAY_ELEMENTS,a)||1,v=r.getUint32(Ri.NUMBER_OF_FACES,a),_=r.getUint32(Ri.NUMBER_OF_MIPMAP_LEVELS,a),x=r.getUint32(Ri.BYTES_OF_KEY_VALUE_DATA,a);if(p===0||g!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(y!==1)throw new Error("WebGL does not support array textures");const S=4,A=4,T=d+3&-4,I=p+3&-4,D=new Array(y);let P=d*p;o===0&&(P=T*I);let O;if(o!==0?R_[o]?O=R_[o]*jC[h]:O=qC[o]:O=Fu[c],O===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const X=e?ZC(r,x,a):null;let B=P*O,V=d,tt=p,at=T,et=I,H=mp+x;for(let Q=0;Q<_;Q++){const J=r.getUint32(H,a);let dt=H+4;for(let w=0;w<y;w++){let C=D[w];C||(C=D[w]=new Array(_)),C[Q]={levelID:Q,levelWidth:_>1||o!==0?V:at,levelHeight:_>1||o!==0?tt:et,levelBuffer:new Uint8Array(t,dt,B)},dt+=B}H+=J+4,H=H%4!==0?H+4-H%4:H,V=V>>1||1,tt=tt>>1||1,at=V+S-1&-4,et=tt+A-1&-4,B=at*et*O}return o!==0?{uncompressed:D.map(Q=>{let J=Q[0].levelBuffer,dt=!1;return o===Rt.FLOAT?J=new Float32Array(Q[0].levelBuffer.buffer,Q[0].levelBuffer.byteOffset,Q[0].levelBuffer.byteLength/4):o===Rt.UNSIGNED_INT?(dt=!0,J=new Uint32Array(Q[0].levelBuffer.buffer,Q[0].levelBuffer.byteOffset,Q[0].levelBuffer.byteLength/4)):o===Rt.INT&&(dt=!0,J=new Int32Array(Q[0].levelBuffer.buffer,Q[0].levelBuffer.byteOffset,Q[0].levelBuffer.byteLength/4)),{resource:new qu(J,{width:Q[0].levelWidth,height:Q[0].levelHeight}),type:o,format:dt?WC(h):h}}),kvData:X}:{compressed:D.map(Q=>new ns(null,{format:c,width:d,height:p,levels:_,levelBuffers:Q})),kvData:X}}function $C(s,t){for(let e=0;e<w_.length;e++)if(t.getUint8(e)!==w_[e])return console.error(`${s} is not a valid *.ktx file!`),!1;return!0}function WC(s){switch(s){case ht.RGBA:return ht.RGBA_INTEGER;case ht.RGB:return ht.RGB_INTEGER;case ht.RG:return ht.RG_INTEGER;case ht.RED:return ht.RED_INTEGER;default:return s}}function ZC(s,t,e){const r=new Map;let a=0;for(;a<t;){const o=s.getUint32(mp+a,e),h=mp+a+4,c=3-(o+3)%4;if(o===0||o>t-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let d=0;for(;d<o&&s.getUint8(h+d)!==0;d++);if(d===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const p=new TextDecoder().decode(new Uint8Array(s.buffer,h,d)),g=new DataView(s.buffer,h+d+1,o-d-1);r.set(p,g),a+=4+o+c}return r}const KC={extension:{type:pt.LoadParser,priority:Ui.High},name:"loadDDS",test(s){return wn(s,".dds")},async load(s,t,e){const r=await(await gt.ADAPTER.fetch(s)).arrayBuffer(),a=XC(r).map(o=>{const h=new Nt(o,{mipmap:ir.OFF,alphaMode:Ke.NO_PREMULTIPLIED_ALPHA,resolution:Ur(s),...t.data});return Il(h,e,s)});return a.length===1?a[0]:a},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};Et.add(KC);const QC={extension:{type:pt.LoadParser,priority:Ui.High},name:"loadKTX",test(s){return wn(s,".ktx")},async load(s,t,e){const r=await(await gt.ADAPTER.fetch(s)).arrayBuffer(),{compressed:a,uncompressed:o,kvData:h}=YC(s,r),c=a??o,d={mipmap:ir.OFF,alphaMode:Ke.NO_PREMULTIPLIED_ALPHA,resolution:Ur(s),...t.data},p=c.map(g=>{c===o&&Object.assign(d,{type:g.type,format:g.format});const y=g.resource??g,v=new Nt(y,d);return v.ktxKeyValueData=h,Il(v,e,s)});return p.length===1?p[0]:p},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};Et.add(QC);const JC=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],tM={extension:pt.ResolveParser,test:s=>{const t=Be.extname(s).slice(1);return["basis","ktx","dds"].includes(t)},parse:s=>{const t=s.split("."),e=t.pop();if(["ktx","dds"].includes(e)){const r=t.pop();if(JC.includes(r))return{resolution:parseFloat(gt.RETINA_PREFIX.exec(s)?.[1]??"1"),format:r,src:s}}return{resolution:parseFloat(gt.RETINA_PREFIX.exec(s)?.[1]??"1"),format:e,src:s}}};Et.add(tM);const cu=new Ut,eM=4,mb=class bl{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,e,r,a){const o=new Image;return o.src=await this.base64(t,e,r,a),o}async base64(t,e,r,a){const o=this.canvas(t,a);if(o.toBlob!==void 0)return new Promise((h,c)=>{o.toBlob(d=>{if(!d){c(new Error("ICanvas.toBlob failed!"));return}const p=new FileReader;p.onload=()=>h(p.result),p.onerror=c,p.readAsDataURL(d)},e,r)});if(o.toDataURL!==void 0)return o.toDataURL(e,r);if(o.convertToBlob!==void 0){const h=await o.convertToBlob({type:e,quality:r});return new Promise((c,d)=>{const p=new FileReader;p.onload=()=>c(p.result),p.onerror=d,p.readAsDataURL(h)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:a,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,e);h&&bl._flipY(r,a,o),c&&bl._unpremultiplyAlpha(r);const d=new PS(a,o,1),p=new ImageData(new Uint8ClampedArray(r.buffer),a,o);return d.context.putImageData(p,0,0),d.canvas}pixels(t,e){const{pixels:r,width:a,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,e);return h&&bl._flipY(r,a,o),c&&bl._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let a,o=!1,h=!1,c,d=!1;t&&(t instanceof us?c=t:(c=r.generateTexture(t,{region:e,resolution:r.resolution,multisample:r.multisample}),d=!0,e&&(cu.width=e.width,cu.height=e.height,e=cu)));const p=r.gl;if(c){if(a=c.baseTexture.resolution,e=e??c.frame,o=!1,h=c.baseTexture.alphaMode>0&&c.baseTexture.format===ht.RGBA,!d){r.renderTexture.bind(c);const _=c.framebuffer.glFramebuffers[r.CONTEXT_UID];_.blitFramebuffer&&r.framebuffer.bind(_.blitFramebuffer)}}else a=r.resolution,e||(e=cu,e.width=r.width/a,e.height=r.height/a),o=!0,h=this._rendererPremultipliedAlpha,r.renderTexture.bind();const g=Math.max(Math.round(e.width*a),1),y=Math.max(Math.round(e.height*a),1),v=new Uint8Array(eM*g*y);return p.readPixels(Math.round(e.x*a),Math.round(e.y*a),g,y,p.RGBA,p.UNSIGNED_BYTE,v),d&&c?.destroy(!0),{pixels:v,width:g,height:y,flipY:o,premultipliedAlpha:h}}destroy(){this.renderer=null}static _flipY(t,e,r){const a=e<<2,o=r>>1,h=new Uint8Array(a);for(let c=0;c<o;c++){const d=c*a,p=(r-c-1)*a;h.set(t.subarray(d,d+a)),t.copyWithin(d,p,p+a),t.set(h,p)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const a=t[r+3];if(a!==0){const o=255.001/a;t[r]=t[r]*o+.5,t[r+1]=t[r+1]*o+.5,t[r+2]=t[r+2]*o+.5}}}};mb.extension={name:"extract",type:pt.RendererSystem};let iM=mb;Et.add(iM);const Gu={build(s){const t=s.points;let e,r,a,o,h,c;if(s.type===Le.CIRC){const x=s.shape;e=x.x,r=x.y,h=c=x.radius,a=o=0}else if(s.type===Le.ELIP){const x=s.shape;e=x.x,r=x.y,h=x.width,c=x.height,a=o=0}else{const x=s.shape,S=x.width/2,A=x.height/2;e=x.x+S,r=x.y+A,h=c=Math.max(0,Math.min(x.radius,Math.min(S,A))),a=S-h,o=A-c}if(!(h>=0&&c>=0&&a>=0&&o>=0)){t.length=0;return}const d=Math.ceil(2.3*Math.sqrt(h+c)),p=d*8+(a?4:0)+(o?4:0);if(t.length=p,p===0)return;if(d===0){t.length=8,t[0]=t[6]=e+a,t[1]=t[3]=r+o,t[2]=t[4]=e-a,t[5]=t[7]=r-o;return}let g=0,y=d*4+(a?2:0)+2,v=y,_=p;{const x=a+h,S=o,A=e+x,T=e-x,I=r+S;if(t[g++]=A,t[g++]=I,t[--y]=I,t[--y]=T,o){const D=r-S;t[v++]=T,t[v++]=D,t[--_]=D,t[--_]=A}}for(let x=1;x<d;x++){const S=Math.PI/2*(x/d),A=a+Math.cos(S)*h,T=o+Math.sin(S)*c,I=e+A,D=e-A,P=r+T,O=r-T;t[g++]=I,t[g++]=P,t[--y]=P,t[--y]=D,t[v++]=D,t[v++]=O,t[--_]=O,t[--_]=I}{const x=a,S=o+c,A=e+x,T=e-x,I=r+S,D=r-S;t[g++]=A,t[g++]=I,t[--_]=D,t[--_]=A,a&&(t[g++]=T,t[g++]=I,t[--_]=D,t[--_]=T)}},triangulate(s,t){const e=s.points,r=t.points,a=t.indices;if(e.length===0)return;let o=r.length/2;const h=o;let c,d;if(s.type!==Le.RREC){const g=s.shape;c=g.x,d=g.y}else{const g=s.shape;c=g.x+g.width/2,d=g.y+g.height/2}const p=s.matrix;r.push(s.matrix?p.a*c+p.c*d+p.tx:c,s.matrix?p.b*c+p.d*d+p.ty:d),o++,r.push(e[0],e[1]);for(let g=2;g<e.length;g+=2)r.push(e[g],e[g+1]),a.push(o++,h,o);a.push(h+1,h,o)}};function C_(s,t=!1){const e=s.length;if(e<6)return;let r=0;for(let a=0,o=s[e-2],h=s[e-1];a<e;a+=2){const c=s[a],d=s[a+1];r+=(c-o)*(d+h),o=c,h=d}if(!t&&r>0||t&&r<=0){const a=e/2;for(let o=a+a%2;o<e;o+=2){const h=e-o-2,c=e-o-1,d=o,p=o+1;[s[h],s[d]]=[s[d],s[h]],[s[c],s[p]]=[s[p],s[c]]}}}const gb={build(s){s.points=s.shape.points.slice()},triangulate(s,t){let e=s.points;const r=s.holes,a=t.points,o=t.indices;if(e.length>=6){C_(e,!1);const h=[];for(let p=0;p<r.length;p++){const g=r[p];C_(g.points,!0),h.push(e.length/2),e=e.concat(g.points)}const c=IA(e,h,2);if(!c)return;const d=a.length/2;for(let p=0;p<c.length;p+=3)o.push(c[p]+d),o.push(c[p+1]+d),o.push(c[p+2]+d);for(let p=0;p<e.length;p++)a.push(e[p])}}},rM={build(s){const t=s.shape,e=t.x,r=t.y,a=t.width,o=t.height,h=s.points;h.length=0,a>=0&&o>=0&&h.push(e,r,e+a,r,e+a,r+o,e,r+o)},triangulate(s,t){const e=s.points,r=t.points;if(e.length===0)return;const a=r.length/2;r.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(a,a+1,a+2,a+1,a+2,a+3)}},nM={build(s){Gu.build(s)},triangulate(s,t){Gu.triangulate(s,t)}};var yi=(s=>(s.MITER="miter",s.BEVEL="bevel",s.ROUND="round",s))(yi||{}),bn=(s=>(s.BUTT="butt",s.ROUND="round",s.SQUARE="square",s))(bn||{});const aa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(s,t=20){if(!this.adaptive||!s||isNaN(s))return t;let e=Math.ceil(s/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}};class M_{static curveTo(t,e,r,a,o,h){const c=h[h.length-2],d=h[h.length-1]-e,p=c-t,g=a-e,y=r-t,v=Math.abs(d*y-p*g);if(v<1e-8||o===0)return(h[h.length-2]!==t||h[h.length-1]!==e)&&h.push(t,e),null;const _=d*d+p*p,x=g*g+y*y,S=d*g+p*y,A=o*Math.sqrt(_)/v,T=o*Math.sqrt(x)/v,I=A*S/_,D=T*S/x,P=A*y+T*p,O=A*g+T*d,X=p*(T+I),B=d*(T+I),V=y*(A+D),tt=g*(A+D),at=Math.atan2(B-O,X-P),et=Math.atan2(tt-O,V-P);return{cx:P+t,cy:O+e,radius:o,startAngle:at,endAngle:et,anticlockwise:p*g>y*d}}static arc(t,e,r,a,o,h,c,d,p){const g=c-h,y=aa._segmentsCount(Math.abs(g)*o,Math.ceil(Math.abs(g)/Du)*40),v=g/(y*2),_=v*2,x=Math.cos(v),S=Math.sin(v),A=y-1,T=A%1/A;for(let I=0;I<=A;++I){const D=I+T*I,P=v+h+_*D,O=Math.cos(P),X=-Math.sin(P);p.push((x*O+S*X)*o+r,(x*-X+S*O)*o+a)}}}class sM{constructor(){this.reset()}begin(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r}end(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Up{static curveLength(t,e,r,a,o,h,c,d){let p=0,g=0,y=0,v=0,_=0,x=0,S=0,A=0,T=0,I=0,D=0,P=t,O=e;for(let X=1;X<=10;++X)g=X/10,y=g*g,v=y*g,_=1-g,x=_*_,S=x*_,A=S*t+3*x*g*r+3*_*y*o+v*c,T=S*e+3*x*g*a+3*_*y*h+v*d,I=P-A,D=O-T,P=A,O=T,p+=Math.sqrt(I*I+D*D);return p}static curveTo(t,e,r,a,o,h,c){const d=c[c.length-2],p=c[c.length-1];c.length-=2;const g=aa._segmentsCount(Up.curveLength(d,p,t,e,r,a,o,h));let y=0,v=0,_=0,x=0,S=0;c.push(d,p);for(let A=1,T=0;A<=g;++A)T=A/g,y=1-T,v=y*y,_=v*y,x=T*T,S=x*T,c.push(_*d+3*v*T*t+3*y*x*r+S*o,_*p+3*v*T*e+3*y*x*a+S*h)}}function D_(s,t,e,r,a,o,h,c){const d=s-e*a,p=t-r*a,g=s+e*o,y=t+r*o;let v,_;h?(v=r,_=-e):(v=-r,_=e);const x=d+v,S=p+_,A=g+v,T=y+_;return c.push(x,S,A,T),2}function Wn(s,t,e,r,a,o,h,c){const d=e-s,p=r-t;let g=Math.atan2(d,p),y=Math.atan2(a-s,o-t);c&&g<y?g+=Math.PI*2:!c&&g>y&&(y+=Math.PI*2);let v=g;const _=y-g,x=Math.abs(_),S=Math.sqrt(d*d+p*p),A=(15*x*Math.sqrt(S)/Math.PI>>0)+1,T=_/A;if(v+=T,c){h.push(s,t,e,r);for(let I=1,D=v;I<A;I++,D+=T)h.push(s,t,s+Math.sin(D)*S,t+Math.cos(D)*S);h.push(s,t,a,o)}else{h.push(e,r,s,t);for(let I=1,D=v;I<A;I++,D+=T)h.push(s+Math.sin(D)*S,t+Math.cos(D)*S,s,t);h.push(a,o,s,t)}return A*2}function aM(s,t){const e=s.shape;let r=s.points||e.points.slice();const a=t.closePointEps;if(r.length===0)return;const o=s.lineStyle,h=new jt(r[0],r[1]),c=new jt(r[r.length-2],r[r.length-1]),d=e.type!==Le.POLY||e.closeStroke,p=Math.abs(h.x-c.x)<a&&Math.abs(h.y-c.y)<a;if(d){r=r.slice(),p&&(r.pop(),r.pop(),c.set(r[r.length-2],r[r.length-1]));const C=(h.x+c.x)*.5,M=(c.y+h.y)*.5;r.unshift(C,M),r.push(C,M)}const g=t.points,y=r.length/2;let v=r.length;const _=g.length/2,x=o.width/2,S=x*x,A=o.miterLimit*o.miterLimit;let T=r[0],I=r[1],D=r[2],P=r[3],O=0,X=0,B=-(I-P),V=T-D,tt=0,at=0,et=Math.sqrt(B*B+V*V);B/=et,V/=et,B*=x,V*=x;const H=o.alignment,Q=(1-H)*2,J=H*2;d||(o.cap===bn.ROUND?v+=Wn(T-B*(Q-J)*.5,I-V*(Q-J)*.5,T-B*Q,I-V*Q,T+B*J,I+V*J,g,!0)+2:o.cap===bn.SQUARE&&(v+=D_(T,I,B,V,Q,J,!0,g))),g.push(T-B*Q,I-V*Q,T+B*J,I+V*J);for(let C=1;C<y-1;++C){T=r[(C-1)*2],I=r[(C-1)*2+1],D=r[C*2],P=r[C*2+1],O=r[(C+1)*2],X=r[(C+1)*2+1],B=-(I-P),V=T-D,et=Math.sqrt(B*B+V*V),B/=et,V/=et,B*=x,V*=x,tt=-(P-X),at=D-O,et=Math.sqrt(tt*tt+at*at),tt/=et,at/=et,tt*=x,at*=x;const M=D-T,k=I-P,E=D-O,N=X-P,F=M*E+k*N,L=k*E-N*M,$=L<0;if(Math.abs(L)<.001*Math.abs(F)){g.push(D-B*Q,P-V*Q,D+B*J,P+V*J),F>=0&&(o.join===yi.ROUND?v+=Wn(D,P,D-B*Q,P-V*Q,D-tt*Q,P-at*Q,g,!1)+4:v+=2,g.push(D-tt*J,P-at*J,D+tt*Q,P+at*Q));continue}const rt=(-B+T)*(-V+P)-(-B+D)*(-V+I),lt=(-tt+O)*(-at+P)-(-tt+D)*(-at+X),ft=(M*lt-E*rt)/L,ct=(N*rt-k*lt)/L,yt=(ft-D)*(ft-D)+(ct-P)*(ct-P),ut=D+(ft-D)*Q,vt=P+(ct-P)*Q,xt=D-(ft-D)*J,Ot=P-(ct-P)*J,Ft=Math.min(M*M+k*k,E*E+N*N),Tt=$?Q:J,St=Ft+Tt*Tt*S,Yt=yt<=St;let me=o.join;if(me===yi.MITER&&yt/S>A&&(me=yi.BEVEL),Yt)switch(me){case yi.MITER:{g.push(ut,vt,xt,Ot);break}case yi.BEVEL:{$?g.push(ut,vt,D+B*J,P+V*J,ut,vt,D+tt*J,P+at*J):g.push(D-B*Q,P-V*Q,xt,Ot,D-tt*Q,P-at*Q,xt,Ot),v+=2;break}case yi.ROUND:{$?(g.push(ut,vt,D+B*J,P+V*J),v+=Wn(D,P,D+B*J,P+V*J,D+tt*J,P+at*J,g,!0)+4,g.push(ut,vt,D+tt*J,P+at*J)):(g.push(D-B*Q,P-V*Q,xt,Ot),v+=Wn(D,P,D-B*Q,P-V*Q,D-tt*Q,P-at*Q,g,!1)+4,g.push(D-tt*Q,P-at*Q,xt,Ot));break}}else{switch(g.push(D-B*Q,P-V*Q,D+B*J,P+V*J),me){case yi.MITER:{$?g.push(xt,Ot,xt,Ot):g.push(ut,vt,ut,vt),v+=2;break}case yi.ROUND:{$?v+=Wn(D,P,D+B*J,P+V*J,D+tt*J,P+at*J,g,!0)+2:v+=Wn(D,P,D-B*Q,P-V*Q,D-tt*Q,P-at*Q,g,!1)+2;break}}g.push(D-tt*Q,P-at*Q,D+tt*J,P+at*J),v+=2}}T=r[(y-2)*2],I=r[(y-2)*2+1],D=r[(y-1)*2],P=r[(y-1)*2+1],B=-(I-P),V=T-D,et=Math.sqrt(B*B+V*V),B/=et,V/=et,B*=x,V*=x,g.push(D-B*Q,P-V*Q,D+B*J,P+V*J),d||(o.cap===bn.ROUND?v+=Wn(D-B*(Q-J)*.5,P-V*(Q-J)*.5,D-B*Q,P-V*Q,D+B*J,P+V*J,g,!1)+2:o.cap===bn.SQUARE&&(v+=D_(D,P,B,V,Q,J,!1,g)));const dt=t.indices,w=aa.epsilon*aa.epsilon;for(let C=_;C<v+_-2;++C)T=g[C*2],I=g[C*2+1],D=g[(C+1)*2],P=g[(C+1)*2+1],O=g[(C+2)*2],X=g[(C+2)*2+1],!(Math.abs(T*(P-X)+D*(X-I)+O*(I-P))<w)&&dt.push(C,C+1,C+2)}function lM(s,t){let e=0;const r=s.shape,a=s.points||r.points,o=r.type!==Le.POLY||r.closeStroke;if(a.length===0)return;const h=t.points,c=t.indices,d=a.length/2,p=h.length/2;let g=p;for(h.push(a[0],a[1]),e=1;e<d;e++)h.push(a[e*2],a[e*2+1]),c.push(g,g+1),g++;o&&c.push(g,p)}function O_(s,t){s.lineStyle.native?lM(s,t):aM(s,t)}class Lp{static curveLength(t,e,r,a,o,h){const c=t-2*r+o,d=e-2*a+h,p=2*r-2*t,g=2*a-2*e,y=4*(c*c+d*d),v=4*(c*p+d*g),_=p*p+g*g,x=2*Math.sqrt(y+v+_),S=Math.sqrt(y),A=2*y*S,T=2*Math.sqrt(_),I=v/S;return(A*x+S*v*(x-T)+(4*_*y-v*v)*Math.log((2*S+I+x)/(I+T)))/(4*A)}static curveTo(t,e,r,a,o){const h=o[o.length-2],c=o[o.length-1],d=aa._segmentsCount(Lp.curveLength(h,c,t,e,r,a));let p=0,g=0;for(let y=1;y<=d;++y){const v=y/d;p=h+(t-h)*v,g=c+(e-c)*v,o.push(p+(t+(r-t)*v-p)*v,g+(e+(a-e)*v-g)*v)}}}const Dd={[Le.POLY]:gb,[Le.CIRC]:Gu,[Le.ELIP]:Gu,[Le.RECT]:rM,[Le.RREC]:nM},B_=[],fu=[];class ku{constructor(t,e=null,r=null,a=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=a,this.type=t.type}clone(){return new ku(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const qs=new jt,yb=class vb extends Ex{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Pu,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),fu.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),B_.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,a=null){const o=new ku(t,e,r,a);return this.graphicsData.push(o),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new ku(t,null,null,e),a=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=a.lineStyle,a.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const a=e[r];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(t,qs):qs.copyFrom(t),a.shape.contains(qs.x,qs.y))){let o=!1;if(a.holes){for(let h=0;h<a.holes.length;h++)if(a.holes[h].shape.contains(qs.x,qs.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,a=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],a=r.style);for(let d=this.shapeIndex;d<e.length;d++){this.shapeIndex++;const p=e[d],g=p.fillStyle,y=p.lineStyle;Dd[p.type].build(p),p.matrix&&this.transformPoints(p.points,p.matrix),(g.visible||y.visible)&&this.processHoles(p.holes);for(let v=0;v<2;v++){const _=v===0?g:y;if(!_.visible)continue;const x=_.texture.baseTexture,S=this.indices.length,A=this.points.length/2;x.wrapMode=En.REPEAT,v===0?this.processFill(p):this.processLine(p);const T=this.points.length/2-A;T!==0&&(r&&!this._compareStyles(a,_)&&(r.end(S,A),r=null),r||(r=B_.pop()||new sM,r.begin(_,S,A),this.batches.push(r),a=_),this.addUvs(this.points,t,_.texture,A,T,_.matrix))}}const o=this.indices.length,h=this.points.length/2;if(r&&r.end(o,h),this.batches.length===0){this.batchable=!0;return}const c=h>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&c===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=c?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],a=r.fillStyle,o=r.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const a=t[e];for(let o=0;o<a.size;o++){const h=a.start+o;this.indicesUint16[h]=this.indicesUint16[h]-a.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<vb.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Nt._globalBatch;for(let y=0;y<this.drawCalls.length;y++)this.drawCalls[y].texArray.clear(),fu.push(this.drawCalls[y]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let a=fu.pop();a||(a=new Yd,a.texArray=new Kd),a.texArray.count=0,a.start=0,a.size=0,a.type=Qi.TRIANGLES;let o=0,h=null,c=0,d=!1,p=Qi.TRIANGLES,g=0;this.drawCalls.push(a);for(let y=0;y<this.batches.length;y++){const v=this.batches[y],_=8,x=v.style,S=x.texture.baseTexture;d!==!!x.native&&(d=!!x.native,p=d?Qi.LINES:Qi.TRIANGLES,h=null,o=_,t++),h!==S&&(h=S,S._batchEnabled!==t&&(o===_&&(t++,o=0,a.size>0&&(a=fu.pop(),a||(a=new Yd,a.texArray=new Kd),this.drawCalls.push(a)),a.start=g,a.size=0,a.texArray.count=0,a.type=p),S.touched=1,S._batchEnabled=t,S._batchLocation=o,S.wrapMode=En.REPEAT,a.texArray.elements[a.texArray.count++]=S,o++)),a.size+=v.size,g+=v.size,c=S._batchLocation,this.addColors(e,x.color,x.alpha,v.attribSize,v.attribStart),this.addTextureIds(r,c,v.attribSize,v.attribStart)}Nt._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,a=this.textureIds,o=new ArrayBuffer(t.length*3*4),h=new Float32Array(o),c=new Uint32Array(o);let d=0;for(let p=0;p<t.length/2;p++)h[d++]=t[p*2],h[d++]=t[p*2+1],h[d++]=e[p*2],h[d++]=e[p*2+1],c[d++]=r[p],h[d++]=a[p];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?gb.triangulate(t,this):Dd[t.type].triangulate(t,this)}processLine(t){O_(t,this);for(let e=0;e<t.holes.length;e++)O_(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Dd[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const a=t[r*2],o=t[r*2+1];t[r*2]=e.a*a+e.c*o+e.tx,t[r*2+1]=e.b*a+e.d*o+e.ty}}addColors(t,e,r,a,o=0){const h=se.shared.setValue(e).toLittleEndianNumber(),c=se.shared.setValue(h).toPremultiplied(r);t.length=Math.max(t.length,o+a);for(let d=0;d<a;d++)t[o+d]=c}addTextureIds(t,e,r,a=0){t.length=Math.max(t.length,a+r);for(let o=0;o<r;o++)t[a+o]=e}addUvs(t,e,r,a,o,h=null){let c=0;const d=e.length,p=r.frame;for(;c<o;){let y=t[(a+c)*2],v=t[(a+c)*2+1];if(h){const _=h.a*y+h.c*v+h.tx;v=h.b*y+h.d*v+h.ty,y=_}c++,e.push(y/p.width,v/p.height)}const g=r.baseTexture;(p.width<g.width||p.height<g.height)&&this.adjustUvs(e,r,d,o)}adjustUvs(t,e,r,a){const o=e.baseTexture,h=1e-6,c=r+a*2,d=e.frame,p=d.width/o.width,g=d.height/o.height;let y=d.x/d.width,v=d.y/d.height,_=Math.floor(t[r]+h),x=Math.floor(t[r+1]+h);for(let S=r+2;S<c;S+=2)_=Math.min(_,Math.floor(t[S]+h)),x=Math.min(x,Math.floor(t[S+1]+h));y-=_,v-=x;for(let S=r;S<c;S+=2)t[S]=(t[S]+y)*p,t[S+1]=(t[S+1]+v)*g}};yb.BATCHABLE_SIZE=100;let oM=yb;class Qu{constructor(){this.color=16777215,this.alpha=1,this.texture=bt.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Qu;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=bt.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Fp extends Qu{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=bn.BUTT,this.join=yi.MITER,this.miterLimit=10}clone(){const t=new Fp;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=bn.BUTT,this.join=yi.MITER,this.miterLimit=10}}const Od={},gp=class Tu extends Pi{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Qu,this._lineStyle=new Fp,this._matrix=null,this._holeMode=!1,this.state=nr.for2d(),this._geometry=t||new oM,this._geometry.refCount++,this._transformID=-1,this._tintColor=new se(16777215),this.blendMode=Dt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Tu(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,a=.5,o=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:a,native:o}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:bt.WHITE,color:t?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:bn.BUTT,join:yi.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new rs,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new rs,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,a=r[r.length-2],o=r[r.length-1];return(a!==t||o!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,a){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Lp.curveTo(t,e,r,a,o),this}bezierCurveTo(t,e,r,a,o,h){return this._initCurve(),Up.curveTo(t,e,r,a,o,h,this.currentPath.points),this}arcTo(t,e,r,a,o){this._initCurve(t,e);const h=this.currentPath.points,c=M_.curveTo(t,e,r,a,o,h);if(c){const{cx:d,cy:p,radius:g,startAngle:y,endAngle:v,anticlockwise:_}=c;this.arc(d,p,g,y,v,_)}return this}arc(t,e,r,a,o,h=!1){if(a===o)return this;if(!h&&o<=a?o+=Du:h&&a<=o&&(a+=Du),o-a===0)return this;const c=t+Math.cos(a)*r,d=e+Math.sin(a)*r,p=this._geometry.closePointEps;let g=this.currentPath?this.currentPath.points:null;if(g){const y=Math.abs(g[g.length-2]-c),v=Math.abs(g[g.length-1]-d);y<p&&v<p||g.push(c,d)}else this.moveTo(c,d),g=this.currentPath.points;return M_.arc(c,d,t,e,r,a,o,h,g),this}beginFill(t=0,e){return this.beginTextureFill({texture:bt.WHITE,color:t,alpha:e})}normalizeColor(t){const e=se.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:bt.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,a){return this.drawShape(new Ut(t,e,r,a))}drawRoundedRect(t,e,r,a,o){return this.drawShape(new Wu(t,e,r,a,o))}drawCircle(t,e,r){return this.drawShape(new Yu(t,e,r))}drawEllipse(t,e,r,a){return this.drawShape(new $u(t,e,r,a))}drawPolygon(...t){let e,r=!0;const a=t[0];a.points?(r=a.closeStroke,e=a.points):Array.isArray(t[0])?e=t[0]:e=t;const o=new rs(e);return o.closeStroke=r,this.drawShape(o),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Le.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let a=0;a<r;a++){const o=t.batches[a],h=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),d=new Float32Array(t.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),p=new Uint16Array(t.indicesUint16.buffer,o.start*2,o.size),g={vertexData:c,blendMode:e,indices:p,uvs:d,_batchRGB:se.shared.setValue(h).toRgbArray(),_tintRGB:h,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=g}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const a=this.batches[e];a.worldAlpha=this.worldAlpha*a.alpha,t.plugins[this.pluginName].render(a)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,a=this.worldAlpha,o=e.uniforms,h=r.drawCalls;o.translationMatrix=this.transform.worldTransform,se.shared.setValue(this._tintColor).premultiply(a).toArray(o.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let c=0,d=h.length;c<d;c++)this._renderDrawCallDirect(t,r.drawCalls[c])}_renderDrawCallDirect(t,e){const{texArray:r,type:a,size:o,start:h}=e,c=r.count;for(let d=0;d<c;d++)t.texture.bind(r.elements[d],d);t.geometry.draw(a,o,h)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!Od[r]){const{maxTextures:a}=t.plugins[r],o=new Int32Array(a);for(let d=0;d<a;d++)o[d]=d;const h={tint:new Float32Array([1,1,1,1]),translationMatrix:new ae,default:Ni.from({uSamplers:o},!0)},c=t.plugins[r]._shader.program;Od[r]=new tr(c,h)}e=Od[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:a,maxY:o}=t.bounds;this._bounds.addFrame(this.transform,e,r,a,o)}containsPoint(t){return this.worldTransform.applyInverse(t,Tu._TEMP_POINT),this._geometry.containsPoint(Tu._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=se.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,a=e.b,o=e.c,h=e.d,c=e.tx,d=e.ty,p=this._geometry.points,g=this.vertexData;let y=0;for(let v=0;v<p.length;v+=2){const _=p[v],x=p[v+1];g[y++]=r*_+o*x+c,g[y++]=h*x+a*_+d}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};gp.curves=aa,gp._TEMP_POINT=new jt;let Sl=gp;class uM{constructor(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}}const Bd=new jt,I_=new rs,_b=class xb extends Pi{constructor(t,e,r,a=Qi.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||nr.for2d(),this.drawMode=a,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=gt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Qi.TRIANGLES&&e.length<xb.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const a=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[a]),t.plugins[a].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const a=this.transform.worldTransform,o=a.a,h=a.b,c=a.c,d=a.d,p=a.tx,g=a.ty,y=this.vertexData;for(let v=0;v<y.length/2;v++){const _=e[v*2],x=e[v*2+1];y[v*2]=o*_+c*x+p,y[v*2+1]=h*_+d*x+g}if(this._roundPixels){const v=gt.RESOLUTION;for(let _=0;_<y.length;++_)y[_]=Math.round(y[_]*v)/v}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new uM(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Bd);const e=this.geometry.getBuffer("aVertexPosition").data,r=I_.points,a=this.geometry.getIndex().data,o=a.length,h=this.drawMode===4?3:1;for(let c=0;c+2<o;c+=h){const d=a[c]*2,p=a[c+1]*2,g=a[c+2]*2;if(r[0]=e[d],r[1]=e[d+1],r[2]=e[p],r[3]=e[p+1],r[4]=e[g],r[5]=e[g+1],I_.contains(Bd.x,Bd.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};_b.BATCHABLE_SIZE=100;let N_=_b;class hM extends Tn{constructor(t,e,r){super();const a=new ve(t),o=new ve(e,!0),h=new ve(r,!0,!0);this.addAttribute("aVertexPosition",a,2,!1,Rt.FLOAT).addAttribute("aTextureCoord",o,2,!1,Rt.FLOAT).addIndex(h),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var cM=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,fM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class P_ extends tr{constructor(t,e){const r={uSampler:t,alpha:1,uTextureMatrix:ae.IDENTITY,uColor:new Float32Array([1,1,1,1])};e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e),e.uniforms&&Object.assign(r,e.uniforms),super(e.program||Ir.from(fM,cM),r),this._colorDirty=!1,this.uvMatrix=new Ux(t),this.batchable=e.program===void 0,this.pluginName=e.pluginName,this._tintColor=new se(e.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=e.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;se.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class U_{constructor(t,e,r){this.geometry=new Tn,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let a=0;a<t.length;++a){let o=t[a];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Rt.FLOAT,offset:o.offset},e[a]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let e=0;this.indexBuffer=new ve(IS(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];c.offset=e,e+=c.size,this.dynamicStride+=c.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new ve(this.dynamicData,!1,!1);let a=0;this.staticStride=0;for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];c.offset=a,a+=c.size,this.staticStride+=c.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new ve(this.staticData,!0,!1);for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];t.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===Rt.UNSIGNED_BYTE,c.type,this.dynamicStride*4,c.offset*4)}for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];t.addAttribute(c.attributeName,this.staticBuffer,0,c.type===Rt.UNSIGNED_BYTE,c.type,this.staticStride*4,c.offset*4)}}uploadDynamic(t,e,r){for(let a=0;a<this.dynamicProperties.length;a++){const o=this.dynamicProperties[a];o.uploadFunction(t,e,r,o.type===Rt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,e,r){for(let a=0;a<this.staticProperties.length;a++){const o=this.staticProperties[a];o.uploadFunction(t,e,r,o.type===Rt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var dM=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,pM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class bb extends Zu{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new ae,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Rt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=tr.from(pM,dM,{}),this.state=nr.for2d()}render(t){const e=t.children,r=t._maxSize,a=t._batchSize,o=this.renderer;let h=e.length;if(h===0)return;h>r&&!t.autoResize&&(h=r);let c=t._buffers;c||(c=t._buffers=this.generateBuffers(t));const d=e[0]._texture.baseTexture,p=d.alphaMode>0;this.state.blendMode=_x(t.blendMode,p),o.state.set(this.state);const g=o.gl,y=t.worldTransform.copyTo(this.tempMatrix);y.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=se.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,p).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=d,this.renderer.shader.bind(this.shader);let v=!1;for(let _=0,x=0;_<h;_+=a,x+=1){let S=h-_;S>a&&(S=a),x>=c.length&&c.push(this._generateOneMoreBuffer(t));const A=c[x];A.uploadDynamic(e,_,S);const T=t._bufferUpdateIDs[x]||0;v=v||A._updateID<T,v&&(A._updateID=t._updateID,A.uploadStatic(e,_,S)),o.geometry.bind(A.geometry),g.drawElements(g.TRIANGLES,S*6,g.UNSIGNED_SHORT,0)}}generateBuffers(t){const e=[],r=t._maxSize,a=t._batchSize,o=t._properties;for(let h=0;h<r;h+=a)e.push(new U_(this.properties,o,a));return e}_generateOneMoreBuffer(t){const e=t._batchSize,r=t._properties;return new U_(this.properties,r,e)}uploadVertices(t,e,r,a,o,h){let c=0,d=0,p=0,g=0;for(let y=0;y<r;++y){const v=t[e+y],_=v._texture,x=v.scale.x,S=v.scale.y,A=_.trim,T=_.orig;A?(d=A.x-v.anchor.x*T.width,c=d+A.width,g=A.y-v.anchor.y*T.height,p=g+A.height):(c=T.width*(1-v.anchor.x),d=T.width*-v.anchor.x,p=T.height*(1-v.anchor.y),g=T.height*-v.anchor.y),a[h]=d*x,a[h+1]=g*S,a[h+o]=c*x,a[h+o+1]=g*S,a[h+o*2]=c*x,a[h+o*2+1]=p*S,a[h+o*3]=d*x,a[h+o*3+1]=p*S,h+=o*4}}uploadPosition(t,e,r,a,o,h){for(let c=0;c<r;c++){const d=t[e+c].position;a[h]=d.x,a[h+1]=d.y,a[h+o]=d.x,a[h+o+1]=d.y,a[h+o*2]=d.x,a[h+o*2+1]=d.y,a[h+o*3]=d.x,a[h+o*3+1]=d.y,h+=o*4}}uploadRotation(t,e,r,a,o,h){for(let c=0;c<r;c++){const d=t[e+c].rotation;a[h]=d,a[h+o]=d,a[h+o*2]=d,a[h+o*3]=d,h+=o*4}}uploadUvs(t,e,r,a,o,h){for(let c=0;c<r;++c){const d=t[e+c]._texture._uvs;d?(a[h]=d.x0,a[h+1]=d.y0,a[h+o]=d.x1,a[h+o+1]=d.y1,a[h+o*2]=d.x2,a[h+o*2+1]=d.y2,a[h+o*3]=d.x3,a[h+o*3+1]=d.y3,h+=o*4):(a[h]=0,a[h+1]=0,a[h+o]=0,a[h+o+1]=0,a[h+o*2]=0,a[h+o*2+1]=0,a[h+o*3]=0,a[h+o*3+1]=0,h+=o*4)}}uploadTint(t,e,r,a,o,h){for(let c=0;c<r;++c){const d=t[e+c],p=se.shared.setValue(d._tintRGB).toPremultiplied(d.alpha,d.texture.baseTexture.alphaMode>0);a[h]=p,a[h+o]=p,a[h+o*2]=p,a[h+o*3]=p,h+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}bb.extension={name:"particle",type:pt.RendererPlugin};Et.add(bb);var Ju=(s=>(s[s.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",s[s.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",s))(Ju||{});const du={willReadFrequently:!0},Wi=class At{static get experimentalLetterSpacingSupported(){let t=At._experimentalLetterSpacingSupported;if(t!==void 0){const e=gt.ADAPTER.getCanvasRenderingContext2D().prototype;t=At._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,a,o,h,c,d,p){this.text=t,this.style=e,this.width=r,this.height=a,this.lines=o,this.lineWidths=h,this.lineHeight=c,this.maxLineWidth=d,this.fontProperties=p}static measureText(t,e,r,a=At._canvas){r=r??e.wordWrap;const o=e.toFontString(),h=At.measureFont(o);h.fontSize===0&&(h.fontSize=e.fontSize,h.ascent=e.fontSize);const c=a.getContext("2d",du);c.font=o;const d=(r?At.wordWrap(t,e,a):t).split(/(?:\r\n|\r|\n)/),p=new Array(d.length);let g=0;for(let x=0;x<d.length;x++){const S=At._measureText(d[x],e.letterSpacing,c);p[x]=S,g=Math.max(g,S)}let y=g+e.strokeThickness;e.dropShadow&&(y+=e.dropShadowDistance);const v=e.lineHeight||h.fontSize+e.strokeThickness;let _=Math.max(v,h.fontSize+e.strokeThickness*2)+e.leading+(d.length-1)*(v+e.leading);return e.dropShadow&&(_+=e.dropShadowDistance),new At(t,e,y,_,d,p,v+e.leading,g,h)}static _measureText(t,e,r){let a=!1;At.experimentalLetterSpacingSupported&&(At.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,a=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let o=r.measureText(t).width;return o>0&&(a?o-=e:o+=(At.graphemeSegmenter(t).length-1)*e),o}static wordWrap(t,e,r=At._canvas){const a=r.getContext("2d",du);let o=0,h="",c="";const d=Object.create(null),{letterSpacing:p,whiteSpace:g}=e,y=At.collapseSpaces(g),v=At.collapseNewlines(g);let _=!y;const x=e.wordWrapWidth+p,S=At.tokenize(t);for(let A=0;A<S.length;A++){let T=S[A];if(At.isNewline(T)){if(!v){c+=At.addLine(h),_=!y,h="",o=0;continue}T=" "}if(y){const D=At.isBreakingSpace(T),P=At.isBreakingSpace(h[h.length-1]);if(D&&P)continue}const I=At.getFromCache(T,p,d,a);if(I>x)if(h!==""&&(c+=At.addLine(h),h="",o=0),At.canBreakWords(T,e.breakWords)){const D=At.wordWrapSplit(T);for(let P=0;P<D.length;P++){let O=D[P],X=O,B=1;for(;D[P+B];){const tt=D[P+B];if(!At.canBreakChars(X,tt,T,P,e.breakWords))O+=tt;else break;X=tt,B++}P+=B-1;const V=At.getFromCache(O,p,d,a);V+o>x&&(c+=At.addLine(h),_=!1,h="",o=0),h+=O,o+=V}}else{h.length>0&&(c+=At.addLine(h),h="",o=0);const D=A===S.length-1;c+=At.addLine(T,!D),_=!1,h="",o=0}else I+o>x&&(_=!1,c+=At.addLine(h),h="",o=0),(h.length>0||!At.isBreakingSpace(T)||_)&&(h+=T,o+=I)}return c+=At.addLine(h,!1),c}static addLine(t,e=!0){return t=At.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,a){let o=r[t];return typeof o!="number"&&(o=At._measureText(t,e,a)+e,r[t]=o),o}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!At.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:At._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:At._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let a=0;a<t.length;a++){const o=t[a],h=t[a+1];if(At.isBreakingSpace(o,h)||At.isNewline(o)){r!==""&&(e.push(r),r=""),e.push(o);continue}r+=o}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,a,o){return!0}static wordWrapSplit(t){return At.graphemeSegmenter(t)}static measureFont(t){if(At._fonts[t])return At._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=At._canvas,a=At._context;a.font=t;const o=At.METRICS_STRING+At.BASELINE_SYMBOL,h=Math.ceil(a.measureText(o).width);let c=Math.ceil(a.measureText(At.BASELINE_SYMBOL).width);const d=Math.ceil(At.HEIGHT_MULTIPLIER*c);if(c=c*At.BASELINE_MULTIPLIER|0,h===0||d===0)return At._fonts[t]=e,e;r.width=h,r.height=d,a.fillStyle="#f00",a.fillRect(0,0,h,d),a.font=t,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(o,0,c);const p=a.getImageData(0,0,h,d).data,g=p.length,y=h*4;let v=0,_=0,x=!1;for(v=0;v<c;++v){for(let S=0;S<y;S+=4)if(p[_+S]!==255){x=!0;break}if(!x)_+=y;else break}for(e.ascent=c-v,_=g-y,x=!1,v=d;v>c;--v){for(let S=0;S<y;S+=4)if(p[_+S]!==255){x=!0;break}if(!x)_-=y;else break}return e.descent=v-c,e.fontSize=e.ascent+e.descent,At._fonts[t]=e,e}static clearMetrics(t=""){t?delete At._fonts[t]:At._fonts={}}static get _canvas(){if(!At.__canvas){let t;try{const e=new OffscreenCanvas(0,0);if(e.getContext("2d",du)?.measureText)return At.__canvas=e,e;t=gt.ADAPTER.createCanvas()}catch{t=gt.ADAPTER.createCanvas()}t.width=t.height=10,At.__canvas=t}return At.__canvas}static get _context(){return At.__context||(At.__context=At._canvas.getContext("2d",du)),At.__context}};Wi.METRICS_STRING="|q",Wi.BASELINE_SYMBOL="M",Wi.BASELINE_MULTIPLIER=1.4,Wi.HEIGHT_MULTIPLIER=2,Wi.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const s=new Intl.Segmenter;return t=>[...s.segment(t)].map(e=>e.segment)}return s=>[...s]})(),Wi.experimentalLetterSpacing=!1,Wi._fonts={},Wi._newlines=[10,13],Wi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let vn=Wi;const mM=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Eb=class El{constructor(t){this.styleID=0,this.reset(),Nd(this,t,t)}clone(){const t={};return Nd(t,this,El.defaultStyle),new El(t)}reset(){Nd(this,El.defaultStyle,El.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Id(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Id(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){gM(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Id(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let a=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(a)&&!mM.includes(a)&&(a=`"${a}"`),e[r]=a}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};Eb.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ju.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let An=Eb;function Id(s){const t=se.shared,e=r=>{const a=t.setValue(r);return a.alpha===1?a.toHex():a.toRgbaString()};return Array.isArray(s)?s.map(e):e(s)}function gM(s,t){if(!Array.isArray(s)||!Array.isArray(t)||s.length!==t.length)return!1;for(let e=0;e<s.length;++e)if(s[e]!==t[e])return!1;return!0}function Nd(s,t,e){for(const r in e)Array.isArray(t[r])?s[r]=t[r].slice():s[r]=t[r]}const yM={texture:!0,children:!1,baseTexture:!0},Tb=class yp extends ha{constructor(t,e,r){let a=!1;r||(r=gt.ADAPTER.createCanvas(),a=!0),r.width=3,r.height=3;const o=bt.from(r);o.orig=new Ut,o.trim=new Ut,super(o),this._ownCanvas=a,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=yp.defaultResolution??gt.RESOLUTION,this._autoResolution=yp.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return vn.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Xt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),vn.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,a=vn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,h=a.height,c=a.lines,d=a.lineHeight,p=a.lineWidths,g=a.maxLineWidth,y=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let v,_;const x=e.dropShadow?2:1;for(let S=0;S<x;++S){const A=e.dropShadow&&S===0,T=A?Math.ceil(Math.max(1,h)+e.padding*2):0,I=T*this._resolution;if(A){r.fillStyle="black",r.strokeStyle="black";const P=e.dropShadowColor,O=e.dropShadowBlur*this._resolution,X=e.dropShadowDistance*this._resolution;r.shadowColor=se.shared.setValue(P).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=O,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*X,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*X+I}else r.fillStyle=this._generateFillStyle(e,c,a),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let D=(d-y.fontSize)/2;d-y.fontSize<0&&(D=0);for(let P=0;P<c.length;P++)v=e.strokeThickness/2,_=e.strokeThickness/2+P*d+y.ascent+D,e.align==="right"?v+=g-p[P]:e.align==="center"&&(v+=(g-p[P])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(c[P],v+e.padding,_+e.padding-T,!0),e.fill&&this.drawLetterSpacing(c[P],v+e.padding,_+e.padding-T)}this.updateTexture()}drawLetterSpacing(t,e,r,a=!1){const o=this._style.letterSpacing;let h=!1;if(vn.experimentalLetterSpacingSupported&&(vn.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,h=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||h){a?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let c=e;const d=vn.graphemeSegmenter(t);let p=this.context.measureText(t).width,g=0;for(let y=0;y<d.length;++y){const v=d[y];a?this.context.strokeText(v,c,r):this.context.fillText(v,c,r);let _="";for(let x=y+1;x<d.length;++x)_+=d[x];g=this.context.measureText(_).width,c+=p-g+o,p=g}}updateTexture(){const t=this.canvas;if(this._style.trim){const h=LS(t);h.data&&(t.width=h.width,t.height=h.height,this.context.putImageData(h.data,0,0))}const e=this._texture,r=this._style,a=r.trim?0:r.padding,o=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-a,e.trim.y=-a,e.orig.width=e._frame.width-a*2,e.orig.height=e._frame.height-a*2,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const a=t.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let o;const h=t.dropShadow?t.dropShadowDistance:0,c=t.padding||0,d=this.canvas.width/this._resolution-h-c*2,p=this.canvas.height/this._resolution-h-c*2,g=a.slice(),y=t.fillGradientStops.slice();if(!y.length){const v=g.length+1;for(let _=1;_<v;++_)y.push(_/v)}if(g.unshift(a[0]),y.unshift(0),g.push(a[a.length-1]),y.push(1),t.fillGradientType===Ju.LINEAR_VERTICAL){o=this.context.createLinearGradient(d/2,c,d/2,p+c);const v=r.fontProperties.fontSize+t.strokeThickness;for(let _=0;_<e.length;_++){const x=r.lineHeight*(_-1)+v,S=r.lineHeight*_;let A=S;_>0&&x>S&&(A=(S+x)/2);const T=S+v,I=r.lineHeight*(_+1);let D=T;_+1<e.length&&I<T&&(D=(T+I)/2);const P=(D-A)/p;for(let O=0;O<g.length;O++){let X=0;typeof y[O]=="number"?X=y[O]:X=O/g.length;let B=Math.min(1,Math.max(0,A/p+X*P));B=Number(B.toFixed(5)),o.addColorStop(B,g[O])}}}else{o=this.context.createLinearGradient(c,p/2,d+c,p/2);const v=g.length+1;let _=1;for(let x=0;x<g.length;x++){let S;typeof y[x]=="number"?S=y[x]:S=_/v,o.addColorStop(S,g[x]),_++}}return o}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},yM,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=xn(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=xn(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof An?this._style=t:this._style=new An(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};Tb.defaultAutoResolution=!0;let Ab=Tb;class vM{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function _M(s,t){let e=!1;if(s?._textures?.length){for(let r=0;r<s._textures.length;r++)if(s._textures[r]instanceof bt){const a=s._textures[r].baseTexture;t.includes(a)||(t.push(a),e=!0)}}return e}function xM(s,t){if(s.baseTexture instanceof Nt){const e=s.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function bM(s,t){if(s._texture&&s._texture instanceof bt){const e=s._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function EM(s,t){return t instanceof Ab?(t.updateText(!0),!0):!1}function TM(s,t){if(t instanceof An){const e=t.toFontString();return vn.measureFont(e),!0}return!1}function AM(s,t){if(s instanceof Ab){t.includes(s.style)||t.push(s.style),t.includes(s)||t.push(s);const e=s._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function SM(s,t){return s instanceof An?(t.includes(s)||t.push(s),!0):!1}const Sb=class wb{constructor(t){this.limiter=new vM(wb.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(AM),this.registerFindHook(SM),this.registerFindHook(_M),this.registerFindHook(xM),this.registerFindHook(bM),this.registerUploadHook(EM),this.registerUploadHook(TM)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,ai.system.addOnce(this.tick,this,as.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,a=this.uploadHooks.length;r<a;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)ai.system.addOnce(this.tick,this,as.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Pi)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&ai.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};Sb.uploadsPerFrame=4;let vp=Sb;Object.defineProperties(gt,{UPLOADS_PER_FRAME:{get(){return vp.uploadsPerFrame},set(s){Xt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),vp.uploadsPerFrame=s}}});function Rb(s,t){return t instanceof Nt?(t._glTextures[s.CONTEXT_UID]||s.texture.bind(t),!0):!1}function wM(s,t){if(!(t instanceof Sl))return!1;const{geometry:e}=t;t.finishPoly(),e.updateBatches();const{batches:r}=e;for(let a=0;a<r.length;a++){const{texture:o}=r[a].style;o&&Rb(s,o.baseTexture)}return e.batchable||s.geometry.bind(e,t._resolveDirectShader(s)),!0}function RM(s,t){return s instanceof Sl?(t.push(s),!0):!1}class Cb extends vp{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(RM),this.registerUploadHook(Rb),this.registerUploadHook(wM)}}Cb.extension={name:"prepare",type:pt.RendererSystem};Et.add(Cb);var CM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,MM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,DM=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,L_=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,OM=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const pu=new ae;class Mb extends Zu{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new Bx,this.state=nr.for2d()}contextChange(){const t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=tr.from(L_,OM,e),this.shader=t.context.webGLVersion>1?tr.from(MM,CM,e):tr.from(L_,DM,e)}render(t){const e=this.renderer,r=this.quad;let a=r.vertices;a[0]=a[6]=t._width*-t.anchor.x,a[1]=a[3]=t._height*-t.anchor.y,a[2]=a[4]=t._width*(1-t.anchor.x),a[5]=a[7]=t._height*(1-t.anchor.y);const o=t.uvRespectAnchor?t.anchor.x:0,h=t.uvRespectAnchor?t.anchor.y:0;a=r.uvs,a[0]=a[6]=-o,a[1]=a[3]=-h,a[2]=a[4]=1-o,a[5]=a[7]=1-h,r.invalidate();const c=t._texture,d=c.baseTexture,p=d.alphaMode>0,g=t.tileTransform.localTransform,y=t.uvMatrix;let v=d.isPowerOfTwo&&c.frame.width===d.width&&c.frame.height===d.height;v&&(d._glTextures[e.CONTEXT_UID]?v=d.wrapMode!==En.CLAMP:d.wrapMode===En.CLAMP&&(d.wrapMode=En.REPEAT));const _=v?this.simpleShader:this.shader,x=c.width,S=c.height,A=t._width,T=t._height;pu.set(g.a*x/A,g.b*x/T,g.c*S/A,g.d*S/T,g.tx/A,g.ty/T),pu.invert(),v?pu.prepend(y.mapCoord):(_.uniforms.uMapCoord=y.mapCoord.toArray(!0),_.uniforms.uClampFrame=y.uClampFrame,_.uniforms.uClampOffset=y.uClampOffset),_.uniforms.uTransform=pu.toArray(!0),_.uniforms.uColor=se.shared.setValue(t.tint).premultiply(t.worldAlpha,p).toArray(_.uniforms.uColor),_.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),_.uniforms.uSampler=c,e.shader.bind(_),e.geometry.bind(r),this.state.blendMode=_x(t.blendMode,p),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Mb.extension={name:"tilingSprite",type:pt.RendererPlugin};Et.add(Mb);const Db=class Tl{constructor(t,e,r){this.linkedSheets=[],(t instanceof Nt||t instanceof bt)&&(t={texture:t,data:e,resolutionFilename:r});const{texture:a,data:o,resolutionFilename:h=null,cachePrefix:c=""}=t;this.cachePrefix=c,this._texture=a instanceof bt?a:null,this.baseTexture=a instanceof Nt?a:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const d=this.baseTexture.resource;this.resolution=this._updateResolution(h||(d?d.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=Ur(t,null);return r===null&&(r=typeof e=="number"?e:parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Tl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=Tl.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const a=this._frameKeys[e],o=this._frames[a],h=o.frame;if(h){let c=null,d=null;const p=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,g=new Ut(0,0,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution);o.rotated?c=new Ut(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):c=new Ut(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(d=new Ut(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[a]=new bt(this.baseTexture,c,g,d,o.rotated?2:0,o.anchor,o.borders),bt.addToCache(this.textures[a],this.cachePrefix+a.toString())}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const a=t[e][r];this.animations[e].push(this.textures[a])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Tl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Tl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Db.BATCH_SIZE=1e3;let F_=Db;const BM=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function Ob(s,t,e){const r={};if(s.forEach(a=>{r[a]=t}),Object.keys(t.textures).forEach(a=>{r[`${t.cachePrefix}${a}`]=t.textures[a]}),!e){const a=Be.dirname(s[0]);t.linkedSheets.forEach((o,h)=>{Object.assign(r,Ob([`${a}/${t.data.meta.related_multi_packs[h]}`],o,!0))})}return r}const IM={extension:pt.Asset,cache:{test:s=>s instanceof F_,getCacheableAssets:(s,t)=>Ob(s,t,!1)},resolver:{test:s=>{const t=s.split("?")[0].split("."),e=t.pop(),r=t.pop();return e==="json"&&BM.includes(r)},parse:s=>{const t=s.split(".");return{resolution:parseFloat(gt.RETINA_PREFIX.exec(s)?.[1]??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",extension:{type:pt.LoadParser,priority:Ui.Normal},async testParse(s,t){return Be.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,e){const{texture:r,imageFilename:a,cachePrefix:o}=t?.data??{};let h=Be.dirname(t.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let c;if(r&&r.baseTexture)c=r;else{const g=dp(h+(a??s.meta.image),t.src);c=(await e.load([g]))[g]}const d=new F_({texture:c.baseTexture,data:s,resolutionFilename:t.src,cachePrefix:o});await d.parse();const p=s?.meta?.related_multi_packs;if(Array.isArray(p)){const g=[];for(const v of p){if(typeof v!="string")continue;let _=h+v;t.data?.ignoreMultiPack||(_=dp(_,t.src),g.push(e.load({src:_,data:{ignoreMultiPack:!0}})))}const y=await Promise.all(g);d.linkedSheets=y,y.forEach(v=>{v.linkedSheets=[d].concat(d.linkedSheets.filter(_=>_!==v))})}return d},unload(s){s.destroy(!0)}}};Et.add(IM);class Hu{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Au{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in e){const h=e[o].match(/^[a-z]+/gm)[0],c=e[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),d={};for(const p in c){const g=c[p].split("="),y=g[0],v=g[1].replace(/"/gm,""),_=parseFloat(v),x=isNaN(_)?v:_;d[y]=x}r[h].push(d)}const a=new Hu;return r.info.forEach(o=>a.info.push({face:o.face,size:parseInt(o.size,10)})),r.common.forEach(o=>a.common.push({lineHeight:parseInt(o.lineHeight,10)})),r.page.forEach(o=>a.page.push({id:parseInt(o.id,10),file:o.file})),r.char.forEach(o=>a.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),r.kerning.forEach(o=>a.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),r.distanceField.forEach(o=>a.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),a}}class _p{static test(t){const e=t;return typeof t!="string"&&"getElementsByTagName"in t&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const e=new Hu,r=t.getElementsByTagName("info"),a=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),h=t.getElementsByTagName("char"),c=t.getElementsByTagName("kerning"),d=t.getElementsByTagName("distanceField");for(let p=0;p<r.length;p++)e.info.push({face:r[p].getAttribute("face"),size:parseInt(r[p].getAttribute("size"),10)});for(let p=0;p<a.length;p++)e.common.push({lineHeight:parseInt(a[p].getAttribute("lineHeight"),10)});for(let p=0;p<o.length;p++)e.page.push({id:parseInt(o[p].getAttribute("id"),10)||0,file:o[p].getAttribute("file")});for(let p=0;p<h.length;p++){const g=h[p];e.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(let p=0;p<c.length;p++)e.kerning.push({first:parseInt(c[p].getAttribute("first"),10),second:parseInt(c[p].getAttribute("second"),10),amount:parseInt(c[p].getAttribute("amount"),10)});for(let p=0;p<d.length;p++)e.distanceField.push({fieldType:d[p].getAttribute("fieldType"),distanceRange:parseInt(d[p].getAttribute("distanceRange"),10)});return e}}class xp{static test(t){return typeof t=="string"&&t.includes("<font>")?_p.test(gt.ADAPTER.parseXML(t)):!1}static parse(t){return _p.parse(gt.ADAPTER.parseXML(t))}}const Pd=[Au,_p,xp];function NM(s){for(let t=0;t<Pd.length;t++)if(Pd[t].test(s))return Pd[t];return null}function PM(s,t,e,r,a,o){const h=e.fill;if(Array.isArray(h)){if(h.length===1)return h[0]}else return h;let c;const d=e.dropShadow?e.dropShadowDistance:0,p=e.padding||0,g=s.width/r-d-p*2,y=s.height/r-d-p*2,v=h.slice(),_=e.fillGradientStops.slice();if(!_.length){const x=v.length+1;for(let S=1;S<x;++S)_.push(S/x)}if(v.unshift(h[0]),_.unshift(0),v.push(h[h.length-1]),_.push(1),e.fillGradientType===Ju.LINEAR_VERTICAL){c=t.createLinearGradient(g/2,p,g/2,y+p);let x=0;const S=(o.fontProperties.fontSize+e.strokeThickness)/y;for(let A=0;A<a.length;A++){const T=o.lineHeight*A;for(let I=0;I<v.length;I++){let D=0;typeof _[I]=="number"?D=_[I]:D=I/v.length;const P=T/y+D*S;let O=Math.max(x,P);O=Math.min(O,1),c.addColorStop(O,v[I]),x=O}}}else{c=t.createLinearGradient(p,y/2,g+p,y/2);const x=v.length+1;let S=1;for(let A=0;A<v.length;A++){let T;typeof _[A]=="number"?T=_[A]:T=S/x,c.addColorStop(T,v[A]),S++}}return c}function UM(s,t,e,r,a,o,h){const c=e.text,d=e.fontProperties;t.translate(r,a),t.scale(o,o);const p=h.strokeThickness/2,g=-(h.strokeThickness/2);if(t.font=h.toFontString(),t.lineWidth=h.strokeThickness,t.textBaseline=h.textBaseline,t.lineJoin=h.lineJoin,t.miterLimit=h.miterLimit,t.fillStyle=PM(s,t,h,o,[c],e),t.strokeStyle=h.stroke,h.dropShadow){const y=h.dropShadowColor,v=h.dropShadowBlur*o,_=h.dropShadowDistance*o;t.shadowColor=se.shared.setValue(y).setAlpha(h.dropShadowAlpha).toRgbaString(),t.shadowBlur=v,t.shadowOffsetX=Math.cos(h.dropShadowAngle)*_,t.shadowOffsetY=Math.sin(h.dropShadowAngle)*_}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;h.stroke&&h.strokeThickness&&t.strokeText(c,p,g+e.lineHeight-d.descent),h.fill&&t.fillText(c,p,g+e.lineHeight-d.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function Su(s){return s.codePointAt?s.codePointAt(0):s.charCodeAt(0)}function Bb(s){return Array.from?Array.from(s):s.split("")}function LM(s){typeof s=="string"&&(s=[s]);const t=[];for(let e=0,r=s.length;e<r;e++){const a=s[e];if(Array.isArray(a)){if(a.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${a.length}.`);const o=a[0].charCodeAt(0),h=a[1].charCodeAt(0);if(h<o)throw new Error("[BitmapFont]: Invalid character range.");for(let c=o,d=h;c<=d;c++)t.push(String.fromCharCode(c))}else t.push(...Bb(a))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const gn=class Zi{constructor(t,e,r){const[a]=t.info,[o]=t.common,[h]=t.page,[c]=t.distanceField,d=Ur(h.file),p={};this._ownsTextures=r,this.font=a.face,this.size=a.size,this.lineHeight=o.lineHeight/d,this.chars={},this.pageTextures=p;for(let g=0;g<t.page.length;g++){const{id:y,file:v}=t.page[g];p[y]=e instanceof Array?e[g]:e[v],c?.fieldType&&c.fieldType!=="none"&&(p[y].baseTexture.alphaMode=Ke.NO_PREMULTIPLIED_ALPHA,p[y].baseTexture.mipmap=ir.OFF)}for(let g=0;g<t.char.length;g++){const{id:y,page:v}=t.char[g];let{x:_,y:x,width:S,height:A,xoffset:T,yoffset:I,xadvance:D}=t.char[g];_/=d,x/=d,S/=d,A/=d,T/=d,I/=d,D/=d;const P=new Ut(_+p[v].frame.x/d,x+p[v].frame.y/d,S,A);this.chars[y]={xOffset:T,yOffset:I,xAdvance:D,kerning:{},texture:new bt(p[v].baseTexture,P),page:v}}for(let g=0;g<t.kerning.length;g++){let{first:y,second:v,amount:_}=t.kerning[g];y/=d,v/=d,_/=d,this.chars[v]&&(this.chars[v].kerning[y]=_)}this.distanceFieldRange=c?.distanceRange,this.distanceFieldType=c?.fieldType?.toLowerCase()??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let a;if(t instanceof Hu)a=t;else{const h=NM(t);if(!h)throw new Error("Unrecognized data format for font.");a=h.parse(t)}e instanceof bt&&(e=[e]);const o=new Zi(a,e,r);return Zi.available[o.font]=o,o}static uninstall(t){const e=Zi.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Zi.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:a,padding:o,resolution:h,textureWidth:c,textureHeight:d,...p}=Object.assign({},Zi.defaultOptions,r),g=LM(a),y=e instanceof An?e:new An(e),v=c,_=new Hu;_.info[0]={face:y.fontFamily,size:y.fontSize},_.common[0]={lineHeight:y.fontSize};let x=0,S=0,A,T,I,D=0;const P=[];for(let X=0;X<g.length;X++){A||(A=gt.ADAPTER.createCanvas(),A.width=c,A.height=d,T=A.getContext("2d"),I=new Nt(A,{resolution:h,...p}),P.push(new bt(I)),_.page.push({id:P.length-1,file:""}));const B=g[X],V=vn.measureText(B,y,!1,A),tt=V.width,at=Math.ceil(V.height),et=Math.ceil((y.fontStyle==="italic"?2:1)*tt);if(S>=d-at*h){if(S===0)throw new Error(`[BitmapFont] textureHeight ${d}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${B}')`);--X,A=null,T=null,I=null,S=0,x=0,D=0;continue}if(D=Math.max(at+V.fontProperties.descent,D),et*h+x>=v){if(x===0)throw new Error(`[BitmapFont] textureWidth ${c}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${B}')`);--X,S+=D*h,S=Math.ceil(S),x=0,D=0;continue}UM(A,T,V,x,S,h,y);const H=Su(V.text);_.char.push({id:H,page:P.length-1,x:x/h,y:S/h,width:et,height:at,xoffset:0,yoffset:0,xadvance:tt-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0)}),x+=(et+2*o)*h,x=Math.ceil(x)}if(!r?.skipKerning)for(let X=0,B=g.length;X<B;X++){const V=g[X];for(let tt=0;tt<B;tt++){const at=g[tt],et=T.measureText(V).width,H=T.measureText(at).width,Q=T.measureText(V+at).width-(et+H);Q&&_.kerning.push({first:Su(V),second:Su(at),amount:Q})}}const O=new Zi(_,P,!0);return Zi.available[t]!==void 0&&Zi.uninstall(t),Zi.available[t]=O,O}};gn.ALPHA=[["a","z"],["A","Z"]," "],gn.NUMERIC=[["0","9"]],gn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],gn.ASCII=[[" ","~"]],gn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:gn.ALPHANUMERIC},gn.available={};let yn=gn;var FM=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,GM=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const G_=[],k_=[],H_=[],kM=class Ib extends Pi{constructor(t,e={}){super();const{align:r,tint:a,maxWidth:o,letterSpacing:h,fontName:c,fontSize:d}=Object.assign({},Ib.styleDefaults,e);if(!yn.available[c])throw new Error(`Missing BitmapFont "${c}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new se(a),this._font=void 0,this._fontName=c,this._fontSize=d,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=h,this._anchor=new Br(()=>{this.dirty=!0},this,0,0),this._roundPixels=gt.ROUND_PIXELS,this.dirty=!0,this._resolution=gt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const t=yn.available[this._fontName],e=this.fontSize,r=e/t.size,a=new jt,o=[],h=[],c=[],d=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",p=Bb(d),g=this._maxWidth*t.size/e,y=t.distanceFieldType==="none"?G_:k_;let v=null,_=0,x=0,S=0,A=-1,T=0,I=0,D=0,P=0;for(let et=0;et<p.length;et++){const H=p[et],Q=Su(H);if(/(?:\s)/.test(H)&&(A=et,T=_,P++),H==="\r"||H===`
`){h.push(_),c.push(-1),x=Math.max(x,_),++S,++I,a.x=0,a.y+=t.lineHeight,v=null,P=0;continue}const J=t.chars[Q];if(!J)continue;v&&J.kerning[v]&&(a.x+=J.kerning[v]);const dt=H_.pop()||{texture:bt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new jt};dt.texture=J.texture,dt.line=S,dt.charCode=Q,dt.position.x=Math.round(a.x+J.xOffset+this._letterSpacing/2),dt.position.y=Math.round(a.y+J.yOffset),dt.prevSpaces=P,o.push(dt),_=dt.position.x+Math.max(J.xAdvance-J.xOffset,J.texture.orig.width),a.x+=J.xAdvance+this._letterSpacing,D=Math.max(D,J.yOffset+J.texture.height),v=Q,A!==-1&&g>0&&a.x>g&&(++I,ea(o,1+A-I,1+et-A),et=A,A=-1,h.push(T),c.push(o.length>0?o[o.length-1].prevSpaces:0),x=Math.max(x,T),S++,a.x=0,a.y+=t.lineHeight,v=null,P=0)}const O=p[p.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(_=T),h.push(_),x=Math.max(x,_),c.push(-1));const X=[];for(let et=0;et<=S;et++){let H=0;this._align==="right"?H=x-h[et]:this._align==="center"?H=(x-h[et])/2:this._align==="justify"&&(H=c[et]<0?0:(x-h[et])/c[et]),X.push(H)}const B=o.length,V={},tt=[],at=this._activePagesMeshData;y.push(...at);for(let et=0;et<B;et++){const H=o[et].texture,Q=H.baseTexture.uid;if(!V[Q]){let J=y.pop();if(!J){const w=new hM;let C,M;t.distanceFieldType==="none"?(C=new P_(bt.EMPTY),M=Dt.NORMAL):(C=new P_(bt.EMPTY,{program:Ir.from(GM,FM),uniforms:{uFWidth:0}}),M=Dt.NORMAL_NPM);const k=new N_(w,C);k.blendMode=M,J={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:k,vertices:null,uvs:null,indices:null}}J.index=0,J.indexCount=0,J.vertexCount=0,J.uvsCount=0,J.total=0;const{_textureCache:dt}=this;dt[Q]=dt[Q]||new bt(H.baseTexture),J.mesh.texture=dt[Q],J.mesh.tint=this._tintColor.value,tt.push(J),V[Q]=J}V[Q].total++}for(let et=0;et<at.length;et++)tt.includes(at[et])||this.removeChild(at[et].mesh);for(let et=0;et<tt.length;et++)tt[et].mesh.parent!==this&&this.addChild(tt[et].mesh);this._activePagesMeshData=tt;for(const et in V){const H=V[et],Q=H.total;if(!(H.indices?.length>6*Q)||H.vertices.length<N_.BATCHABLE_SIZE*2)H.vertices=new Float32Array(4*2*Q),H.uvs=new Float32Array(4*2*Q),H.indices=new Uint16Array(6*Q);else{const J=H.total,dt=H.vertices;for(let w=J*4*2;w<dt.length;w++)dt[w]=0}H.mesh.size=6*Q}for(let et=0;et<B;et++){const H=o[et];let Q=H.position.x+X[H.line]*(this._align==="justify"?H.prevSpaces:1);this._roundPixels&&(Q=Math.round(Q));const J=Q*r,dt=H.position.y*r,w=H.texture,C=V[w.baseTexture.uid],M=w.frame,k=w._uvs,E=C.index++;C.indices[E*6+0]=0+E*4,C.indices[E*6+1]=1+E*4,C.indices[E*6+2]=2+E*4,C.indices[E*6+3]=0+E*4,C.indices[E*6+4]=2+E*4,C.indices[E*6+5]=3+E*4,C.vertices[E*8+0]=J,C.vertices[E*8+1]=dt,C.vertices[E*8+2]=J+M.width*r,C.vertices[E*8+3]=dt,C.vertices[E*8+4]=J+M.width*r,C.vertices[E*8+5]=dt+M.height*r,C.vertices[E*8+6]=J,C.vertices[E*8+7]=dt+M.height*r,C.uvs[E*8+0]=k.x0,C.uvs[E*8+1]=k.y0,C.uvs[E*8+2]=k.x1,C.uvs[E*8+3]=k.y1,C.uvs[E*8+4]=k.x2,C.uvs[E*8+5]=k.y2,C.uvs[E*8+6]=k.x3,C.uvs[E*8+7]=k.y3}this._textWidth=x*r,this._textHeight=(a.y+t.lineHeight)*r;for(const et in V){const H=V[et];if(this.anchor.x!==0||this.anchor.y!==0){let w=0;const C=this._textWidth*this.anchor.x,M=this._textHeight*this.anchor.y;for(let k=0;k<H.total;k++)H.vertices[w++]-=C,H.vertices[w++]-=M,H.vertices[w++]-=C,H.vertices[w++]-=M,H.vertices[w++]-=C,H.vertices[w++]-=M,H.vertices[w++]-=C,H.vertices[w++]-=M}this._maxLineHeight=D*r;const Q=H.mesh.geometry.getBuffer("aVertexPosition"),J=H.mesh.geometry.getBuffer("aTextureCoord"),dt=H.mesh.geometry.getIndex();Q.data=H.vertices,J.data=H.uvs,dt.data=H.indices,Q.update(),J.update(),dt.update()}for(let et=0;et<o.length;et++)H_.push(o[et]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:a}=yn.available[this._fontName];if(r!=="none"){const{a:o,b:h,c,d}=this.worldTransform,p=Math.sqrt(o*o+h*h),g=Math.sqrt(c*c+d*d),y=(Math.abs(p)+Math.abs(g))/2,v=this.fontSize/a,_=t._view.resolution;for(const x of this._activePagesMeshData)x.mesh.shader.uniforms.uFWidth=y*e*v*_}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=yn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!yn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??yn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=yn.available[this._fontName].distanceFieldType==="none"?G_:k_;r.push(...this._activePagesMeshData);for(const a of this._activePagesMeshData)this.removeChild(a.mesh);this._activePagesMeshData=[],r.filter(a=>e[a.mesh.texture.baseTexture.uid]).forEach(a=>{a.mesh.texture=bt.EMPTY});for(const a in e)e[a].destroy(),delete e[a];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};kM.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const HM=[".xml",".fnt"],zM={extension:{type:pt.LoadParser,priority:Ui.Normal},name:"loadBitmapFont",test(s){return HM.includes(Be.extname(s).toLowerCase())},async testParse(s){return Au.test(s)||xp.test(s)},async parse(s,t,e){const r=Au.test(s)?Au.parse(s):xp.parse(s),{src:a}=t,{page:o}=r,h=[];for(let p=0;p<o.length;++p){const g=o[p].file;let y=Be.join(Be.dirname(a),g);y=dp(y,a),h.push(y)}const c=await e.load(h),d=h.map(p=>c[p]);return yn.install(r,d,!0)},async load(s,t){return(await gt.ADAPTER.fetch(s)).text()},unload(s){s.destroy()}};Et.add(zM);const bp=class Ks extends An{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Ks(Object.keys(Ks.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Ks.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=Ks;if(r[t]){const a=r[t];return this._fonts.push(a),a.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return gt.ADAPTER.fetch(t).then(a=>a.blob()).then(async a=>new Promise((o,h)=>{const c=URL.createObjectURL(a),d=new FileReader;d.onload=()=>o([c,d.result]),d.onerror=h,d.readAsDataURL(a)})).then(async([a,o])=>{const h=Object.assign({family:Be.basename(t,Be.extname(t)),weight:"normal",style:"normal",display:"auto",src:a,dataSrc:o,refs:1,originalUrl:t,fontFace:null},e);r[t]=h,this._fonts.push(h),this.styleID++;const c=new FontFace(h.family,`url(${h.src})`,{weight:h.weight,style:h.style,display:h.display});h.fontFace=c,await c.load(),document.fonts.add(c),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style};
                font-display: ${e.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=OS(t)),typeof t=="number"?DS(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),a=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const o=`${r}px ${a}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${o} ${t}`}reset(){Object.assign(this,Ks.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=gt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};bp.availableFonts={},bp.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Ud=bp;const mu=class Qs extends ha{constructor(t="",e={}){super(bt.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const r=new Image,a=bt.from(r,{scaleMode:gt.SCALE_MODE,resourceOptions:{autoLoad:!1}});a.orig=new Ut,a.trim=new Ut,this.texture=a;const o="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xhtml",c=document.createElementNS(o,"svg"),d=document.createElementNS(o,"foreignObject"),p=document.createElementNS(h,"div"),g=document.createElementNS(h,"style");d.setAttribute("width","10000"),d.setAttribute("height","10000"),d.style.overflow="hidden",c.appendChild(d),this.maxWidth=Qs.defaultMaxWidth,this.maxHeight=Qs.defaultMaxHeight,this._domElement=p,this._styleElement=g,this._svgRoot=c,this._foreignObject=d,this._foreignObject.appendChild(g),this._foreignObject.appendChild(p),this._image=r,this._loadImage=new Image,this._autoResolution=Qs.defaultAutoResolution,this._resolution=Qs.defaultResolution??gt.RESOLUTION,this.text=t,this.style=e}measureText(t){const{text:e,style:r,resolution:a}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(a)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:h,height:c}=o;(h>this.maxWidth||c>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const d=Math.min(this.maxWidth,Math.ceil(h)),p=Math.min(this.maxHeight,Math.ceil(c));return this._svgRoot.setAttribute("width",d.toString()),this._svgRoot.setAttribute("height",p.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(a)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:d+r.padding*2,height:p+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:a}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:o,height:h}=this.measureText();r.width=a.width=Math.ceil(Math.max(1,o)),r.height=a.height=Math.ceil(Math.max(1,h)),this._updateID++;const c=this._updateID;await new Promise(d=>{a.onload=async()=>{if(c<this._updateID){d();return}await e.onBeforeDraw(),r.src=a.src,a.onload=null,a.src="",this.updateTexture(),d()};const p=new XMLSerializer().serializeToString(this._svgRoot);a.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(p)}`})}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:a}=this,{padding:o}=t,{baseTexture:h}=e;e.trim.width=e._frame.width=r.width/a,e.trim.height=e._frame.height=r.height/a,e.trim.x=-o,e.trim.y=-o,e.orig.width=e._frame.width-o*2,e.orig.height=e._frame.height-o*2,this._onTextureUpdate(),h.setRealSize(r.width,r.height,a),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Qs.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=e,this._svgRoot?.remove(),this._svgRoot=e,this._domElement?.remove(),this._domElement=e,this._foreignObject?.remove(),this._foreignObject=e,this._styleElement?.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=xn(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=xn(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Ud?(this.ownsStyle=!1,this._style=t):t instanceof An?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Ud.from(t)):(this.ownsStyle=!0,this._style=new Ud(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};mu.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},mu.defaultMaxWidth=2024,mu.defaultMaxHeight=2024,mu.defaultAutoResolution=!0;const XM=()=>{const s=nt.useRef(null);return nt.useEffect(()=>{const t=new hb({width:800,height:600,backgroundColor:2236962});s.current&&t.view instanceof Node&&s.current.appendChild(t.view);const e=new Sl;e.beginFill(16777215),e.drawRect(-10,-50,20,100),e.endFill(),e.x=30,e.y=300,t.stage.addChild(e);const r=new Sl;r.beginFill(16777215),r.drawRect(-10,-50,20,100),r.endFill(),r.x=770,r.y=300,t.stage.addChild(r);const a=new Sl;a.beginFill(16711680),a.drawCircle(0,0,12),a.endFill(),a.x=400,a.y=300,t.stage.addChild(a);let o={x:4,y:3},h=!1,c=!1,d=!1,p=!1;const g=v=>{v.key.toLowerCase()==="w"&&(h=!0),v.key.toLowerCase()==="s"&&(c=!0),v.key==="ArrowUp"&&(d=!0),v.key==="ArrowDown"&&(p=!0)},y=v=>{v.key.toLowerCase()==="w"&&(h=!1),v.key.toLowerCase()==="s"&&(c=!1),v.key==="ArrowUp"&&(d=!1),v.key==="ArrowDown"&&(p=!1)};return window.addEventListener("keydown",g),window.addEventListener("keyup",y),t.ticker.add(()=>{h&&(e.y-=6),c&&(e.y+=6),d&&(r.y-=6),p&&(r.y+=6),e.y=Math.max(50,Math.min(550,e.y)),r.y=Math.max(50,Math.min(550,r.y)),a.x+=o.x,a.y+=o.y,(a.y<12||a.y>588)&&(o.y*=-1),a.x-12<e.x+10&&a.y>e.y-50&&a.y<e.y+50&&(o.x*=-1,a.x=e.x+22),a.x+12>r.x-10&&a.y>r.y-50&&a.y<r.y+50&&(o.x*=-1,a.x=r.x-22),(a.x<0||a.x>800)&&(a.x=400,a.y=300,o={x:Math.random()>.5?4:-4,y:Math.random()>.5?3:-3})}),()=>{window.removeEventListener("keydown",g),window.removeEventListener("keyup",y),t.destroy(!0,{children:!0})}},[]),It.jsx("div",{ref:s,style:{width:800,height:600,margin:"auto"}})},VM=nt.lazy(()=>Sn(()=>import("./Arkanoid-BmWS17lE.js"),[])),jM=nt.lazy(()=>Sn(()=>import("./Tetris-VHf28Gx5.js"),[])),qM=nt.lazy(()=>Sn(()=>import("./Dino-DJW7uKRs.js"),[])),YM=nt.lazy(()=>Sn(()=>import("./Flappy-DZ26_59N.js"),[])),$M=nt.lazy(()=>Sn(()=>import("./WhacAMole-CYMuwEc5.js"),[])),WM=nt.lazy(()=>Sn(()=>import("./SpaceInvaders-Cm--1LCM.js"),[])),ZM=nt.lazy(()=>Sn(()=>import("./Asteroids-BJwiiAq1.js"),[])),KM=nt.lazy(()=>Sn(()=>import("./Minesweeper-dtm3xuv4.js"),[])),Mr={fontSize:"1.5rem",padding:"1.2rem 2.2rem",background:"linear-gradient(90deg, #f7b42c 0%, #fc575e 100%)",color:"#fff",border:"none",borderRadius:"1.5rem",boxShadow:"0 4px 16px rgba(0,0,0,0.15)",cursor:"pointer",transition:"transform 0.1s",fontWeight:"bold",outline:"none"},QM=()=>It.jsxs("div",{style:{textAlign:"center",marginTop:"60px"},children:[It.jsx("h1",{style:{marginBottom:"40px",fontSize:"2.5rem",color:"#222"},children:"Juegos Arcade"}),It.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"2rem",maxWidth:"900px",margin:"0 auto",justifyItems:"center"},children:[It.jsx(Oi,{to:"/pong",children:It.jsx("button",{style:Mr,children:"Pong"})}),It.jsx(Oi,{to:"/arkanoid",children:It.jsx("button",{style:Mr,children:"Arkanoid"})}),It.jsx(Oi,{to:"/tetris",children:It.jsx("button",{style:Mr,children:"Tetris"})}),It.jsx(Oi,{to:"/dino",children:It.jsx("button",{style:Mr,children:"Dino"})}),It.jsx(Oi,{to:"/flappy",children:It.jsx("button",{style:Mr,children:"Flappy Bird"})}),It.jsx(Oi,{to:"/whac-a-mole",children:It.jsx("button",{style:Mr,children:"Whac-A-Mole"})}),It.jsx(Oi,{to:"/space-invaders",children:It.jsx("button",{style:Mr,children:"Space Invaders"})}),It.jsx(Oi,{to:"/asteroids",children:It.jsx("button",{style:Mr,children:"Asteroids"})}),It.jsx(Oi,{to:"/minesweeper",children:It.jsx("button",{style:Mr,children:"Minesweeper"})})]})]}),JM=()=>It.jsx(gA,{basename:"/phaser-test",children:It.jsx(nt.Suspense,{fallback:It.jsx("div",{children:"Cargando..."}),children:It.jsxs(qT,{children:[It.jsx(Ci,{path:"/",element:It.jsx(QM,{})}),It.jsx(Ci,{path:"/pong",element:It.jsx(XM,{})}),It.jsx(Ci,{path:"/arkanoid",element:It.jsx(VM,{})}),It.jsx(Ci,{path:"/tetris",element:It.jsx(jM,{})}),It.jsx(Ci,{path:"/dino",element:It.jsx(qM,{})}),It.jsx(Ci,{path:"/flappy",element:It.jsx(YM,{})}),It.jsx(Ci,{path:"/whac-a-mole",element:It.jsx($M,{})}),It.jsx(Ci,{path:"/space-invaders",element:It.jsx(WM,{})}),It.jsx(Ci,{path:"/asteroids",element:It.jsx(ZM,{})}),It.jsx(Ci,{path:"/minesweeper",element:It.jsx(KM,{})})]})})}),t2=document.getElementById("game");QE.createRoot(t2).render(It.jsx(JM,{}));export{hb as A,Sl as G,Ab as T,It as j,nt as r};
