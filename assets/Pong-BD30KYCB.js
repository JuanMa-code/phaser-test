import{r as y,j as i}from"./index-vJFL1dzY.js";import{A as _,G as g}from"./HTMLText-CeZkFdUK.js";import{G as B,a as J}from"./GameOverScreen-DshzEBP7.js";const f=800,s=600,c=20,o=100,l=12,F=6,z=()=>{const h=y.useRef(null),[b,v]=y.useState(0),[C,S]=y.useState(0),[A,R]=y.useState(!1),[k,x]=y.useState(!1),[j,p]=y.useState("");y.useEffect(()=>{if(!A||k)return;const d=new _({width:f,height:s,backgroundColor:986915});h.current&&d.view instanceof Node&&h.current.appendChild(d.view);const w=new g;w.lineStyle(3,4473924,.8);for(let a=0;a<s;a+=20)w.moveTo(f/2,a),w.lineTo(f/2,a+10);d.stage.addChild(w);const n=new g;n.beginFill(5090295),n.drawRoundedRect(-c/2,-o/2,c,o,5),n.endFill(),n.x=40,n.y=s/2,d.stage.addChild(n);const r=new g;r.beginFill(16729943),r.drawRoundedRect(-c/2,-o/2,c,o,5),r.endFill(),r.x=f-40,r.y=s/2,d.stage.addChild(r);const e=new g;e.beginFill(16697943),e.drawCircle(0,0,l),e.endFill(),e.x=f/2,e.y=s/2,d.stage.addChild(e);let t={x:Math.random()>.5?5:-5,y:(Math.random()-.5)*6};const D=4.5;let E=!1,L=!1;const G=a=>{(a.key.toLowerCase()==="w"||a.key==="ArrowUp")&&(E=!0),(a.key.toLowerCase()==="s"||a.key==="ArrowDown")&&(L=!0)},I=a=>{(a.key.toLowerCase()==="w"||a.key==="ArrowUp")&&(E=!1),(a.key.toLowerCase()==="s"||a.key==="ArrowDown")&&(L=!1)};window.addEventListener("keydown",G),window.addEventListener("keyup",I);const W=()=>{E&&n.y>o/2&&(n.y-=F),L&&n.y<s-o/2&&(n.y+=F);const a=r.y,P=e.y;P<a-10?r.y=Math.max(o/2,r.y-D):P>a+10&&(r.y=Math.min(s-o/2,r.y+D)),e.x+=t.x,e.y+=t.y,(e.y<=l||e.y>=s-l)&&(t.y*=-1,e.y=Math.max(l,Math.min(s-l,e.y))),e.x-l<=n.x+c/2&&e.y>=n.y-o/2&&e.y<=n.y+o/2&&t.x<0&&(t.x=Math.abs(t.x)*1.05,t.y+=(e.y-n.y)*.1,e.x=n.x+c/2+l),e.x+l>=r.x-c/2&&e.y>=r.y-o/2&&e.y<=r.y+o/2&&t.x>0&&(t.x=-Math.abs(t.x)*1.05,t.y+=(e.y-r.y)*.1,e.x=r.x-c/2-l),e.x<0?(S(M=>{const m=M+1;return m>=5&&(p("AI"),x(!0)),m}),T()):e.x>f&&(v(M=>{const m=M+1;return m>=5&&(p("Jugador"),x(!0)),m}),T());const u=12;Math.abs(t.x)>u&&(t.x=t.x>0?u:-u),Math.abs(t.y)>u&&(t.y=t.y>0?u:-u)};function T(){e.x=f/2,e.y=s/2,t={x:Math.random()>.5?5:-5,y:(Math.random()-.5)*6}}return d.ticker.add(W),()=>{window.removeEventListener("keydown",G),window.removeEventListener("keyup",I),d.destroy(!0,{children:!0})}},[A,k]);const H=()=>{R(!0),v(0),S(0),x(!1),p("")},O=()=>{R(!1),v(0),S(0),x(!1),p("")};return A?k?i.jsx(J,{score:b,isVictory:j==="Jugador",onRestart:O,onMenu:()=>window.history.back(),theme:{primary:"#4facfe",secondary:"#00f2fe",accent:"#a8edea",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},customStats:[{label:"Jugador",value:b},{label:"IA",value:C},{label:"Resultado",value:j==="Jugador"?"¬°VICTORIA!":"DERROTA"}]}):i.jsxs("div",{style:{textAlign:"center",padding:"1rem"},children:[i.jsx("h1",{style:{marginBottom:"1rem",color:"#4dabf7"},children:"üèì Pong"}),i.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",marginBottom:"1rem",fontSize:"2rem",fontWeight:"bold"},children:[i.jsxs("span",{style:{color:"#4dabf7"},children:["Jugador: ",b]}),i.jsxs("span",{style:{color:"#ff4757"},children:["AI: ",C]})]}),i.jsx("div",{style:{marginBottom:"1rem",color:"#666"},children:"Usa W/S o las flechas para moverte"}),i.jsx("div",{ref:h,style:{display:"inline-block",border:"3px solid #4dabf7",borderRadius:"8px",overflow:"hidden"}})]}):i.jsx(B,{title:"üèì PONG",description:"El primer jugador en llegar a 5 puntos gana la partida",instructions:[{title:"Controles",items:["W: Mover paleta hacia arriba","S: Mover paleta hacia abajo","‚Üë‚Üì: Tambi√©n puedes usar las flechas"],icon:"üéÆ"},{title:"Mec√°nicas",items:["La pelota acelera con cada rebote","El √°ngulo depende de d√≥nde golpee","La IA se vuelve m√°s agresiva"],icon:"‚ö°"}],onStart:H,theme:{primary:"#4facfe",secondary:"#00f2fe",accent:"#a8edea",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}})};export{z as default};
