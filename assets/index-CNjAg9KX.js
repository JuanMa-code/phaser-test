(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function $E(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var e=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var a=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:function(){return s[r]}})}),e}var hf={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function WE(){if(Rv)return hl;Rv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:s,type:r,key:h,ref:a!==void 0?a:null,props:o}}return hl.Fragment=t,hl.jsx=e,hl.jsxs=e,hl}var Cv;function ZE(){return Cv||(Cv=1,hf.exports=WE()),hf.exports}var Ot=ZE(),cf={exports:{}},cl={},ff={exports:{}},df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function KE(){return Mv||(Mv=1,function(s){function t(w,D){var O=w.length;w.push(D);t:for(;0<O;){var X=O-1>>>1,E=w[X];if(0<a(E,D))w[X]=D,w[O]=E,O=X;else break t}}function e(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var D=w[0],O=w.pop();if(O!==D){w[0]=O;t:for(var X=0,E=w.length,N=E>>>1;X<N;){var F=2*(X+1)-1,L=w[F],$=F+1,st=w[$];if(0>a(L,O))$<E&&0>a(st,L)?(w[X]=st,w[$]=O,X=$):(w[X]=L,w[F]=O,X=F);else if($<E&&0>a(st,O))w[X]=st,w[$]=O,X=$;else break t}}return D}function a(w,D){var O=w.sortIndex-D.sortIndex;return O!==0?O:w.id-D.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();s.unstable_now=function(){return h.now()-c}}var d=[],p=[],g=1,y=null,v=3,_=!1,x=!1,A=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function P(w){for(var D=e(p);D!==null;){if(D.callback===null)r(p);else if(D.startTime<=w)r(p),D.sortIndex=D.expirationTime,t(d,D);else break;D=e(p)}}function R(w){if(A=!1,P(w),!x)if(e(d)!==null)x=!0,k||(k=!0,G());else{var D=e(p);D!==null&&dt(R,D.startTime-w)}}var k=!1,M=-1,z=5,Z=-1;function rt(){return S?!0:!(s.unstable_now()-Z<z)}function tt(){if(S=!1,k){var w=s.unstable_now();Z=w;var D=!0;try{t:{x=!1,A&&(A=!1,I(M),M=-1),_=!0;var O=v;try{e:{for(P(w),y=e(d);y!==null&&!(y.expirationTime>w&&rt());){var X=y.callback;if(typeof X=="function"){y.callback=null,v=y.priorityLevel;var E=X(y.expirationTime<=w);if(w=s.unstable_now(),typeof E=="function"){y.callback=E,P(w),D=!0;break e}y===e(d)&&r(d),P(w)}else r(d);y=e(d)}if(y!==null)D=!0;else{var N=e(p);N!==null&&dt(R,N.startTime-w),D=!1}}break t}finally{y=null,v=O,_=!1}D=void 0}}finally{D?G():k=!1}}}var G;if(typeof B=="function")G=function(){B(tt)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,et=J.port2;J.port1.onmessage=tt,G=function(){et.postMessage(null)}}else G=function(){T(tt,0)};function dt(w,D){M=T(function(){w(s.unstable_now())},D)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(w){w.callback=null},s.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<w?Math.floor(1e3/w):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(w){switch(v){case 1:case 2:case 3:var D=3;break;default:D=v}var O=v;v=D;try{return w()}finally{v=O}},s.unstable_requestPaint=function(){S=!0},s.unstable_runWithPriority=function(w,D){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var O=v;v=w;try{return D()}finally{v=O}},s.unstable_scheduleCallback=function(w,D,O){var X=s.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?X+O:X):O=X,w){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=O+E,w={id:g++,callback:D,priorityLevel:w,startTime:O,expirationTime:E,sortIndex:-1},O>X?(w.sortIndex=O,t(p,w),e(d)===null&&w===e(p)&&(A?(I(M),M=-1):A=!0,dt(R,O-X))):(w.sortIndex=E,t(d,w),x||_||(x=!0,k||(k=!0,G()))),w},s.unstable_shouldYield=rt,s.unstable_wrapCallback=function(w){var D=v;return function(){var O=v;v=D;try{return w.apply(this,arguments)}finally{v=O}}}}(df)),df}var Dv;function QE(){return Dv||(Dv=1,ff.exports=KE()),ff.exports}var pf={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function JE(){if(Ov)return Lt;Ov=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,A={};function S(E,N,F){this.props=E,this.context=N,this.refs=A,this.updater=F||_}S.prototype.isReactComponent={},S.prototype.setState=function(E,N){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,N,"setState")},S.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function T(){}T.prototype=S.prototype;function I(E,N,F){this.props=E,this.context=N,this.refs=A,this.updater=F||_}var B=I.prototype=new T;B.constructor=I,x(B,S.prototype),B.isPureReactComponent=!0;var P=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function M(E,N,F,L,$,st){return F=st.ref,{$$typeof:s,type:E,key:N,ref:F!==void 0?F:null,props:st}}function z(E,N){return M(E.type,N,void 0,void 0,void 0,E.props)}function Z(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function rt(E){var N={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(F){return N[F]})}var tt=/\/+/g;function G(E,N){return typeof E=="object"&&E!==null&&E.key!=null?rt(""+E.key):N.toString(36)}function J(){}function et(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(J,J):(E.status="pending",E.then(function(N){E.status==="pending"&&(E.status="fulfilled",E.value=N)},function(N){E.status==="pending"&&(E.status="rejected",E.reason=N)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function dt(E,N,F,L,$){var st=typeof E;(st==="undefined"||st==="boolean")&&(E=null);var lt=!1;if(E===null)lt=!0;else switch(st){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(E.$$typeof){case s:case t:lt=!0;break;case g:return lt=E._init,dt(lt(E._payload),N,F,L,$)}}if(lt)return $=$(E),lt=L===""?"."+G(E,0):L,P($)?(F="",lt!=null&&(F=lt.replace(tt,"$&/")+"/"),dt($,N,F,"",function(yt){return yt})):$!=null&&(Z($)&&($=z($,F+($.key==null||E&&E.key===$.key?"":(""+$.key).replace(tt,"$&/")+"/")+lt)),N.push($)),1;lt=0;var ft=L===""?".":L+":";if(P(E))for(var ct=0;ct<E.length;ct++)L=E[ct],st=ft+G(L,ct),lt+=dt(L,N,F,st,$);else if(ct=v(E),typeof ct=="function")for(E=ct.call(E),ct=0;!(L=E.next()).done;)L=L.value,st=ft+G(L,ct++),lt+=dt(L,N,F,st,$);else if(st==="object"){if(typeof E.then=="function")return dt(et(E),N,F,L,$);throw N=String(E),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return lt}function w(E,N,F){if(E==null)return E;var L=[],$=0;return dt(E,L,"","",function(st){return N.call(F,st,$++)}),L}function D(E){if(E._status===-1){var N=E._result;N=N(),N.then(function(F){(E._status===0||E._status===-1)&&(E._status=1,E._result=F)},function(F){(E._status===0||E._status===-1)&&(E._status=2,E._result=F)}),E._status===-1&&(E._status=0,E._result=N)}if(E._status===1)return E._result.default;throw E._result}var O=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function X(){}return Lt.Children={map:w,forEach:function(E,N,F){w(E,function(){N.apply(this,arguments)},F)},count:function(E){var N=0;return w(E,function(){N++}),N},toArray:function(E){return w(E,function(N){return N})||[]},only:function(E){if(!Z(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Lt.Component=S,Lt.Fragment=e,Lt.Profiler=a,Lt.PureComponent=I,Lt.StrictMode=r,Lt.Suspense=d,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(E){return R.H.useMemoCache(E)}},Lt.cache=function(E){return function(){return E.apply(null,arguments)}},Lt.cloneElement=function(E,N,F){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var L=x({},E.props),$=E.key,st=void 0;if(N!=null)for(lt in N.ref!==void 0&&(st=void 0),N.key!==void 0&&($=""+N.key),N)!k.call(N,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&N.ref===void 0||(L[lt]=N[lt]);var lt=arguments.length-2;if(lt===1)L.children=F;else if(1<lt){for(var ft=Array(lt),ct=0;ct<lt;ct++)ft[ct]=arguments[ct+2];L.children=ft}return M(E.type,$,void 0,void 0,st,L)},Lt.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:o,_context:E},E},Lt.createElement=function(E,N,F){var L,$={},st=null;if(N!=null)for(L in N.key!==void 0&&(st=""+N.key),N)k.call(N,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&($[L]=N[L]);var lt=arguments.length-2;if(lt===1)$.children=F;else if(1<lt){for(var ft=Array(lt),ct=0;ct<lt;ct++)ft[ct]=arguments[ct+2];$.children=ft}if(E&&E.defaultProps)for(L in lt=E.defaultProps,lt)$[L]===void 0&&($[L]=lt[L]);return M(E,st,void 0,void 0,null,$)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(E){return{$$typeof:c,render:E}},Lt.isValidElement=Z,Lt.lazy=function(E){return{$$typeof:g,_payload:{_status:-1,_result:E},_init:D}},Lt.memo=function(E,N){return{$$typeof:p,type:E,compare:N===void 0?null:N}},Lt.startTransition=function(E){var N=R.T,F={};R.T=F;try{var L=E(),$=R.S;$!==null&&$(F,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(X,O)}catch(st){O(st)}finally{R.T=N}},Lt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Lt.use=function(E){return R.H.use(E)},Lt.useActionState=function(E,N,F){return R.H.useActionState(E,N,F)},Lt.useCallback=function(E,N){return R.H.useCallback(E,N)},Lt.useContext=function(E){return R.H.useContext(E)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(E,N){return R.H.useDeferredValue(E,N)},Lt.useEffect=function(E,N,F){var L=R.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return L.useEffect(E,N)},Lt.useId=function(){return R.H.useId()},Lt.useImperativeHandle=function(E,N,F){return R.H.useImperativeHandle(E,N,F)},Lt.useInsertionEffect=function(E,N){return R.H.useInsertionEffect(E,N)},Lt.useLayoutEffect=function(E,N){return R.H.useLayoutEffect(E,N)},Lt.useMemo=function(E,N){return R.H.useMemo(E,N)},Lt.useOptimistic=function(E,N){return R.H.useOptimistic(E,N)},Lt.useReducer=function(E,N,F){return R.H.useReducer(E,N,F)},Lt.useRef=function(E){return R.H.useRef(E)},Lt.useState=function(E){return R.H.useState(E)},Lt.useSyncExternalStore=function(E,N,F){return R.H.useSyncExternalStore(E,N,F)},Lt.useTransition=function(){return R.H.useTransition()},Lt.version="19.1.0",Lt}var Bv;function Rp(){return Bv||(Bv=1,pf.exports=JE()),pf.exports}var mf={exports:{}},Ve={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function tT(){if(Iv)return Ve;Iv=1;var s=Rp();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ve.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(d,p,null,g)},Ve.flushSync=function(d){var p=h.T,g=r.p;try{if(h.T=null,r.p=2,d)return d()}finally{h.T=p,r.p=g,r.d.f()}},Ve.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},Ve.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ve.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=c(g,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):g==="script"&&r.d.X(d,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ve.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=c(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},Ve.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=c(g,p.crossOrigin);r.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ve.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=c(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},Ve.requestFormReset=function(d){r.d.r(d)},Ve.unstable_batchedUpdates=function(d,p){return d(p)},Ve.useFormState=function(d,p,g){return h.H.useFormState(d,p,g)},Ve.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ve.version="19.1.0",Ve}var Nv;function eT(){if(Nv)return mf.exports;Nv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),mf.exports=tT(),mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function iT(){if(Pv)return cl;Pv=1;var s=QE(),t=Rp(),e=eT();function r(i){var n="https://react.dev/errors/"+i;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var n=i,l=i;if(i.alternate)for(;n.return;)n=n.return;else{i=n;do n=i,(n.flags&4098)!==0&&(l=n.return),i=n.return;while(i)}return n.tag===3?l:null}function h(i){if(i.tag===13){var n=i.memoizedState;if(n===null&&(i=i.alternate,i!==null&&(n=i.memoizedState)),n!==null)return n.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var n=i.alternate;if(!n){if(n=o(i),n===null)throw Error(r(188));return n!==i?null:i}for(var l=i,u=n;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return c(f),i;if(m===u)return c(f),n;m=m.sibling}throw Error(r(188))}if(l.return!==u.return)l=f,u=m;else{for(var b=!1,C=f.child;C;){if(C===l){b=!0,l=f,u=m;break}if(C===u){b=!0,u=f,l=m;break}C=C.sibling}if(!b){for(C=m.child;C;){if(C===l){b=!0,l=m,u=f;break}if(C===u){b=!0,u=m,l=f;break}C=C.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:n}function p(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i;for(i=i.child;i!==null;){if(n=p(i),n!==null)return n;i=i.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),B=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=tt&&i[tt]||i["@@iterator"],typeof i=="function"?i:null)}var J=Symbol.for("react.client.reference");function et(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===J?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case k:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case B:return(i.displayName||"Context")+".Provider";case I:return(i._context.displayName||"Context")+".Consumer";case P:var n=i.render;return i=i.displayName,i||(i=n.displayName||n.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return n=i.displayName||null,n!==null?n:et(i.type)||"Memo";case z:n=i._payload,i=i._init;try{return et(i(n))}catch{}}return null}var dt=Array.isArray,w=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},X=[],E=-1;function N(i){return{current:i}}function F(i){0>E||(i.current=X[E],X[E]=null,E--)}function L(i,n){E++,X[E]=i.current,i.current=n}var $=N(null),st=N(null),lt=N(null),ft=N(null);function ct(i,n){switch(L(lt,n),L(st,i),L($,null),n.nodeType){case 9:case 11:i=(i=n.documentElement)&&(i=i.namespaceURI)?ev(i):0;break;default:if(i=n.tagName,n=n.namespaceURI)n=ev(n),i=iv(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F($),L($,i)}function yt(){F($),F(st),F(lt)}function ut(i){i.memoizedState!==null&&L(ft,i);var n=$.current,l=iv(n,i.type);n!==l&&(L(st,i),L($,l))}function vt(i){st.current===i&&(F($),F(st)),ft.current===i&&(F(ft),sl._currentValue=O)}var xt=Object.prototype.hasOwnProperty,Bt=s.unstable_scheduleCallback,Gt=s.unstable_cancelCallback,Tt=s.unstable_shouldYield,At=s.unstable_requestPaint,$t=s.unstable_now,ge=s.unstable_getCurrentPriorityLevel,lr=s.unstable_ImmediatePriority,Ti=s.unstable_UserBlockingPriority,ke=s.unstable_NormalPriority,Hr=s.unstable_LowPriority,or=s.unstable_IdlePriority,zr=s.log,eh=s.unstable_setDisableYieldValue,Cn=null,He=null;function Gi(i){if(typeof zr=="function"&&eh(i),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Cn,i)}catch{}}var Se=Math.clz32?Math.clz32:ih,pa=Math.log,Pl=Math.LN2;function ih(i){return i>>>=0,i===0?32:31-(pa(i)/Pl|0)|0}var cs=256,Xr=4194304;function ui(i){var n=i&42;if(n!==0)return n;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Y(i,n,l){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var C=u&134217727;return C!==0?(u=C&~m,u!==0?f=ui(u):(b&=C,b!==0?f=ui(b):l||(l=C&~i,l!==0&&(f=ui(l))))):(C=u&~m,C!==0?f=ui(C):b!==0?f=ui(b):l||(l=u&~i,l!==0&&(f=ui(l)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:f}function Q(i,n){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&n)===0}function Yt(i,n){switch(i){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var i=cs;return cs<<=1,(cs&4194048)===0&&(cs=256),i}function te(){var i=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),i}function Pt(i){for(var n=[],l=0;31>l;l++)n.push(i);return n}function Ye(i,n){i.pendingLanes|=n,n!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ur(i,n,l,u,f,m){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var C=i.entanglements,U=i.expirationTimes,q=i.hiddenUpdates;for(l=b&~l;0<l;){var nt=31-Se(l),ot=1<<nt;C[nt]=0,U[nt]=-1;var W=q[nt];if(W!==null)for(q[nt]=null,nt=0;nt<W.length;nt++){var K=W[nt];K!==null&&(K.lane&=-536870913)}l&=~ot}u!==0&&ze(i,u,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(b&~n))}function ze(i,n,l){i.pendingLanes|=n,i.suspendedLanes&=~n;var u=31-Se(n);i.entangledLanes|=n,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194090}function Si(i,n){var l=i.entangledLanes|=n;for(i=i.entanglements;l;){var u=31-Se(l),f=1<<u;f&n|i[u]&n&&(i[u]|=n),l&=~f}}function Mn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ki(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function $e(){var i=D.p;return i!==0?i:(i=window.event,i===void 0?32:bv(i.type))}function Ul(i,n){var l=D.p;try{return D.p=i,n()}finally{D.p=l}}var Ai=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Ai,xe="__reactProps$"+Ai,Hi="__reactContainer$"+Ai,Vr="__reactEvents$"+Ai,ma="__reactListeners$"+Ai,ga="__reactHandles$"+Ai,ya="__reactResources$"+Ai,jr="__reactMarker$"+Ai;function Dn(i){delete i[Ae],delete i[xe],delete i[Vr],delete i[ma],delete i[ga]}function hr(i){var n=i[Ae];if(n)return n;for(var l=i.parentNode;l;){if(n=l[Hi]||l[Ae]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(i=av(i);i!==null;){if(l=i[Ae])return l;i=av(i)}return n}i=l,l=i.parentNode}return null}function zi(i){if(i=i[Ae]||i[Hi]){var n=i.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return i}return null}function qr(i){var n=i.tag;if(n===5||n===26||n===27||n===6)return i.stateNode;throw Error(r(33))}function Yr(i){var n=i[ya];return n||(n=i[ya]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function de(i){i[jr]=!0}var cr=new Set,On={};function fr(i,n){dr(i,n),dr(i+"Capture",n)}function dr(i,n){for(On[i]=n,i=0;i<n.length;i++)cr.add(n[i])}var kb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qp={},Yp={};function Hb(i){return xt.call(Yp,i)?!0:xt.call(qp,i)?!1:kb.test(i)?Yp[i]=!0:(qp[i]=!0,!1)}function Ll(i,n,l){if(Hb(n))if(l===null)i.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(n);return}}i.setAttribute(n,""+l)}}function Fl(i,n,l){if(l===null)i.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(n);return}i.setAttribute(n,""+l)}}function pr(i,n,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(n,l,""+u)}}var rh,$p;function fs(i){if(rh===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);rh=n&&n[1]||"",$p=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rh+i+$p}var nh=!1;function sh(i,n){if(!i||nh)return"";nh=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(K){var W=K}Reflect.construct(i,[],ot)}else{try{ot.call()}catch(K){W=K}i.call(ot.prototype)}}else{try{throw Error()}catch(K){W=K}(ot=i())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(K){if(K&&W&&typeof K.stack=="string")return[K.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),b=m[0],C=m[1];if(b&&C){var U=b.split(`
`),q=C.split(`
`);for(f=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(u===U.length||f===q.length)for(u=U.length-1,f=q.length-1;1<=u&&0<=f&&U[u]!==q[f];)f--;for(;1<=u&&0<=f;u--,f--)if(U[u]!==q[f]){if(u!==1||f!==1)do if(u--,f--,0>f||U[u]!==q[f]){var nt=`
`+U[u].replace(" at new "," at ");return i.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",i.displayName)),nt}while(1<=u&&0<=f);break}}}finally{nh=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?fs(l):""}function zb(i){switch(i.tag){case 26:case 27:case 5:return fs(i.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 15:return sh(i.type,!1);case 11:return sh(i.type.render,!1);case 1:return sh(i.type,!0);case 31:return fs("Activity");default:return""}}function Wp(i){try{var n="";do n+=zb(i),i=i.return;while(i);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function hi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zp(i){var n=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xb(i){var n=Zp(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,n),u=""+i[n];if(!i.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(i,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,m.call(this,b)}}),Object.defineProperty(i,n,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[n]}}}}function Gl(i){i._valueTracker||(i._valueTracker=Xb(i))}function Kp(i){if(!i)return!1;var n=i._valueTracker;if(!n)return!0;var l=n.getValue(),u="";return i&&(u=Zp(i)?i.checked?"true":"false":i.value),i=u,i!==l?(n.setValue(i),!0):!1}function kl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Vb=/[\n"\\]/g;function ci(i){return i.replace(Vb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ah(i,n,l,u,f,m,b,C){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),n!=null?b==="number"?(n===0&&i.value===""||i.value!=n)&&(i.value=""+hi(n)):i.value!==""+hi(n)&&(i.value=""+hi(n)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),n!=null?lh(i,b,hi(n)):l!=null?lh(i,b,hi(l)):u!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+hi(C):i.removeAttribute("name")}function Qp(i,n,l,u,f,m,b,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;l=l!=null?""+hi(l):"",n=n!=null?""+hi(n):l,C||n===i.value||(i.value=n),i.defaultValue=n}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function lh(i,n,l){n==="number"&&kl(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ds(i,n,l,u){if(i=i.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<i.length;l++)f=n.hasOwnProperty("$"+i[l].value),i[l].selected!==f&&(i[l].selected=f),f&&u&&(i[l].defaultSelected=!0)}else{for(l=""+hi(l),n=null,f=0;f<i.length;f++){if(i[f].value===l){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}n!==null||i[f].disabled||(n=i[f])}n!==null&&(n.selected=!0)}}function Jp(i,n,l){if(n!=null&&(n=""+hi(n),n!==i.value&&(i.value=n),l==null)){i.defaultValue!==n&&(i.defaultValue=n);return}i.defaultValue=l!=null?""+hi(l):""}function tm(i,n,l,u){if(n==null){if(u!=null){if(l!=null)throw Error(r(92));if(dt(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),n=l}l=hi(n),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function ps(i,n){if(n){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=n;return}}i.textContent=n}var jb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function em(i,n,l){var u=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(n,""):n==="float"?i.cssFloat="":i[n]="":u?i.setProperty(n,l):typeof l!="number"||l===0||jb.has(n)?n==="float"?i.cssFloat=l:i[n]=(""+l).trim():i[n]=l+"px"}function im(i,n,l){if(n!=null&&typeof n!="object")throw Error(r(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in n)u=n[f],n.hasOwnProperty(f)&&l[f]!==u&&em(i,f,u)}else for(var m in n)n.hasOwnProperty(m)&&em(i,m,n[m])}function oh(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hl(i){return Yb.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var uh=null;function hh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ms=null,gs=null;function rm(i){var n=zi(i);if(n&&(i=n.stateNode)){var l=i[xe]||null;t:switch(i=n.stateNode,n.type){case"input":if(ah(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ci(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var u=l[n];if(u!==i&&u.form===i.form){var f=u[xe]||null;if(!f)throw Error(r(90));ah(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)u=l[n],u.form===i.form&&Kp(u)}break t;case"textarea":Jp(i,l.value,l.defaultValue);break t;case"select":n=l.value,n!=null&&ds(i,!!l.multiple,n,!1)}}}var ch=!1;function nm(i,n,l){if(ch)return i(n,l);ch=!0;try{var u=i(n);return u}finally{if(ch=!1,(ms!==null||gs!==null)&&(Ro(),ms&&(n=ms,i=gs,gs=ms=null,rm(n),i)))for(n=0;n<i.length;n++)rm(i[n])}}function va(i,n){var l=i.stateNode;if(l===null)return null;var u=l[xe]||null;if(u===null)return null;l=u[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,n,typeof l));return l}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fh=!1;if(mr)try{var _a={};Object.defineProperty(_a,"passive",{get:function(){fh=!0}}),window.addEventListener("test",_a,_a),window.removeEventListener("test",_a,_a)}catch{fh=!1}var $r=null,dh=null,zl=null;function sm(){if(zl)return zl;var i,n=dh,l=n.length,u,f="value"in $r?$r.value:$r.textContent,m=f.length;for(i=0;i<l&&n[i]===f[i];i++);var b=l-i;for(u=1;u<=b&&n[l-u]===f[m-u];u++);return zl=f.slice(i,1<u?1-u:void 0)}function Xl(i){var n=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&n===13&&(i=13)):i=n,i===10&&(i=13),32<=i||i===13?i:0}function Vl(){return!0}function am(){return!1}function We(i){function n(l,u,f,m,b){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vl:am,this.isPropagationStopped=am,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),n}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=We(Bn),xa=g({},Bn,{view:0,detail:0}),$b=We(xa),ph,mh,ba,ql=g({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ba&&(ba&&i.type==="mousemove"?(ph=i.screenX-ba.screenX,mh=i.screenY-ba.screenY):mh=ph=0,ba=i),ph)},movementY:function(i){return"movementY"in i?i.movementY:mh}}),lm=We(ql),Wb=g({},ql,{dataTransfer:0}),Zb=We(Wb),Kb=g({},xa,{relatedTarget:0}),gh=We(Kb),Qb=g({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Jb=We(Qb),t1=g({},Bn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),e1=We(t1),i1=g({},Bn,{data:0}),om=We(i1),r1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a1(i){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(i):(i=s1[i])?!!n[i]:!1}function yh(){return a1}var l1=g({},xa,{key:function(i){if(i.key){var n=r1[i.key]||i.key;if(n!=="Unidentified")return n}return i.type==="keypress"?(i=Xl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?n1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yh,charCode:function(i){return i.type==="keypress"?Xl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),o1=We(l1),u1=g({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=We(u1),h1=g({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yh}),c1=We(h1),f1=g({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),d1=We(f1),p1=g({},ql,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),m1=We(p1),g1=g({},Bn,{newState:0,oldState:0}),y1=We(g1),v1=[9,13,27,32],vh=mr&&"CompositionEvent"in window,Ea=null;mr&&"documentMode"in document&&(Ea=document.documentMode);var _1=mr&&"TextEvent"in window&&!Ea,hm=mr&&(!vh||Ea&&8<Ea&&11>=Ea),cm=" ",fm=!1;function dm(i,n){switch(i){case"keyup":return v1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ys=!1;function x1(i,n){switch(i){case"compositionend":return pm(n);case"keypress":return n.which!==32?null:(fm=!0,cm);case"textInput":return i=n.data,i===cm&&fm?null:i;default:return null}}function b1(i,n){if(ys)return i==="compositionend"||!vh&&dm(i,n)?(i=sm(),zl=dh=$r=null,ys=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hm&&n.locale!=="ko"?null:n.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mm(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n==="input"?!!E1[i.type]:n==="textarea"}function gm(i,n,l,u){ms?gs?gs.push(u):gs=[u]:ms=u,n=Io(n,"onChange"),0<n.length&&(l=new jl("onChange","change",null,l,u),i.push({event:l,listeners:n}))}var Ta=null,Sa=null;function T1(i){Zy(i,0)}function Yl(i){var n=qr(i);if(Kp(n))return i}function ym(i,n){if(i==="change")return n}var vm=!1;if(mr){var _h;if(mr){var xh="oninput"in document;if(!xh){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),xh=typeof _m.oninput=="function"}_h=xh}else _h=!1;vm=_h&&(!document.documentMode||9<document.documentMode)}function xm(){Ta&&(Ta.detachEvent("onpropertychange",bm),Sa=Ta=null)}function bm(i){if(i.propertyName==="value"&&Yl(Sa)){var n=[];gm(n,Sa,i,hh(i)),nm(T1,n)}}function S1(i,n,l){i==="focusin"?(xm(),Ta=n,Sa=l,Ta.attachEvent("onpropertychange",bm)):i==="focusout"&&xm()}function A1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Yl(Sa)}function w1(i,n){if(i==="click")return Yl(n)}function R1(i,n){if(i==="input"||i==="change")return Yl(n)}function C1(i,n){return i===n&&(i!==0||1/i===1/n)||i!==i&&n!==n}var ti=typeof Object.is=="function"?Object.is:C1;function Aa(i,n){if(ti(i,n))return!0;if(typeof i!="object"||i===null||typeof n!="object"||n===null)return!1;var l=Object.keys(i),u=Object.keys(n);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!xt.call(n,f)||!ti(i[f],n[f]))return!1}return!0}function Em(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Tm(i,n){var l=Em(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=n&&u>=n)return{node:l,offset:n-i};i=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Em(l)}}function Sm(i,n){return i&&n?i===n?!0:i&&i.nodeType===3?!1:n&&n.nodeType===3?Sm(i,n.parentNode):"contains"in i?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&16):!1:!1}function Am(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var n=kl(i.document);n instanceof i.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)i=n.contentWindow;else break;n=kl(i.document)}return n}function bh(i){var n=i&&i.nodeName&&i.nodeName.toLowerCase();return n&&(n==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||n==="textarea"||i.contentEditable==="true")}var M1=mr&&"documentMode"in document&&11>=document.documentMode,vs=null,Eh=null,wa=null,Th=!1;function wm(i,n,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Th||vs==null||vs!==kl(u)||(u=vs,"selectionStart"in u&&bh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wa&&Aa(wa,u)||(wa=u,u=Io(Eh,"onSelect"),0<u.length&&(n=new jl("onSelect","select",null,n,l),i.push({event:n,listeners:u}),n.target=vs)))}function In(i,n){var l={};return l[i.toLowerCase()]=n.toLowerCase(),l["Webkit"+i]="webkit"+n,l["Moz"+i]="moz"+n,l}var _s={animationend:In("Animation","AnimationEnd"),animationiteration:In("Animation","AnimationIteration"),animationstart:In("Animation","AnimationStart"),transitionrun:In("Transition","TransitionRun"),transitionstart:In("Transition","TransitionStart"),transitioncancel:In("Transition","TransitionCancel"),transitionend:In("Transition","TransitionEnd")},Sh={},Rm={};mr&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Nn(i){if(Sh[i])return Sh[i];if(!_s[i])return i;var n=_s[i],l;for(l in n)if(n.hasOwnProperty(l)&&l in Rm)return Sh[i]=n[l];return i}var Cm=Nn("animationend"),Mm=Nn("animationiteration"),Dm=Nn("animationstart"),D1=Nn("transitionrun"),O1=Nn("transitionstart"),B1=Nn("transitioncancel"),Om=Nn("transitionend"),Bm=new Map,Ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ah.push("scrollEnd");function wi(i,n){Bm.set(i,n),fr(n,[i])}var Im=new WeakMap;function fi(i,n){if(typeof i=="object"&&i!==null){var l=Im.get(i);return l!==void 0?l:(n={value:i,source:n,stack:Wp(n)},Im.set(i,n),n)}return{value:i,source:n,stack:Wp(n)}}var di=[],xs=0,wh=0;function $l(){for(var i=xs,n=wh=xs=0;n<i;){var l=di[n];di[n++]=null;var u=di[n];di[n++]=null;var f=di[n];di[n++]=null;var m=di[n];if(di[n++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}m!==0&&Nm(l,f,m)}}function Wl(i,n,l,u){di[xs++]=i,di[xs++]=n,di[xs++]=l,di[xs++]=u,wh|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Rh(i,n,l,u){return Wl(i,n,l,u),Zl(i)}function bs(i,n){return Wl(i,null,null,n),Zl(i)}function Nm(i,n,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var f=!1,m=i.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&n!==null&&(f=31-Se(l),i=m.hiddenUpdates,u=i[f],u===null?i[f]=[n]:u.push(n),n.lane=l|536870912),m):null}function Zl(i){if(50<Ka)throw Ka=0,Ic=null,Error(r(185));for(var n=i.return;n!==null;)i=n,n=i.return;return i.tag===3?i.stateNode:null}var Es={};function I1(i,n,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(i,n,l,u){return new I1(i,n,l,u)}function Ch(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gr(i,n){var l=i.alternate;return l===null?(l=ei(i.tag,n,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=n,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,n=i.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Pm(i,n){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,n=l.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),i}function Kl(i,n,l,u,f,m){var b=0;if(u=i,typeof i=="function")Ch(i)&&(b=1);else if(typeof i=="string")b=PE(i,l,$.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case Z:return i=ei(31,l,n,f),i.elementType=Z,i.lanes=m,i;case x:return Pn(l.children,f,m,n);case A:b=8,f|=24;break;case S:return i=ei(12,l,n,f|2),i.elementType=S,i.lanes=m,i;case R:return i=ei(13,l,n,f),i.elementType=R,i.lanes=m,i;case k:return i=ei(19,l,n,f),i.elementType=k,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case B:b=10;break t;case I:b=9;break t;case P:b=11;break t;case M:b=14;break t;case z:b=16,u=null;break t}b=29,l=Error(r(130,i===null?"null":typeof i,"")),u=null}return n=ei(b,l,n,f),n.elementType=i,n.type=u,n.lanes=m,n}function Pn(i,n,l,u){return i=ei(7,i,u,n),i.lanes=l,i}function Mh(i,n,l){return i=ei(6,i,null,n),i.lanes=l,i}function Dh(i,n,l){return n=ei(4,i.children!==null?i.children:[],i.key,n),n.lanes=l,n.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},n}var Ts=[],Ss=0,Ql=null,Jl=0,pi=[],mi=0,Un=null,yr=1,vr="";function Ln(i,n){Ts[Ss++]=Jl,Ts[Ss++]=Ql,Ql=i,Jl=n}function Um(i,n,l){pi[mi++]=yr,pi[mi++]=vr,pi[mi++]=Un,Un=i;var u=yr;i=vr;var f=32-Se(u)-1;u&=~(1<<f),l+=1;var m=32-Se(n)+f;if(30<m){var b=f-f%5;m=(u&(1<<b)-1).toString(32),u>>=b,f-=b,yr=1<<32-Se(n)+f|l<<f|u,vr=m+i}else yr=1<<m|l<<f|u,vr=i}function Oh(i){i.return!==null&&(Ln(i,1),Um(i,1,0))}function Bh(i){for(;i===Ql;)Ql=Ts[--Ss],Ts[Ss]=null,Jl=Ts[--Ss],Ts[Ss]=null;for(;i===Un;)Un=pi[--mi],pi[mi]=null,vr=pi[--mi],pi[mi]=null,yr=pi[--mi],pi[mi]=null}var je=null,pe=null,Zt=!1,Fn=null,Xi=!1,Ih=Error(r(519));function Gn(i){var n=Error(r(418,""));throw Ma(fi(n,i)),Ih}function Lm(i){var n=i.stateNode,l=i.type,u=i.memoizedProps;switch(n[Ae]=i,n[xe]=u,l){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(l=0;l<Ja.length;l++)Xt(Ja[l],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":Xt("invalid",n),Qp(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Gl(n);break;case"select":Xt("invalid",n);break;case"textarea":Xt("invalid",n),tm(n,u.value,u.defaultValue,u.children),Gl(n)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||u.suppressHydrationWarning===!0||tv(n.textContent,l)?(u.popover!=null&&(Xt("beforetoggle",n),Xt("toggle",n)),u.onScroll!=null&&Xt("scroll",n),u.onScrollEnd!=null&&Xt("scrollend",n),u.onClick!=null&&(n.onclick=No),n=!0):n=!1,n||Gn(i)}function Fm(i){for(je=i.return;je;)switch(je.tag){case 5:case 13:Xi=!1;return;case 27:case 3:Xi=!0;return;default:je=je.return}}function Ra(i){if(i!==je)return!1;if(!Zt)return Fm(i),Zt=!0,!1;var n=i.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Wc(i.type,i.memoizedProps)),l=!l),l&&pe&&Gn(i),Fm(i),n===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,n=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(n===0){pe=Ci(i.nextSibling);break t}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;i=i.nextSibling}pe=null}}else n===27?(n=pe,cn(i.type)?(i=Jc,Jc=null,pe=i):pe=n):pe=je?Ci(i.stateNode.nextSibling):null;return!0}function Ca(){pe=je=null,Zt=!1}function Gm(){var i=Fn;return i!==null&&(Qe===null?Qe=i:Qe.push.apply(Qe,i),Fn=null),i}function Ma(i){Fn===null?Fn=[i]:Fn.push(i)}var Nh=N(null),kn=null,_r=null;function Wr(i,n,l){L(Nh,n._currentValue),n._currentValue=l}function xr(i){i._currentValue=Nh.current,F(Nh)}function Ph(i,n,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&n)!==n?(i.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),i===l)break;i=i.return}}function Uh(i,n,l,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;t:for(;m!==null;){var C=m;m=f;for(var U=0;U<n.length;U++)if(C.context===n[U]){m.lanes|=l,C=m.alternate,C!==null&&(C.lanes|=l),Ph(m.return,l,i),u||(b=null);break t}m=C.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=l,m=b.alternate,m!==null&&(m.lanes|=l),Ph(b,l,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Da(i,n,l,u){i=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var C=f.type;ti(f.pendingProps.value,b.value)||(i!==null?i.push(C):i=[C])}}else if(f===ft.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(sl):i=[sl])}f=f.return}i!==null&&Uh(n,i,l,u),n.flags|=262144}function to(i){for(i=i.firstContext;i!==null;){if(!ti(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Hn(i){kn=i,_r=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return km(kn,i)}function eo(i,n){return kn===null&&Hn(i),km(i,n)}function km(i,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},_r===null){if(i===null)throw Error(r(308));_r=n,i.dependencies={lanes:0,firstContext:n},i.flags|=524288}else _r=_r.next=n;return l}var N1=typeof AbortController<"u"?AbortController:function(){var i=[],n=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){n.aborted=!0,i.forEach(function(l){return l()})}},P1=s.unstable_scheduleCallback,U1=s.unstable_NormalPriority,we={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lh(){return{controller:new N1,data:new Map,refCount:0}}function Oa(i){i.refCount--,i.refCount===0&&P1(U1,function(){i.controller.abort()})}var Ba=null,Fh=0,As=0,ws=null;function L1(i,n){if(Ba===null){var l=Ba=[];Fh=0,As=kc(),ws={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Fh++,n.then(Hm,Hm),n}function Hm(){if(--Fh===0&&Ba!==null){ws!==null&&(ws.status="fulfilled");var i=Ba;Ba=null,As=0,ws=null;for(var n=0;n<i.length;n++)(0,i[n])()}}function F1(i,n){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return i.then(function(){u.status="fulfilled",u.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var zm=w.S;w.S=function(i,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&L1(i,n),zm!==null&&zm(i,n)};var zn=N(null);function Gh(){var i=zn.current;return i!==null?i:se.pooledCache}function io(i,n){n===null?L(zn,zn.current):L(zn,n.pool)}function Xm(){var i=Gh();return i===null?null:{parent:we._currentValue,pool:i}}var Ia=Error(r(460)),Vm=Error(r(474)),ro=Error(r(542)),kh={then:function(){}};function jm(i){return i=i.status,i==="fulfilled"||i==="rejected"}function no(){}function qm(i,n,l){switch(l=i[l],l===void 0?i.push(n):l!==n&&(n.then(no,no),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,$m(i),i;default:if(typeof n.status=="string")n.then(no,no);else{if(i=se,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=n,i.status="pending",i.then(function(u){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=u}},function(u){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw i=n.reason,$m(i),i}throw Na=n,Ia}}var Na=null;function Ym(){if(Na===null)throw Error(r(459));var i=Na;return Na=null,i}function $m(i){if(i===Ia||i===ro)throw Error(r(483))}var Zr=!1;function Hh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(i,n){i=i.updateQueue,n.updateQueue===i&&(n.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Kr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Qr(i,n,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Qt&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,n=Zl(i),Nm(i,null,l),n}return Wl(i,u,n,l),Zl(i)}function Pa(i,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var u=n.lanes;u&=i.pendingLanes,l|=u,n.lanes=l,Si(i,l)}}function Xh(i,n){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,l=l.next}while(l!==null);m===null?f=m=n:m=m.next=n}else f=m=n;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=n:i.next=n,l.lastBaseUpdate=n}var Vh=!1;function Ua(){if(Vh){var i=ws;if(i!==null)throw i}}function La(i,n,l,u){Vh=!1;var f=i.updateQueue;Zr=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var U=C,q=U.next;U.next=null,b===null?m=q:b.next=q,b=U;var nt=i.alternate;nt!==null&&(nt=nt.updateQueue,C=nt.lastBaseUpdate,C!==b&&(C===null?nt.firstBaseUpdate=q:C.next=q,nt.lastBaseUpdate=U))}if(m!==null){var ot=f.baseState;b=0,nt=q=U=null,C=m;do{var W=C.lane&-536870913,K=W!==C.lane;if(K?(jt&W)===W:(u&W)===W){W!==0&&W===As&&(Vh=!0),nt!==null&&(nt=nt.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var It=i,Ct=C;W=n;var re=l;switch(Ct.tag){case 1:if(It=Ct.payload,typeof It=="function"){ot=It.call(re,ot,W);break t}ot=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Ct.payload,W=typeof It=="function"?It.call(re,ot,W):It,W==null)break t;ot=g({},ot,W);break t;case 2:Zr=!0}}W=C.callback,W!==null&&(i.flags|=64,K&&(i.flags|=8192),K=f.callbacks,K===null?f.callbacks=[W]:K.push(W))}else K={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},nt===null?(q=nt=K,U=ot):nt=nt.next=K,b|=W;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;K=C,C=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);nt===null&&(U=ot),f.baseState=U,f.firstBaseUpdate=q,f.lastBaseUpdate=nt,m===null&&(f.shared.lanes=0),ln|=b,i.lanes=b,i.memoizedState=ot}}function Wm(i,n){if(typeof i!="function")throw Error(r(191,i));i.call(n)}function Zm(i,n){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Wm(l[i],n)}var Rs=N(null),so=N(0);function Km(i,n){i=Rr,L(so,i),L(Rs,n),Rr=i|n.baseLanes}function jh(){L(so,Rr),L(Rs,Rs.current)}function qh(){Rr=so.current,F(Rs),F(so)}var Jr=0,kt=null,ee=null,be=null,ao=!1,Cs=!1,Xn=!1,lo=0,Fa=0,Ms=null,G1=0;function ye(){throw Error(r(321))}function Yh(i,n){if(n===null)return!1;for(var l=0;l<n.length&&l<i.length;l++)if(!ti(i[l],n[l]))return!1;return!0}function $h(i,n,l,u,f,m){return Jr=m,kt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,w.H=i===null||i.memoizedState===null?Ng:Pg,Xn=!1,m=l(u,f),Xn=!1,Cs&&(m=Jm(n,l,u,f)),Qm(i),m}function Qm(i){w.H=po;var n=ee!==null&&ee.next!==null;if(Jr=0,be=ee=kt=null,ao=!1,Fa=0,Ms=null,n)throw Error(r(300));i===null||Me||(i=i.dependencies,i!==null&&to(i)&&(Me=!0))}function Jm(i,n,l,u){kt=i;var f=0;do{if(Cs&&(Ms=null),Fa=0,Cs=!1,25<=f)throw Error(r(301));if(f+=1,be=ee=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}w.H=q1,m=n(l,u)}while(Cs);return m}function k1(){var i=w.H,n=i.useState()[0];return n=typeof n.then=="function"?Ga(n):n,i=i.useState()[0],(ee!==null?ee.memoizedState:null)!==i&&(kt.flags|=1024),n}function Wh(){var i=lo!==0;return lo=0,i}function Zh(i,n,l){n.updateQueue=i.updateQueue,n.flags&=-2053,i.lanes&=~l}function Kh(i){if(ao){for(i=i.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}ao=!1}Jr=0,be=ee=kt=null,Cs=!1,Fa=lo=0,Ms=null}function Ze(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?kt.memoizedState=be=i:be=be.next=i,be}function Ee(){if(ee===null){var i=kt.alternate;i=i!==null?i.memoizedState:null}else i=ee.next;var n=be===null?kt.memoizedState:be.next;if(n!==null)be=n,ee=i;else{if(i===null)throw kt.alternate===null?Error(r(467)):Error(r(310));ee=i,i={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},be===null?kt.memoizedState=be=i:be=be.next=i}return be}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ga(i){var n=Fa;return Fa+=1,Ms===null&&(Ms=[]),i=qm(Ms,i,n),n=kt,(be===null?n.memoizedState:be.next)===null&&(n=n.alternate,w.H=n===null||n.memoizedState===null?Ng:Pg),i}function oo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ga(i);if(i.$$typeof===B)return Xe(i)}throw Error(r(438,String(i)))}function Jh(i){var n=null,l=kt.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var u=kt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Qh(),kt.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(i),u=0;u<i;u++)l[u]=rt;return n.index++,l}function br(i,n){return typeof n=="function"?n(i):n}function uo(i){var n=Ee();return tc(n,ee,i)}function tc(i,n,l){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var f=i.baseQueue,m=u.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}n.baseQueue=f=m,u.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{n=f.next;var C=b=null,U=null,q=n,nt=!1;do{var ot=q.lane&-536870913;if(ot!==q.lane?(jt&ot)===ot:(Jr&ot)===ot){var W=q.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ot===As&&(nt=!0);else if((Jr&W)===W){q=q.next,W===As&&(nt=!0);continue}else ot={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},U===null?(C=U=ot,b=m):U=U.next=ot,kt.lanes|=W,ln|=W;ot=q.action,Xn&&l(m,ot),m=q.hasEagerState?q.eagerState:l(m,ot)}else W={lane:ot,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},U===null?(C=U=W,b=m):U=U.next=W,kt.lanes|=ot,ln|=ot;q=q.next}while(q!==null&&q!==n);if(U===null?b=m:U.next=C,!ti(m,i.memoizedState)&&(Me=!0,nt&&(l=ws,l!==null)))throw l;i.memoizedState=m,i.baseState=b,i.baseQueue=U,u.lastRenderedState=m}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function ec(i){var n=Ee(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=l.dispatch,f=l.pending,m=n.memoizedState;if(f!==null){l.pending=null;var b=f=f.next;do m=i(m,b.action),b=b.next;while(b!==f);ti(m,n.memoizedState)||(Me=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,u]}function tg(i,n,l){var u=kt,f=Ee(),m=Zt;if(m){if(l===void 0)throw Error(r(407));l=l()}else l=n();var b=!ti((ee||f).memoizedState,l);b&&(f.memoizedState=l,Me=!0),f=f.queue;var C=rg.bind(null,u,f,i);if(ka(2048,8,C,[i]),f.getSnapshot!==n||b||be!==null&&be.memoizedState.tag&1){if(u.flags|=2048,Ds(9,ho(),ig.bind(null,u,f,l,n),null),se===null)throw Error(r(349));m||(Jr&124)!==0||eg(u,n,l)}return l}function eg(i,n,l){i.flags|=16384,i={getSnapshot:n,value:l},n=kt.updateQueue,n===null?(n=Qh(),kt.updateQueue=n,n.stores=[i]):(l=n.stores,l===null?n.stores=[i]:l.push(i))}function ig(i,n,l,u){n.value=l,n.getSnapshot=u,ng(n)&&sg(i)}function rg(i,n,l){return l(function(){ng(n)&&sg(i)})}function ng(i){var n=i.getSnapshot;i=i.value;try{var l=n();return!ti(i,l)}catch{return!0}}function sg(i){var n=bs(i,2);n!==null&&ai(n,i,2)}function ic(i){var n=Ze();if(typeof i=="function"){var l=i;if(i=l(),Xn){Gi(!0);try{l()}finally{Gi(!1)}}}return n.memoizedState=n.baseState=i,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:i},n}function ag(i,n,l,u){return i.baseState=l,tc(i,ee,typeof u=="function"?u:br)}function H1(i,n,l,u,f){if(fo(i))throw Error(r(485));if(i=n.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};w.T!==null?l(!0):m.isTransition=!1,u(m),l=n.pending,l===null?(m.next=n.pending=m,lg(n,m)):(m.next=l.next,n.pending=l.next=m)}}function lg(i,n){var l=n.action,u=n.payload,f=i.state;if(n.isTransition){var m=w.T,b={};w.T=b;try{var C=l(f,u),U=w.S;U!==null&&U(b,C),og(i,n,C)}catch(q){rc(i,n,q)}finally{w.T=m}}else try{m=l(f,u),og(i,n,m)}catch(q){rc(i,n,q)}}function og(i,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){ug(i,n,u)},function(u){return rc(i,n,u)}):ug(i,n,l)}function ug(i,n,l){n.status="fulfilled",n.value=l,hg(n),i.state=l,n=i.pending,n!==null&&(l=n.next,l===n?i.pending=null:(l=l.next,n.next=l,lg(i,l)))}function rc(i,n,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=l,hg(n),n=n.next;while(n!==u)}i.action=null}function hg(i){i=i.listeners;for(var n=0;n<i.length;n++)(0,i[n])()}function cg(i,n){return n}function fg(i,n){if(Zt){var l=se.formState;if(l!==null){t:{var u=kt;if(Zt){if(pe){e:{for(var f=pe,m=Xi;f.nodeType!==8;){if(!m){f=null;break e}if(f=Ci(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){pe=Ci(f.nextSibling),u=f.data==="F!";break t}}Gn(u)}u=!1}u&&(n=l[0])}}return l=Ze(),l.memoizedState=l.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},l.queue=u,l=Og.bind(null,kt,u),u.dispatch=l,u=ic(!1),m=oc.bind(null,kt,!1,u.queue),u=Ze(),f={state:n,dispatch:null,action:i,pending:null},u.queue=f,l=H1.bind(null,kt,f,m,l),f.dispatch=l,u.memoizedState=i,[n,l,!1]}function dg(i){var n=Ee();return pg(n,ee,i)}function pg(i,n,l){if(n=tc(i,n,cg)[0],i=uo(br)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Ga(n)}catch(b){throw b===Ia?ro:b}else u=n;n=Ee();var f=n.queue,m=f.dispatch;return l!==n.memoizedState&&(kt.flags|=2048,Ds(9,ho(),z1.bind(null,f,l),null)),[u,m,i]}function z1(i,n){i.action=n}function mg(i){var n=Ee(),l=ee;if(l!==null)return pg(n,l,i);Ee(),n=n.memoizedState,l=Ee();var u=l.queue.dispatch;return l.memoizedState=i,[n,u,!1]}function Ds(i,n,l,u){return i={tag:i,create:l,deps:u,inst:n,next:null},n=kt.updateQueue,n===null&&(n=Qh(),kt.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,n.lastEffect=i),i}function ho(){return{destroy:void 0,resource:void 0}}function gg(){return Ee().memoizedState}function co(i,n,l,u){var f=Ze();u=u===void 0?null:u,kt.flags|=i,f.memoizedState=Ds(1|n,ho(),l,u)}function ka(i,n,l,u){var f=Ee();u=u===void 0?null:u;var m=f.memoizedState.inst;ee!==null&&u!==null&&Yh(u,ee.memoizedState.deps)?f.memoizedState=Ds(n,m,l,u):(kt.flags|=i,f.memoizedState=Ds(1|n,m,l,u))}function yg(i,n){co(8390656,8,i,n)}function vg(i,n){ka(2048,8,i,n)}function _g(i,n){return ka(4,2,i,n)}function xg(i,n){return ka(4,4,i,n)}function bg(i,n){if(typeof n=="function"){i=i();var l=n(i);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return i=i(),n.current=i,function(){n.current=null}}function Eg(i,n,l){l=l!=null?l.concat([i]):null,ka(4,4,bg.bind(null,n,i),l)}function nc(){}function Tg(i,n){var l=Ee();n=n===void 0?null:n;var u=l.memoizedState;return n!==null&&Yh(n,u[1])?u[0]:(l.memoizedState=[i,n],i)}function Sg(i,n){var l=Ee();n=n===void 0?null:n;var u=l.memoizedState;if(n!==null&&Yh(n,u[1]))return u[0];if(u=i(),Xn){Gi(!0);try{i()}finally{Gi(!1)}}return l.memoizedState=[u,n],u}function sc(i,n,l){return l===void 0||(Jr&1073741824)!==0?i.memoizedState=n:(i.memoizedState=l,i=Ry(),kt.lanes|=i,ln|=i,l)}function Ag(i,n,l,u){return ti(l,n)?l:Rs.current!==null?(i=sc(i,l,u),ti(i,n)||(Me=!0),i):(Jr&42)===0?(Me=!0,i.memoizedState=l):(i=Ry(),kt.lanes|=i,ln|=i,n)}function wg(i,n,l,u,f){var m=D.p;D.p=m!==0&&8>m?m:8;var b=w.T,C={};w.T=C,oc(i,!1,n,l);try{var U=f(),q=w.S;if(q!==null&&q(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var nt=F1(U,u);Ha(i,n,nt,si(i))}else Ha(i,n,u,si(i))}catch(ot){Ha(i,n,{then:function(){},status:"rejected",reason:ot},si())}finally{D.p=m,w.T=b}}function X1(){}function ac(i,n,l,u){if(i.tag!==5)throw Error(r(476));var f=Rg(i).queue;wg(i,f,n,O,l===null?X1:function(){return Cg(i),l(u)})}function Rg(i){var n=i.memoizedState;if(n!==null)return n;n={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:O},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:l},next:null},i.memoizedState=n,i=i.alternate,i!==null&&(i.memoizedState=n),n}function Cg(i){var n=Rg(i).next.queue;Ha(i,n,{},si())}function lc(){return Xe(sl)}function Mg(){return Ee().memoizedState}function Dg(){return Ee().memoizedState}function V1(i){for(var n=i.return;n!==null;){switch(n.tag){case 24:case 3:var l=si();i=Kr(l);var u=Qr(n,i,l);u!==null&&(ai(u,n,l),Pa(u,n,l)),n={cache:Lh()},i.payload=n;return}n=n.return}}function j1(i,n,l){var u=si();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},fo(i)?Bg(n,l):(l=Rh(i,n,l,u),l!==null&&(ai(l,i,u),Ig(l,n,u)))}function Og(i,n,l){var u=si();Ha(i,n,l,u)}function Ha(i,n,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(fo(i))Bg(n,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,C=m(b,l);if(f.hasEagerState=!0,f.eagerState=C,ti(C,b))return Wl(i,n,f,0),se===null&&$l(),!1}catch{}finally{}if(l=Rh(i,n,f,u),l!==null)return ai(l,i,u),Ig(l,n,u),!0}return!1}function oc(i,n,l,u){if(u={lane:2,revertLane:kc(),action:u,hasEagerState:!1,eagerState:null,next:null},fo(i)){if(n)throw Error(r(479))}else n=Rh(i,l,u,2),n!==null&&ai(n,i,2)}function fo(i){var n=i.alternate;return i===kt||n!==null&&n===kt}function Bg(i,n){Cs=ao=!0;var l=i.pending;l===null?n.next=n:(n.next=l.next,l.next=n),i.pending=n}function Ig(i,n,l){if((l&4194048)!==0){var u=n.lanes;u&=i.pendingLanes,l|=u,n.lanes=l,Si(i,l)}}var po={readContext:Xe,use:oo,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye},Ng={readContext:Xe,use:oo,useCallback:function(i,n){return Ze().memoizedState=[i,n===void 0?null:n],i},useContext:Xe,useEffect:yg,useImperativeHandle:function(i,n,l){l=l!=null?l.concat([i]):null,co(4194308,4,bg.bind(null,n,i),l)},useLayoutEffect:function(i,n){return co(4194308,4,i,n)},useInsertionEffect:function(i,n){co(4,2,i,n)},useMemo:function(i,n){var l=Ze();n=n===void 0?null:n;var u=i();if(Xn){Gi(!0);try{i()}finally{Gi(!1)}}return l.memoizedState=[u,n],u},useReducer:function(i,n,l){var u=Ze();if(l!==void 0){var f=l(n);if(Xn){Gi(!0);try{l(n)}finally{Gi(!1)}}}else f=n;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=j1.bind(null,kt,i),[u.memoizedState,i]},useRef:function(i){var n=Ze();return i={current:i},n.memoizedState=i},useState:function(i){i=ic(i);var n=i.queue,l=Og.bind(null,kt,n);return n.dispatch=l,[i.memoizedState,l]},useDebugValue:nc,useDeferredValue:function(i,n){var l=Ze();return sc(l,i,n)},useTransition:function(){var i=ic(!1);return i=wg.bind(null,kt,i.queue,!0,!1),Ze().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,n,l){var u=kt,f=Ze();if(Zt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=n(),se===null)throw Error(r(349));(jt&124)!==0||eg(u,n,l)}f.memoizedState=l;var m={value:l,getSnapshot:n};return f.queue=m,yg(rg.bind(null,u,m,i),[i]),u.flags|=2048,Ds(9,ho(),ig.bind(null,u,m,l,n),null),l},useId:function(){var i=Ze(),n=se.identifierPrefix;if(Zt){var l=vr,u=yr;l=(u&~(1<<32-Se(u)-1)).toString(32)+l,n="«"+n+"R"+l,l=lo++,0<l&&(n+="H"+l.toString(32)),n+="»"}else l=G1++,n="«"+n+"r"+l.toString(32)+"»";return i.memoizedState=n},useHostTransitionStatus:lc,useFormState:fg,useActionState:fg,useOptimistic:function(i){var n=Ze();n.memoizedState=n.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=oc.bind(null,kt,!0,l),l.dispatch=n,[i,n]},useMemoCache:Jh,useCacheRefresh:function(){return Ze().memoizedState=V1.bind(null,kt)}},Pg={readContext:Xe,use:oo,useCallback:Tg,useContext:Xe,useEffect:vg,useImperativeHandle:Eg,useInsertionEffect:_g,useLayoutEffect:xg,useMemo:Sg,useReducer:uo,useRef:gg,useState:function(){return uo(br)},useDebugValue:nc,useDeferredValue:function(i,n){var l=Ee();return Ag(l,ee.memoizedState,i,n)},useTransition:function(){var i=uo(br)[0],n=Ee().memoizedState;return[typeof i=="boolean"?i:Ga(i),n]},useSyncExternalStore:tg,useId:Mg,useHostTransitionStatus:lc,useFormState:dg,useActionState:dg,useOptimistic:function(i,n){var l=Ee();return ag(l,ee,i,n)},useMemoCache:Jh,useCacheRefresh:Dg},q1={readContext:Xe,use:oo,useCallback:Tg,useContext:Xe,useEffect:vg,useImperativeHandle:Eg,useInsertionEffect:_g,useLayoutEffect:xg,useMemo:Sg,useReducer:ec,useRef:gg,useState:function(){return ec(br)},useDebugValue:nc,useDeferredValue:function(i,n){var l=Ee();return ee===null?sc(l,i,n):Ag(l,ee.memoizedState,i,n)},useTransition:function(){var i=ec(br)[0],n=Ee().memoizedState;return[typeof i=="boolean"?i:Ga(i),n]},useSyncExternalStore:tg,useId:Mg,useHostTransitionStatus:lc,useFormState:mg,useActionState:mg,useOptimistic:function(i,n){var l=Ee();return ee!==null?ag(l,ee,i,n):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Jh,useCacheRefresh:Dg},Os=null,za=0;function mo(i){var n=za;return za+=1,Os===null&&(Os=[]),qm(Os,i,n)}function Xa(i,n){n=n.props.ref,i.ref=n!==void 0?n:null}function go(i,n){throw n.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(n),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":i)))}function Ug(i){var n=i._init;return n(i._payload)}function Lg(i){function n(V,H){if(i){var j=V.deletions;j===null?(V.deletions=[H],V.flags|=16):j.push(H)}}function l(V,H){if(!i)return null;for(;H!==null;)n(V,H),H=H.sibling;return null}function u(V){for(var H=new Map;V!==null;)V.key!==null?H.set(V.key,V):H.set(V.index,V),V=V.sibling;return H}function f(V,H){return V=gr(V,H),V.index=0,V.sibling=null,V}function m(V,H,j){return V.index=j,i?(j=V.alternate,j!==null?(j=j.index,j<H?(V.flags|=67108866,H):j):(V.flags|=67108866,H)):(V.flags|=1048576,H)}function b(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function C(V,H,j,at){return H===null||H.tag!==6?(H=Mh(j,V.mode,at),H.return=V,H):(H=f(H,j),H.return=V,H)}function U(V,H,j,at){var _t=j.type;return _t===x?nt(V,H,j.props.children,at,j.key):H!==null&&(H.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===z&&Ug(_t)===H.type)?(H=f(H,j.props),Xa(H,j),H.return=V,H):(H=Kl(j.type,j.key,j.props,null,V.mode,at),Xa(H,j),H.return=V,H)}function q(V,H,j,at){return H===null||H.tag!==4||H.stateNode.containerInfo!==j.containerInfo||H.stateNode.implementation!==j.implementation?(H=Dh(j,V.mode,at),H.return=V,H):(H=f(H,j.children||[]),H.return=V,H)}function nt(V,H,j,at,_t){return H===null||H.tag!==7?(H=Pn(j,V.mode,at,_t),H.return=V,H):(H=f(H,j),H.return=V,H)}function ot(V,H,j){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Mh(""+H,V.mode,j),H.return=V,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return j=Kl(H.type,H.key,H.props,null,V.mode,j),Xa(j,H),j.return=V,j;case _:return H=Dh(H,V.mode,j),H.return=V,H;case z:var at=H._init;return H=at(H._payload),ot(V,H,j)}if(dt(H)||G(H))return H=Pn(H,V.mode,j,null),H.return=V,H;if(typeof H.then=="function")return ot(V,mo(H),j);if(H.$$typeof===B)return ot(V,eo(V,H),j);go(V,H)}return null}function W(V,H,j,at){var _t=H!==null?H.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _t!==null?null:C(V,H,""+j,at);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case v:return j.key===_t?U(V,H,j,at):null;case _:return j.key===_t?q(V,H,j,at):null;case z:return _t=j._init,j=_t(j._payload),W(V,H,j,at)}if(dt(j)||G(j))return _t!==null?null:nt(V,H,j,at,null);if(typeof j.then=="function")return W(V,H,mo(j),at);if(j.$$typeof===B)return W(V,H,eo(V,j),at);go(V,j)}return null}function K(V,H,j,at,_t){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return V=V.get(j)||null,C(H,V,""+at,_t);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case v:return V=V.get(at.key===null?j:at.key)||null,U(H,V,at,_t);case _:return V=V.get(at.key===null?j:at.key)||null,q(H,V,at,_t);case z:var Ht=at._init;return at=Ht(at._payload),K(V,H,j,at,_t)}if(dt(at)||G(at))return V=V.get(j)||null,nt(H,V,at,_t,null);if(typeof at.then=="function")return K(V,H,j,mo(at),_t);if(at.$$typeof===B)return K(V,H,j,eo(H,at),_t);go(H,at)}return null}function It(V,H,j,at){for(var _t=null,Ht=null,wt=H,Mt=H=0,Oe=null;wt!==null&&Mt<j.length;Mt++){wt.index>Mt?(Oe=wt,wt=null):Oe=wt.sibling;var Wt=W(V,wt,j[Mt],at);if(Wt===null){wt===null&&(wt=Oe);break}i&&wt&&Wt.alternate===null&&n(V,wt),H=m(Wt,H,Mt),Ht===null?_t=Wt:Ht.sibling=Wt,Ht=Wt,wt=Oe}if(Mt===j.length)return l(V,wt),Zt&&Ln(V,Mt),_t;if(wt===null){for(;Mt<j.length;Mt++)wt=ot(V,j[Mt],at),wt!==null&&(H=m(wt,H,Mt),Ht===null?_t=wt:Ht.sibling=wt,Ht=wt);return Zt&&Ln(V,Mt),_t}for(wt=u(wt);Mt<j.length;Mt++)Oe=K(wt,V,Mt,j[Mt],at),Oe!==null&&(i&&Oe.alternate!==null&&wt.delete(Oe.key===null?Mt:Oe.key),H=m(Oe,H,Mt),Ht===null?_t=Oe:Ht.sibling=Oe,Ht=Oe);return i&&wt.forEach(function(gn){return n(V,gn)}),Zt&&Ln(V,Mt),_t}function Ct(V,H,j,at){if(j==null)throw Error(r(151));for(var _t=null,Ht=null,wt=H,Mt=H=0,Oe=null,Wt=j.next();wt!==null&&!Wt.done;Mt++,Wt=j.next()){wt.index>Mt?(Oe=wt,wt=null):Oe=wt.sibling;var gn=W(V,wt,Wt.value,at);if(gn===null){wt===null&&(wt=Oe);break}i&&wt&&gn.alternate===null&&n(V,wt),H=m(gn,H,Mt),Ht===null?_t=gn:Ht.sibling=gn,Ht=gn,wt=Oe}if(Wt.done)return l(V,wt),Zt&&Ln(V,Mt),_t;if(wt===null){for(;!Wt.done;Mt++,Wt=j.next())Wt=ot(V,Wt.value,at),Wt!==null&&(H=m(Wt,H,Mt),Ht===null?_t=Wt:Ht.sibling=Wt,Ht=Wt);return Zt&&Ln(V,Mt),_t}for(wt=u(wt);!Wt.done;Mt++,Wt=j.next())Wt=K(wt,V,Mt,Wt.value,at),Wt!==null&&(i&&Wt.alternate!==null&&wt.delete(Wt.key===null?Mt:Wt.key),H=m(Wt,H,Mt),Ht===null?_t=Wt:Ht.sibling=Wt,Ht=Wt);return i&&wt.forEach(function(YE){return n(V,YE)}),Zt&&Ln(V,Mt),_t}function re(V,H,j,at){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case v:t:{for(var _t=j.key;H!==null;){if(H.key===_t){if(_t=j.type,_t===x){if(H.tag===7){l(V,H.sibling),at=f(H,j.props.children),at.return=V,V=at;break t}}else if(H.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===z&&Ug(_t)===H.type){l(V,H.sibling),at=f(H,j.props),Xa(at,j),at.return=V,V=at;break t}l(V,H);break}else n(V,H);H=H.sibling}j.type===x?(at=Pn(j.props.children,V.mode,at,j.key),at.return=V,V=at):(at=Kl(j.type,j.key,j.props,null,V.mode,at),Xa(at,j),at.return=V,V=at)}return b(V);case _:t:{for(_t=j.key;H!==null;){if(H.key===_t)if(H.tag===4&&H.stateNode.containerInfo===j.containerInfo&&H.stateNode.implementation===j.implementation){l(V,H.sibling),at=f(H,j.children||[]),at.return=V,V=at;break t}else{l(V,H);break}else n(V,H);H=H.sibling}at=Dh(j,V.mode,at),at.return=V,V=at}return b(V);case z:return _t=j._init,j=_t(j._payload),re(V,H,j,at)}if(dt(j))return It(V,H,j,at);if(G(j)){if(_t=G(j),typeof _t!="function")throw Error(r(150));return j=_t.call(j),Ct(V,H,j,at)}if(typeof j.then=="function")return re(V,H,mo(j),at);if(j.$$typeof===B)return re(V,H,eo(V,j),at);go(V,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,H!==null&&H.tag===6?(l(V,H.sibling),at=f(H,j),at.return=V,V=at):(l(V,H),at=Mh(j,V.mode,at),at.return=V,V=at),b(V)):l(V,H)}return function(V,H,j,at){try{za=0;var _t=re(V,H,j,at);return Os=null,_t}catch(wt){if(wt===Ia||wt===ro)throw wt;var Ht=ei(29,wt,null,V.mode);return Ht.lanes=at,Ht.return=V,Ht}finally{}}}var Bs=Lg(!0),Fg=Lg(!1),gi=N(null),Vi=null;function tn(i){var n=i.alternate;L(Re,Re.current&1),L(gi,i),Vi===null&&(n===null||Rs.current!==null||n.memoizedState!==null)&&(Vi=i)}function Gg(i){if(i.tag===22){if(L(Re,Re.current),L(gi,i),Vi===null){var n=i.alternate;n!==null&&n.memoizedState!==null&&(Vi=i)}}else en()}function en(){L(Re,Re.current),L(gi,gi.current)}function Er(i){F(gi),Vi===i&&(Vi=null),F(Re)}var Re=N(0);function yo(i){for(var n=i;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Qc(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function uc(i,n,l,u){n=i.memoizedState,l=l(u,n),l=l==null?n:g({},n,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var hc={enqueueSetState:function(i,n,l){i=i._reactInternals;var u=si(),f=Kr(u);f.payload=n,l!=null&&(f.callback=l),n=Qr(i,f,u),n!==null&&(ai(n,i,u),Pa(n,i,u))},enqueueReplaceState:function(i,n,l){i=i._reactInternals;var u=si(),f=Kr(u);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=Qr(i,f,u),n!==null&&(ai(n,i,u),Pa(n,i,u))},enqueueForceUpdate:function(i,n){i=i._reactInternals;var l=si(),u=Kr(l);u.tag=2,n!=null&&(u.callback=n),n=Qr(i,u,l),n!==null&&(ai(n,i,l),Pa(n,i,l))}};function kg(i,n,l,u,f,m,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,b):n.prototype&&n.prototype.isPureReactComponent?!Aa(l,u)||!Aa(f,m):!0}function Hg(i,n,l,u){i=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,u),n.state!==i&&hc.enqueueReplaceState(n,n.state,null)}function Vn(i,n){var l=n;if("ref"in n){l={};for(var u in n)u!=="ref"&&(l[u]=n[u])}if(i=i.defaultProps){l===n&&(l=g({},l));for(var f in i)l[f]===void 0&&(l[f]=i[f])}return l}var vo=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function zg(i){vo(i)}function Xg(i){console.error(i)}function Vg(i){vo(i)}function _o(i,n){try{var l=i.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function jg(i,n,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cc(i,n,l){return l=Kr(l),l.tag=3,l.payload={element:null},l.callback=function(){_o(i,n)},l}function qg(i){return i=Kr(i),i.tag=3,i}function Yg(i,n,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;i.payload=function(){return f(m)},i.callback=function(){jg(n,l,u)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){jg(n,l,u),typeof f!="function"&&(on===null?on=new Set([this]):on.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function Y1(i,n,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=l.alternate,n!==null&&Da(n,l,f,!0),l=gi.current,l!==null){switch(l.tag){case 13:return Vi===null?Pc():l.alternate===null&&me===0&&(me=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===kh?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([u]):n.add(u),Lc(i,u,f)),!1;case 22:return l.flags|=65536,u===kh?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([u]):l.add(u)),Lc(i,u,f)),!1}throw Error(r(435,l.tag))}return Lc(i,u,f),Pc(),!1}if(Zt)return n=gi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,u!==Ih&&(i=Error(r(422),{cause:u}),Ma(fi(i,l)))):(u!==Ih&&(n=Error(r(423),{cause:u}),Ma(fi(n,l))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=fi(u,l),f=cc(i.stateNode,u,f),Xh(i,f),me!==4&&(me=2)),!1;var m=Error(r(520),{cause:u});if(m=fi(m,l),Za===null?Za=[m]:Za.push(m),me!==4&&(me=2),n===null)return!0;u=fi(u,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,i=f&-f,l.lanes|=i,i=cc(l.stateNode,u,i),Xh(l,i),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(on===null||!on.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=qg(f),Yg(f,i,l,u),Xh(l,f),!1}l=l.return}while(l!==null);return!1}var $g=Error(r(461)),Me=!1;function Ne(i,n,l,u){n.child=i===null?Fg(n,null,l,u):Bs(n,i.child,l,u)}function Wg(i,n,l,u,f){l=l.render;var m=n.ref;if("ref"in u){var b={};for(var C in u)C!=="ref"&&(b[C]=u[C])}else b=u;return Hn(n),u=$h(i,n,l,b,m,f),C=Wh(),i!==null&&!Me?(Zh(i,n,f),Tr(i,n,f)):(Zt&&C&&Oh(n),n.flags|=1,Ne(i,n,u,f),n.child)}function Zg(i,n,l,u,f){if(i===null){var m=l.type;return typeof m=="function"&&!Ch(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,Kg(i,n,m,u,f)):(i=Kl(l.type,null,u,n,n.mode,f),i.ref=n.ref,i.return=n,n.child=i)}if(m=i.child,!_c(i,f)){var b=m.memoizedProps;if(l=l.compare,l=l!==null?l:Aa,l(b,u)&&i.ref===n.ref)return Tr(i,n,f)}return n.flags|=1,i=gr(m,u),i.ref=n.ref,i.return=n,n.child=i}function Kg(i,n,l,u,f){if(i!==null){var m=i.memoizedProps;if(Aa(m,u)&&i.ref===n.ref)if(Me=!1,n.pendingProps=u=m,_c(i,f))(i.flags&131072)!==0&&(Me=!0);else return n.lanes=i.lanes,Tr(i,n,f)}return fc(i,n,l,u,f)}function Qg(i,n,l){var u=n.pendingProps,f=u.children,m=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=m!==null?m.baseLanes|l:l,i!==null){for(f=n.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;n.childLanes=m&~u}else n.childLanes=0,n.child=null;return Jg(i,n,u,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},i!==null&&io(n,m!==null?m.cachePool:null),m!==null?Km(n,m):jh(),Gg(n);else return n.lanes=n.childLanes=536870912,Jg(i,n,m!==null?m.baseLanes|l:l,l)}else m!==null?(io(n,m.cachePool),Km(n,m),en(),n.memoizedState=null):(i!==null&&io(n,null),jh(),en());return Ne(i,n,f,l),n.child}function Jg(i,n,l,u){var f=Gh();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:l,cachePool:f},i!==null&&io(n,null),jh(),Gg(n),i!==null&&Da(i,n,u,!0),null}function xo(i,n){var l=n.ref;if(l===null)i!==null&&i.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(n.flags|=4194816)}}function fc(i,n,l,u,f){return Hn(n),l=$h(i,n,l,u,void 0,f),u=Wh(),i!==null&&!Me?(Zh(i,n,f),Tr(i,n,f)):(Zt&&u&&Oh(n),n.flags|=1,Ne(i,n,l,f),n.child)}function ty(i,n,l,u,f,m){return Hn(n),n.updateQueue=null,l=Jm(n,u,l,f),Qm(i),u=Wh(),i!==null&&!Me?(Zh(i,n,m),Tr(i,n,m)):(Zt&&u&&Oh(n),n.flags|=1,Ne(i,n,l,m),n.child)}function ey(i,n,l,u,f){if(Hn(n),n.stateNode===null){var m=Es,b=l.contextType;typeof b=="object"&&b!==null&&(m=Xe(b)),m=new l(u,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hc,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=u,m.state=n.memoizedState,m.refs={},Hh(n),b=l.contextType,m.context=typeof b=="object"&&b!==null?Xe(b):Es,m.state=n.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(uc(n,l,b,u),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&hc.enqueueReplaceState(m,m.state,null),La(n,u,m,f),Ua(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(i===null){m=n.stateNode;var C=n.memoizedProps,U=Vn(l,C);m.props=U;var q=m.context,nt=l.contextType;b=Es,typeof nt=="object"&&nt!==null&&(b=Xe(nt));var ot=l.getDerivedStateFromProps;nt=typeof ot=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=n.pendingProps!==C,nt||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||q!==b)&&Hg(n,m,u,b),Zr=!1;var W=n.memoizedState;m.state=W,La(n,u,m,f),Ua(),q=n.memoizedState,C||W!==q||Zr?(typeof ot=="function"&&(uc(n,l,ot,u),q=n.memoizedState),(U=Zr||kg(n,l,U,u,W,q,b))?(nt||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=q),m.props=u,m.state=q,m.context=b,u=U):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{m=n.stateNode,zh(i,n),b=n.memoizedProps,nt=Vn(l,b),m.props=nt,ot=n.pendingProps,W=m.context,q=l.contextType,U=Es,typeof q=="object"&&q!==null&&(U=Xe(q)),C=l.getDerivedStateFromProps,(q=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ot||W!==U)&&Hg(n,m,u,U),Zr=!1,W=n.memoizedState,m.state=W,La(n,u,m,f),Ua();var K=n.memoizedState;b!==ot||W!==K||Zr||i!==null&&i.dependencies!==null&&to(i.dependencies)?(typeof C=="function"&&(uc(n,l,C,u),K=n.memoizedState),(nt=Zr||kg(n,l,nt,u,W,K,U)||i!==null&&i.dependencies!==null&&to(i.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,K,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,K,U)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=K),m.props=u,m.state=K,m.context=U,u=nt):(typeof m.componentDidUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&W===i.memoizedState||(n.flags|=1024),u=!1)}return m=u,xo(i,n),u=(n.flags&128)!==0,m||u?(m=n.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,i!==null&&u?(n.child=Bs(n,i.child,null,f),n.child=Bs(n,null,l,f)):Ne(i,n,l,f),n.memoizedState=m.state,i=n.child):i=Tr(i,n,f),i}function iy(i,n,l,u){return Ca(),n.flags|=256,Ne(i,n,l,u),n.child}var dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pc(i){return{baseLanes:i,cachePool:Xm()}}function mc(i,n,l){return i=i!==null?i.childLanes&~l:0,n&&(i|=yi),i}function ry(i,n,l){var u=n.pendingProps,f=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=i!==null&&i.memoizedState===null?!1:(Re.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,i===null){if(Zt){if(f?tn(n):en(),Zt){var C=pe,U;if(U=C){t:{for(U=C,C=Xi;U.nodeType!==8;){if(!C){C=null;break t}if(U=Ci(U.nextSibling),U===null){C=null;break t}}C=U}C!==null?(n.memoizedState={dehydrated:C,treeContext:Un!==null?{id:yr,overflow:vr}:null,retryLane:536870912,hydrationErrors:null},U=ei(18,null,null,0),U.stateNode=C,U.return=n,n.child=U,je=n,pe=null,U=!0):U=!1}U||Gn(n)}if(C=n.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Qc(C)?n.lanes=32:n.lanes=536870912,null;Er(n)}return C=u.children,u=u.fallback,f?(en(),f=n.mode,C=bo({mode:"hidden",children:C},f),u=Pn(u,f,l,null),C.return=n,u.return=n,C.sibling=u,n.child=C,f=n.child,f.memoizedState=pc(l),f.childLanes=mc(i,b,l),n.memoizedState=dc,u):(tn(n),gc(n,C))}if(U=i.memoizedState,U!==null&&(C=U.dehydrated,C!==null)){if(m)n.flags&256?(tn(n),n.flags&=-257,n=yc(i,n,l)):n.memoizedState!==null?(en(),n.child=i.child,n.flags|=128,n=null):(en(),f=u.fallback,C=n.mode,u=bo({mode:"visible",children:u.children},C),f=Pn(f,C,l,null),f.flags|=2,u.return=n,f.return=n,u.sibling=f,n.child=u,Bs(n,i.child,null,l),u=n.child,u.memoizedState=pc(l),u.childLanes=mc(i,b,l),n.memoizedState=dc,n=f);else if(tn(n),Qc(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var q=b.dgst;b=q,u=Error(r(419)),u.stack="",u.digest=b,Ma({value:u,source:null,stack:null}),n=yc(i,n,l)}else if(Me||Da(i,n,l,!1),b=(l&i.childLanes)!==0,Me||b){if(b=se,b!==null&&(u=l&-l,u=(u&42)!==0?1:Mn(u),u=(u&(b.suspendedLanes|l))!==0?0:u,u!==0&&u!==U.retryLane))throw U.retryLane=u,bs(i,u),ai(b,i,u),$g;C.data==="$?"||Pc(),n=yc(i,n,l)}else C.data==="$?"?(n.flags|=192,n.child=i.child,n=null):(i=U.treeContext,pe=Ci(C.nextSibling),je=n,Zt=!0,Fn=null,Xi=!1,i!==null&&(pi[mi++]=yr,pi[mi++]=vr,pi[mi++]=Un,yr=i.id,vr=i.overflow,Un=n),n=gc(n,u.children),n.flags|=4096);return n}return f?(en(),f=u.fallback,C=n.mode,U=i.child,q=U.sibling,u=gr(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,q!==null?f=gr(q,f):(f=Pn(f,C,l,null),f.flags|=2),f.return=n,u.return=n,u.sibling=f,n.child=u,u=f,f=n.child,C=i.child.memoizedState,C===null?C=pc(l):(U=C.cachePool,U!==null?(q=we._currentValue,U=U.parent!==q?{parent:q,pool:q}:U):U=Xm(),C={baseLanes:C.baseLanes|l,cachePool:U}),f.memoizedState=C,f.childLanes=mc(i,b,l),n.memoizedState=dc,u):(tn(n),l=i.child,i=l.sibling,l=gr(l,{mode:"visible",children:u.children}),l.return=n,l.sibling=null,i!==null&&(b=n.deletions,b===null?(n.deletions=[i],n.flags|=16):b.push(i)),n.child=l,n.memoizedState=null,l)}function gc(i,n){return n=bo({mode:"visible",children:n},i.mode),n.return=i,i.child=n}function bo(i,n){return i=ei(22,i,null,n),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function yc(i,n,l){return Bs(n,i.child,null,l),i=gc(n,n.pendingProps.children),i.flags|=2,n.memoizedState=null,i}function ny(i,n,l){i.lanes|=n;var u=i.alternate;u!==null&&(u.lanes|=n),Ph(i.return,n,l)}function vc(i,n,l,u,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=f)}function sy(i,n,l){var u=n.pendingProps,f=u.revealOrder,m=u.tail;if(Ne(i,n,u.children,l),u=Re.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=n.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ny(i,l,n);else if(i.tag===19)ny(i,l,n);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(L(Re,u),f){case"forwards":for(l=n.child,f=null;l!==null;)i=l.alternate,i!==null&&yo(i)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),vc(n,!1,f,l,m);break;case"backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(i=f.alternate,i!==null&&yo(i)===null){n.child=f;break}i=f.sibling,f.sibling=l,l=f,f=i}vc(n,!0,l,null,m);break;case"together":vc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Tr(i,n,l){if(i!==null&&(n.dependencies=i.dependencies),ln|=n.lanes,(l&n.childLanes)===0)if(i!==null){if(Da(i,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(i!==null&&n.child!==i.child)throw Error(r(153));if(n.child!==null){for(i=n.child,l=gr(i,i.pendingProps),n.child=l,l.return=n;i.sibling!==null;)i=i.sibling,l=l.sibling=gr(i,i.pendingProps),l.return=n;l.sibling=null}return n.child}function _c(i,n){return(i.lanes&n)!==0?!0:(i=i.dependencies,!!(i!==null&&to(i)))}function $1(i,n,l){switch(n.tag){case 3:ct(n,n.stateNode.containerInfo),Wr(n,we,i.memoizedState.cache),Ca();break;case 27:case 5:ut(n);break;case 4:ct(n,n.stateNode.containerInfo);break;case 10:Wr(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(tn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?ry(i,n,l):(tn(n),i=Tr(i,n,l),i!==null?i.sibling:null);tn(n);break;case 19:var f=(i.flags&128)!==0;if(u=(l&n.childLanes)!==0,u||(Da(i,n,l,!1),u=(l&n.childLanes)!==0),f){if(u)return sy(i,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),L(Re,Re.current),u)break;return null;case 22:case 23:return n.lanes=0,Qg(i,n,l);case 24:Wr(n,we,i.memoizedState.cache)}return Tr(i,n,l)}function ay(i,n,l){if(i!==null)if(i.memoizedProps!==n.pendingProps)Me=!0;else{if(!_c(i,l)&&(n.flags&128)===0)return Me=!1,$1(i,n,l);Me=(i.flags&131072)!==0}else Me=!1,Zt&&(n.flags&1048576)!==0&&Um(n,Jl,n.index);switch(n.lanes=0,n.tag){case 16:t:{i=n.pendingProps;var u=n.elementType,f=u._init;if(u=f(u._payload),n.type=u,typeof u=="function")Ch(u)?(i=Vn(u,i),n.tag=1,n=ey(null,n,u,i,l)):(n.tag=0,n=fc(null,n,u,i,l));else{if(u!=null){if(f=u.$$typeof,f===P){n.tag=11,n=Wg(null,n,u,i,l);break t}else if(f===M){n.tag=14,n=Zg(null,n,u,i,l);break t}}throw n=et(u)||u,Error(r(306,n,""))}}return n;case 0:return fc(i,n,n.type,n.pendingProps,l);case 1:return u=n.type,f=Vn(u,n.pendingProps),ey(i,n,u,f,l);case 3:t:{if(ct(n,n.stateNode.containerInfo),i===null)throw Error(r(387));u=n.pendingProps;var m=n.memoizedState;f=m.element,zh(i,n),La(n,u,null,l);var b=n.memoizedState;if(u=b.cache,Wr(n,we,u),u!==m.cache&&Uh(n,[we],l,!0),Ua(),u=b.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=iy(i,n,u,l);break t}else if(u!==f){f=fi(Error(r(424)),n),Ma(f),n=iy(i,n,u,l);break t}else{switch(i=n.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pe=Ci(i.firstChild),je=n,Zt=!0,Fn=null,Xi=!0,l=Fg(n,null,u,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ca(),u===f){n=Tr(i,n,l);break t}Ne(i,n,u,l)}n=n.child}return n;case 26:return xo(i,n),i===null?(l=hv(n.type,null,n.pendingProps,null))?n.memoizedState=l:Zt||(l=n.type,i=n.pendingProps,u=Po(lt.current).createElement(l),u[Ae]=n,u[xe]=i,Ue(u,l,i),de(u),n.stateNode=u):n.memoizedState=hv(n.type,i.memoizedProps,n.pendingProps,i.memoizedState),null;case 27:return ut(n),i===null&&Zt&&(u=n.stateNode=lv(n.type,n.pendingProps,lt.current),je=n,Xi=!0,f=pe,cn(n.type)?(Jc=f,pe=Ci(u.firstChild)):pe=f),Ne(i,n,n.pendingProps.children,l),xo(i,n),i===null&&(n.flags|=4194304),n.child;case 5:return i===null&&Zt&&((f=u=pe)&&(u=EE(u,n.type,n.pendingProps,Xi),u!==null?(n.stateNode=u,je=n,pe=Ci(u.firstChild),Xi=!1,f=!0):f=!1),f||Gn(n)),ut(n),f=n.type,m=n.pendingProps,b=i!==null?i.memoizedProps:null,u=m.children,Wc(f,m)?u=null:b!==null&&Wc(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=$h(i,n,k1,null,null,l),sl._currentValue=f),xo(i,n),Ne(i,n,u,l),n.child;case 6:return i===null&&Zt&&((i=l=pe)&&(l=TE(l,n.pendingProps,Xi),l!==null?(n.stateNode=l,je=n,pe=null,i=!0):i=!1),i||Gn(n)),null;case 13:return ry(i,n,l);case 4:return ct(n,n.stateNode.containerInfo),u=n.pendingProps,i===null?n.child=Bs(n,null,u,l):Ne(i,n,u,l),n.child;case 11:return Wg(i,n,n.type,n.pendingProps,l);case 7:return Ne(i,n,n.pendingProps,l),n.child;case 8:return Ne(i,n,n.pendingProps.children,l),n.child;case 12:return Ne(i,n,n.pendingProps.children,l),n.child;case 10:return u=n.pendingProps,Wr(n,n.type,u.value),Ne(i,n,u.children,l),n.child;case 9:return f=n.type._context,u=n.pendingProps.children,Hn(n),f=Xe(f),u=u(f),n.flags|=1,Ne(i,n,u,l),n.child;case 14:return Zg(i,n,n.type,n.pendingProps,l);case 15:return Kg(i,n,n.type,n.pendingProps,l);case 19:return sy(i,n,l);case 31:return u=n.pendingProps,l=n.mode,u={mode:u.mode,children:u.children},i===null?(l=bo(u,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=gr(i.child,u),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return Qg(i,n,l);case 24:return Hn(n),u=Xe(we),i===null?(f=Gh(),f===null&&(f=se,m=Lh(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),n.memoizedState={parent:u,cache:f},Hh(n),Wr(n,we,f)):((i.lanes&l)!==0&&(zh(i,n),La(n,null,null,l),Ua()),f=i.memoizedState,m=n.memoizedState,f.parent!==u?(f={parent:u,cache:u},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Wr(n,we,u)):(u=m.cache,Wr(n,we,u),u!==f.cache&&Uh(n,[we],l,!0))),Ne(i,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Sr(i){i.flags|=4}function ly(i,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!mv(n)){if(n=gi.current,n!==null&&((jt&4194048)===jt?Vi!==null:(jt&62914560)!==jt&&(jt&536870912)===0||n!==Vi))throw Na=kh,Vm;i.flags|=8192}}function Eo(i,n){n!==null&&(i.flags|=4),i.flags&16384&&(n=i.tag!==22?te():536870912,i.lanes|=n,Us|=n)}function Va(i,n){if(!Zt)switch(i.tailMode){case"hidden":n=i.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?n||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ue(i){var n=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(n)for(var f=i.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=l,n}function W1(i,n,l){var u=n.pendingProps;switch(Bh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return l=n.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),xr(we),yt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ra(n)?Sr(n):i===null||i.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gm())),ue(n),null;case 26:return l=n.memoizedState,i===null?(Sr(n),l!==null?(ue(n),ly(n,l)):(ue(n),n.flags&=-16777217)):l?l!==i.memoizedState?(Sr(n),ue(n),ly(n,l)):(ue(n),n.flags&=-16777217):(i.memoizedProps!==u&&Sr(n),ue(n),n.flags&=-16777217),null;case 27:vt(n),l=lt.current;var f=n.type;if(i!==null&&n.stateNode!=null)i.memoizedProps!==u&&Sr(n);else{if(!u){if(n.stateNode===null)throw Error(r(166));return ue(n),null}i=$.current,Ra(n)?Lm(n):(i=lv(f,u,l),n.stateNode=i,Sr(n))}return ue(n),null;case 5:if(vt(n),l=n.type,i!==null&&n.stateNode!=null)i.memoizedProps!==u&&Sr(n);else{if(!u){if(n.stateNode===null)throw Error(r(166));return ue(n),null}if(i=$.current,Ra(n))Lm(n);else{switch(f=Po(lt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}i[Ae]=n,i[xe]=u;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=i;t:switch(Ue(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Sr(n)}}return ue(n),n.flags&=-16777217,null;case 6:if(i&&n.stateNode!=null)i.memoizedProps!==u&&Sr(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(i=lt.current,Ra(n)){if(i=n.stateNode,l=n.memoizedProps,u=null,f=je,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ae]=n,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||tv(i.nodeValue,l)),i||Gn(n)}else i=Po(i).createTextNode(u),i[Ae]=n,n.stateNode=i}return ue(n),null;case 13:if(u=n.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ra(n),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ae]=n}else Ca(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),f=!1}else f=Gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Er(n),n):(Er(n),null)}if(Er(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=n.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return l!==i&&l&&(n.child.flags|=8192),Eo(n,n.updateQueue),ue(n),null;case 4:return yt(),i===null&&Vc(n.stateNode.containerInfo),ue(n),null;case 10:return xr(n.type),ue(n),null;case 19:if(F(Re),f=n.memoizedState,f===null)return ue(n),null;if(u=(n.flags&128)!==0,m=f.rendering,m===null)if(u)Va(f,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=n.child;i!==null;){if(m=yo(i),m!==null){for(n.flags|=128,Va(f,!1),i=m.updateQueue,n.updateQueue=i,Eo(n,i),n.subtreeFlags=0,i=l,l=n.child;l!==null;)Pm(l,i),l=l.sibling;return L(Re,Re.current&1|2),n.child}i=i.sibling}f.tail!==null&&$t()>Ao&&(n.flags|=128,u=!0,Va(f,!1),n.lanes=4194304)}else{if(!u)if(i=yo(m),i!==null){if(n.flags|=128,u=!0,i=i.updateQueue,n.updateQueue=i,Eo(n,i),Va(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Zt)return ue(n),null}else 2*$t()-f.renderingStartTime>Ao&&l!==536870912&&(n.flags|=128,u=!0,Va(f,!1),n.lanes=4194304);f.isBackwards?(m.sibling=n.child,n.child=m):(i=f.last,i!==null?i.sibling=m:n.child=m,f.last=m)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=$t(),n.sibling=null,i=Re.current,L(Re,u?i&1|2:i&1),n):(ue(n),null);case 22:case 23:return Er(n),qh(),u=n.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(l&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),l=n.updateQueue,l!==null&&Eo(n,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==l&&(n.flags|=2048),i!==null&&F(zn),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xr(we),ue(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Z1(i,n){switch(Bh(n),n.tag){case 1:return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 3:return xr(we),yt(),i=n.flags,(i&65536)!==0&&(i&128)===0?(n.flags=i&-65537|128,n):null;case 26:case 27:case 5:return vt(n),null;case 13:if(Er(n),i=n.memoizedState,i!==null&&i.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ca()}return i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 19:return F(Re),null;case 4:return yt(),null;case 10:return xr(n.type),null;case 22:case 23:return Er(n),qh(),i!==null&&F(zn),i=n.flags,i&65536?(n.flags=i&-65537|128,n):null;case 24:return xr(we),null;case 25:return null;default:return null}}function oy(i,n){switch(Bh(n),n.tag){case 3:xr(we),yt();break;case 26:case 27:case 5:vt(n);break;case 4:yt();break;case 13:Er(n);break;case 19:F(Re);break;case 10:xr(n.type);break;case 22:case 23:Er(n),qh(),i!==null&&F(zn);break;case 24:xr(we)}}function ja(i,n){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&i)===i){u=void 0;var m=l.create,b=l.inst;u=m(),b.destroy=u}l=l.next}while(l!==f)}}catch(C){ne(n,n.return,C)}}function rn(i,n,l){try{var u=n.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){var b=u.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,f=n;var U=l,q=C;try{q()}catch(nt){ne(f,U,nt)}}}u=u.next}while(u!==m)}}catch(nt){ne(n,n.return,nt)}}function uy(i){var n=i.updateQueue;if(n!==null){var l=i.stateNode;try{Zm(n,l)}catch(u){ne(i,i.return,u)}}}function hy(i,n,l){l.props=Vn(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){ne(i,n,u)}}function qa(i,n){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(f){ne(i,n,f)}}function ji(i,n){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){ne(i,n,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){ne(i,n,f)}else l.current=null}function cy(i){var n=i.type,l=i.memoizedProps,u=i.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){ne(i,i.return,f)}}function xc(i,n,l){try{var u=i.stateNode;yE(u,i.type,l,n),u[xe]=n}catch(f){ne(i,i.return,f)}}function fy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&cn(i.type)||i.tag===4}function bc(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||fy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&cn(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ec(i,n,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(i),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=No));else if(u!==4&&(u===27&&cn(i.type)&&(l=i.stateNode,n=null),i=i.child,i!==null))for(Ec(i,n,l),i=i.sibling;i!==null;)Ec(i,n,l),i=i.sibling}function To(i,n,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,n?l.insertBefore(i,n):l.appendChild(i);else if(u!==4&&(u===27&&cn(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(To(i,n,l),i=i.sibling;i!==null;)To(i,n,l),i=i.sibling}function dy(i){var n=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Ue(n,u,l),n[Ae]=i,n[xe]=l}catch(m){ne(i,i.return,m)}}var Ar=!1,ve=!1,Tc=!1,py=typeof WeakSet=="function"?WeakSet:Set,De=null;function K1(i,n){if(i=i.containerInfo,Yc=Ho,i=Am(i),bh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break t}var b=0,C=-1,U=-1,q=0,nt=0,ot=i,W=null;e:for(;;){for(var K;ot!==l||f!==0&&ot.nodeType!==3||(C=b+f),ot!==m||u!==0&&ot.nodeType!==3||(U=b+u),ot.nodeType===3&&(b+=ot.nodeValue.length),(K=ot.firstChild)!==null;)W=ot,ot=K;for(;;){if(ot===i)break e;if(W===l&&++q===f&&(C=b),W===m&&++nt===u&&(U=b),(K=ot.nextSibling)!==null)break;ot=W,W=ot.parentNode}ot=K}l=C===-1||U===-1?null:{start:C,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for($c={focusedElem:i,selectionRange:l},Ho=!1,De=n;De!==null;)if(n=De,i=n.child,(n.subtreeFlags&1024)!==0&&i!==null)i.return=n,De=i;else for(;De!==null;){switch(n=De,m=n.alternate,i=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,l=n,f=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var It=Vn(l.type,f,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(It,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ct){ne(l,l.return,Ct)}}break;case 3:if((i&1024)!==0){if(i=n.stateNode.containerInfo,l=i.nodeType,l===9)Kc(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Kc(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=n.sibling,i!==null){i.return=n.return,De=i;break}De=n.return}}function my(i,n,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:nn(i,l),u&4&&ja(5,l);break;case 1:if(nn(i,l),u&4)if(i=l.stateNode,n===null)try{i.componentDidMount()}catch(b){ne(l,l.return,b)}else{var f=Vn(l.type,n.memoizedProps);n=n.memoizedState;try{i.componentDidUpdate(f,n,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ne(l,l.return,b)}}u&64&&uy(l),u&512&&qa(l,l.return);break;case 3:if(nn(i,l),u&64&&(i=l.updateQueue,i!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Zm(i,n)}catch(b){ne(l,l.return,b)}}break;case 27:n===null&&u&4&&dy(l);case 26:case 5:nn(i,l),n===null&&u&4&&cy(l),u&512&&qa(l,l.return);break;case 12:nn(i,l);break;case 13:nn(i,l),u&4&&vy(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=aE.bind(null,l),SE(i,l))));break;case 22:if(u=l.memoizedState!==null||Ar,!u){n=n!==null&&n.memoizedState!==null||ve,f=Ar;var m=ve;Ar=u,(ve=n)&&!m?sn(i,l,(l.subtreeFlags&8772)!==0):nn(i,l),Ar=f,ve=m}break;case 30:break;default:nn(i,l)}}function gy(i){var n=i.alternate;n!==null&&(i.alternate=null,gy(n)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(n=i.stateNode,n!==null&&Dn(n)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var oe=null,Ke=!1;function wr(i,n,l){for(l=l.child;l!==null;)yy(i,n,l),l=l.sibling}function yy(i,n,l){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Cn,l)}catch{}switch(l.tag){case 26:ve||ji(l,n),wr(i,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ve||ji(l,n);var u=oe,f=Ke;cn(l.type)&&(oe=l.stateNode,Ke=!1),wr(i,n,l),el(l.stateNode),oe=u,Ke=f;break;case 5:ve||ji(l,n);case 6:if(u=oe,f=Ke,oe=null,wr(i,n,l),oe=u,Ke=f,oe!==null)if(Ke)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(l.stateNode)}catch(m){ne(l,n,m)}else try{oe.removeChild(l.stateNode)}catch(m){ne(l,n,m)}break;case 18:oe!==null&&(Ke?(i=oe,sv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ul(i)):sv(oe,l.stateNode));break;case 4:u=oe,f=Ke,oe=l.stateNode.containerInfo,Ke=!0,wr(i,n,l),oe=u,Ke=f;break;case 0:case 11:case 14:case 15:ve||rn(2,l,n),ve||rn(4,l,n),wr(i,n,l);break;case 1:ve||(ji(l,n),u=l.stateNode,typeof u.componentWillUnmount=="function"&&hy(l,n,u)),wr(i,n,l);break;case 21:wr(i,n,l);break;case 22:ve=(u=ve)||l.memoizedState!==null,wr(i,n,l),ve=u;break;default:wr(i,n,l)}}function vy(i,n){if(n.memoizedState===null&&(i=n.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ul(i)}catch(l){ne(n,n.return,l)}}function Q1(i){switch(i.tag){case 13:case 19:var n=i.stateNode;return n===null&&(n=i.stateNode=new py),n;case 22:return i=i.stateNode,n=i._retryCache,n===null&&(n=i._retryCache=new py),n;default:throw Error(r(435,i.tag))}}function Sc(i,n){var l=Q1(i);n.forEach(function(u){var f=lE.bind(null,i,u);l.has(u)||(l.add(u),u.then(f,f))})}function ii(i,n){var l=n.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],m=i,b=n,C=b;t:for(;C!==null;){switch(C.tag){case 27:if(cn(C.type)){oe=C.stateNode,Ke=!1;break t}break;case 5:oe=C.stateNode,Ke=!1;break t;case 3:case 4:oe=C.stateNode.containerInfo,Ke=!0;break t}C=C.return}if(oe===null)throw Error(r(160));yy(m,b,f),oe=null,Ke=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)_y(n,i),n=n.sibling}var Ri=null;function _y(i,n){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ii(n,i),ri(i),u&4&&(rn(3,i,i.return),ja(3,i),rn(5,i,i.return));break;case 1:ii(n,i),ri(i),u&512&&(ve||l===null||ji(l,l.return)),u&64&&Ar&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Ri;if(ii(n,i),ri(i),u&512&&(ve||l===null||ji(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){t:{u=i.type,l=i.memoizedProps,f=f.ownerDocument||f;e:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[jr]||m[Ae]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Ue(m,u,l),m[Ae]=i,de(m),u=m;break t;case"link":var b=dv("link","href",f).get(u+(l.href||""));if(b){for(var C=0;C<b.length;C++)if(m=b[C],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(C,1);break e}}m=f.createElement(u),Ue(m,u,l),f.head.appendChild(m);break;case"meta":if(b=dv("meta","content",f).get(u+(l.content||""))){for(C=0;C<b.length;C++)if(m=b[C],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(C,1);break e}}m=f.createElement(u),Ue(m,u,l),f.head.appendChild(m);break;default:throw Error(r(468,u))}m[Ae]=i,de(m),u=m}i.stateNode=u}else pv(f,i.type,i.stateNode);else i.stateNode=fv(f,u,i.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?pv(f,i.type,i.stateNode):fv(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&xc(i,i.memoizedProps,l.memoizedProps)}break;case 27:ii(n,i),ri(i),u&512&&(ve||l===null||ji(l,l.return)),l!==null&&u&4&&xc(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ii(n,i),ri(i),u&512&&(ve||l===null||ji(l,l.return)),i.flags&32){f=i.stateNode;try{ps(f,"")}catch(K){ne(i,i.return,K)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,xc(i,f,l!==null?l.memoizedProps:f)),u&1024&&(Tc=!0);break;case 6:if(ii(n,i),ri(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(K){ne(i,i.return,K)}}break;case 3:if(Fo=null,f=Ri,Ri=Uo(n.containerInfo),ii(n,i),Ri=f,ri(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ul(n.containerInfo)}catch(K){ne(i,i.return,K)}Tc&&(Tc=!1,xy(i));break;case 4:u=Ri,Ri=Uo(i.stateNode.containerInfo),ii(n,i),ri(i),Ri=u;break;case 12:ii(n,i),ri(i);break;case 13:ii(n,i),ri(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Dc=$t()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Sc(i,u)));break;case 22:f=i.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,q=Ar,nt=ve;if(Ar=q||f,ve=nt||U,ii(n,i),ve=nt,Ar=q,ri(i),u&8192)t:for(n=i.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||U||Ar||ve||jn(i)),l=null,n=i;;){if(n.tag===5||n.tag===26){if(l===null){U=l=n;try{if(m=U.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=U.stateNode;var ot=U.memoizedProps.style,W=ot!=null&&ot.hasOwnProperty("display")?ot.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(K){ne(U,U.return,K)}}}else if(n.tag===6){if(l===null){U=n;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(K){ne(U,U.return,K)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===i)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Sc(i,l))));break;case 19:ii(n,i),ri(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Sc(i,u)));break;case 30:break;case 21:break;default:ii(n,i),ri(i)}}function ri(i){var n=i.flags;if(n&2){try{for(var l,u=i.return;u!==null;){if(fy(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var f=l.stateNode,m=bc(i);To(i,m,f);break;case 5:var b=l.stateNode;l.flags&32&&(ps(b,""),l.flags&=-33);var C=bc(i);To(i,C,b);break;case 3:case 4:var U=l.stateNode.containerInfo,q=bc(i);Ec(i,q,U);break;default:throw Error(r(161))}}catch(nt){ne(i,i.return,nt)}i.flags&=-3}n&4096&&(i.flags&=-4097)}function xy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var n=i;xy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),i=i.sibling}}function nn(i,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(i,n.alternate,n),n=n.sibling}function jn(i){for(i=i.child;i!==null;){var n=i;switch(n.tag){case 0:case 11:case 14:case 15:rn(4,n,n.return),jn(n);break;case 1:ji(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&hy(n,n.return,l),jn(n);break;case 27:el(n.stateNode);case 26:case 5:ji(n,n.return),jn(n);break;case 22:n.memoizedState===null&&jn(n);break;case 30:jn(n);break;default:jn(n)}i=i.sibling}}function sn(i,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,f=i,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:sn(f,m,l),ja(4,m);break;case 1:if(sn(f,m,l),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){ne(u,u.return,q)}if(u=m,f=u.updateQueue,f!==null){var C=u.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)Wm(U[f],C)}catch(q){ne(u,u.return,q)}}l&&b&64&&uy(m),qa(m,m.return);break;case 27:dy(m);case 26:case 5:sn(f,m,l),l&&u===null&&b&4&&cy(m),qa(m,m.return);break;case 12:sn(f,m,l);break;case 13:sn(f,m,l),l&&b&4&&vy(f,m);break;case 22:m.memoizedState===null&&sn(f,m,l),qa(m,m.return);break;case 30:break;default:sn(f,m,l)}n=n.sibling}}function Ac(i,n){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Oa(l))}function wc(i,n){i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&Oa(i))}function qi(i,n,l,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(i,n,l,u),n=n.sibling}function by(i,n,l,u){var f=n.flags;switch(n.tag){case 0:case 11:case 15:qi(i,n,l,u),f&2048&&ja(9,n);break;case 1:qi(i,n,l,u);break;case 3:qi(i,n,l,u),f&2048&&(i=null,n.alternate!==null&&(i=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==i&&(n.refCount++,i!=null&&Oa(i)));break;case 12:if(f&2048){qi(i,n,l,u),i=n.stateNode;try{var m=n.memoizedProps,b=m.id,C=m.onPostCommit;typeof C=="function"&&C(b,n.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){ne(n,n.return,U)}}else qi(i,n,l,u);break;case 13:qi(i,n,l,u);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?qi(i,n,l,u):Ya(i,n):m._visibility&2?qi(i,n,l,u):(m._visibility|=2,Is(i,n,l,u,(n.subtreeFlags&10256)!==0)),f&2048&&Ac(b,n);break;case 24:qi(i,n,l,u),f&2048&&wc(n.alternate,n);break;default:qi(i,n,l,u)}}function Is(i,n,l,u,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=i,b=n,C=l,U=u,q=b.flags;switch(b.tag){case 0:case 11:case 15:Is(m,b,C,U,f),ja(8,b);break;case 23:break;case 22:var nt=b.stateNode;b.memoizedState!==null?nt._visibility&2?Is(m,b,C,U,f):Ya(m,b):(nt._visibility|=2,Is(m,b,C,U,f)),f&&q&2048&&Ac(b.alternate,b);break;case 24:Is(m,b,C,U,f),f&&q&2048&&wc(b.alternate,b);break;default:Is(m,b,C,U,f)}n=n.sibling}}function Ya(i,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=i,u=n,f=u.flags;switch(u.tag){case 22:Ya(l,u),f&2048&&Ac(u.alternate,u);break;case 24:Ya(l,u),f&2048&&wc(u.alternate,u);break;default:Ya(l,u)}n=n.sibling}}var $a=8192;function Ns(i){if(i.subtreeFlags&$a)for(i=i.child;i!==null;)Ey(i),i=i.sibling}function Ey(i){switch(i.tag){case 26:Ns(i),i.flags&$a&&i.memoizedState!==null&&LE(Ri,i.memoizedState,i.memoizedProps);break;case 5:Ns(i);break;case 3:case 4:var n=Ri;Ri=Uo(i.stateNode.containerInfo),Ns(i),Ri=n;break;case 22:i.memoizedState===null&&(n=i.alternate,n!==null&&n.memoizedState!==null?(n=$a,$a=16777216,Ns(i),$a=n):Ns(i));break;default:Ns(i)}}function Ty(i){var n=i.alternate;if(n!==null&&(i=n.child,i!==null)){n.child=null;do n=i.sibling,i.sibling=null,i=n;while(i!==null)}}function Wa(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var u=n[l];De=u,Ay(u,i)}Ty(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sy(i),i=i.sibling}function Sy(i){switch(i.tag){case 0:case 11:case 15:Wa(i),i.flags&2048&&rn(9,i,i.return);break;case 3:Wa(i);break;case 12:Wa(i);break;case 22:var n=i.stateNode;i.memoizedState!==null&&n._visibility&2&&(i.return===null||i.return.tag!==13)?(n._visibility&=-3,So(i)):Wa(i);break;default:Wa(i)}}function So(i){var n=i.deletions;if((i.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var u=n[l];De=u,Ay(u,i)}Ty(i)}for(i=i.child;i!==null;){switch(n=i,n.tag){case 0:case 11:case 15:rn(8,n,n.return),So(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,So(n));break;default:So(n)}i=i.sibling}}function Ay(i,n){for(;De!==null;){var l=De;switch(l.tag){case 0:case 11:case 15:rn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Oa(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,De=u;else t:for(l=i;De!==null;){u=De;var f=u.sibling,m=u.return;if(gy(u),u===l){De=null;break t}if(f!==null){f.return=m,De=f;break t}De=m}}}var J1={getCacheForType:function(i){var n=Xe(we),l=n.data.get(i);return l===void 0&&(l=i(),n.data.set(i,l)),l}},tE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,se=null,zt=null,jt=0,Jt=0,ni=null,an=!1,Ps=!1,Rc=!1,Rr=0,me=0,ln=0,qn=0,Cc=0,yi=0,Us=0,Za=null,Qe=null,Mc=!1,Dc=0,Ao=1/0,wo=null,on=null,Pe=0,un=null,Ls=null,Fs=0,Oc=0,Bc=null,wy=null,Ka=0,Ic=null;function si(){if((Qt&2)!==0&&jt!==0)return jt&-jt;if(w.T!==null){var i=As;return i!==0?i:kc()}return $e()}function Ry(){yi===0&&(yi=(jt&536870912)===0||Zt?Kt():536870912);var i=gi.current;return i!==null&&(i.flags|=32),yi}function ai(i,n,l){(i===se&&(Jt===2||Jt===9)||i.cancelPendingCommit!==null)&&(Gs(i,0),hn(i,jt,yi,!1)),Ye(i,l),((Qt&2)===0||i!==se)&&(i===se&&((Qt&2)===0&&(qn|=l),me===4&&hn(i,jt,yi,!1)),Yi(i))}function Cy(i,n,l){if((Qt&6)!==0)throw Error(r(327));var u=!l&&(n&124)===0&&(n&i.expiredLanes)===0||Q(i,n),f=u?rE(i,n):Uc(i,n,!0),m=u;do{if(f===0){Ps&&!u&&hn(i,n,0,!1);break}else{if(l=i.current.alternate,m&&!eE(l)){f=Uc(i,n,!1),m=!1;continue}if(f===2){if(m=n,i.errorRecoveryDisabledLanes&m)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;t:{var C=i;f=Za;var U=C.current.memoizedState.isDehydrated;if(U&&(Gs(C,b).flags|=256),b=Uc(C,b,!1),b!==2){if(Rc&&!U){C.errorRecoveryDisabledLanes|=m,qn|=m,f=4;break t}m=Qe,Qe=f,m!==null&&(Qe===null?Qe=m:Qe.push.apply(Qe,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){Gs(i,0),hn(i,n,0,!0);break}t:{switch(u=i,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:hn(u,n,yi,!an);break t;case 2:Qe=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(f=Dc+300-$t(),10<f)){if(hn(u,n,yi,!an),Y(u,0,!0)!==0)break t;u.timeoutHandle=rv(My.bind(null,u,l,Qe,wo,Mc,n,yi,qn,Us,an,m,2,-0,0),f);break t}My(u,l,Qe,wo,Mc,n,yi,qn,Us,an,m,0,-0,0)}}break}while(!0);Yi(i)}function My(i,n,l,u,f,m,b,C,U,q,nt,ot,W,K){if(i.timeoutHandle=-1,ot=n.subtreeFlags,(ot&8192||(ot&16785408)===16785408)&&(nl={stylesheets:null,count:0,unsuspend:UE},Ey(n),ot=FE(),ot!==null)){i.cancelPendingCommit=ot(Uy.bind(null,i,n,m,l,u,f,b,C,U,nt,1,W,K)),hn(i,m,b,!q);return}Uy(i,n,m,l,u,f,b,C,U)}function eE(i){for(var n=i;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],m=f.getSnapshot;f=f.value;try{if(!ti(m(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===i)break;for(;n.sibling===null;){if(n.return===null||n.return===i)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hn(i,n,l,u){n&=~Cc,n&=~qn,i.suspendedLanes|=n,i.pingedLanes&=~n,u&&(i.warmLanes|=n),u=i.expirationTimes;for(var f=n;0<f;){var m=31-Se(f),b=1<<m;u[m]=-1,f&=~b}l!==0&&ze(i,l,n)}function Ro(){return(Qt&6)===0?(Qa(0),!1):!0}function Nc(){if(zt!==null){if(Jt===0)var i=zt.return;else i=zt,_r=kn=null,Kh(i),Os=null,za=0,i=zt;for(;i!==null;)oy(i.alternate,i),i=i.return;zt=null}}function Gs(i,n){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,_E(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Nc(),se=i,zt=l=gr(i.current,null),jt=n,Jt=0,ni=null,an=!1,Ps=Q(i,n),Rc=!1,Us=yi=Cc=qn=ln=me=0,Qe=Za=null,Mc=!1,(n&8)!==0&&(n|=n&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=n;0<u;){var f=31-Se(u),m=1<<f;n|=i[f],u&=~m}return Rr=n,$l(),l}function Dy(i,n){kt=null,w.H=po,n===Ia||n===ro?(n=Ym(),Jt=3):n===Vm?(n=Ym(),Jt=4):Jt=n===$g?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ni=n,zt===null&&(me=1,_o(i,fi(n,i.current)))}function Oy(){var i=w.H;return w.H=po,i===null?po:i}function By(){var i=w.A;return w.A=J1,i}function Pc(){me=4,an||(jt&4194048)!==jt&&gi.current!==null||(Ps=!0),(ln&134217727)===0&&(qn&134217727)===0||se===null||hn(se,jt,yi,!1)}function Uc(i,n,l){var u=Qt;Qt|=2;var f=Oy(),m=By();(se!==i||jt!==n)&&(wo=null,Gs(i,n)),n=!1;var b=me;t:do try{if(Jt!==0&&zt!==null){var C=zt,U=ni;switch(Jt){case 8:Nc(),b=6;break t;case 3:case 2:case 9:case 6:gi.current===null&&(n=!0);var q=Jt;if(Jt=0,ni=null,ks(i,C,U,q),l&&Ps){b=0;break t}break;default:q=Jt,Jt=0,ni=null,ks(i,C,U,q)}}iE(),b=me;break}catch(nt){Dy(i,nt)}while(!0);return n&&i.shellSuspendCounter++,_r=kn=null,Qt=u,w.H=f,w.A=m,zt===null&&(se=null,jt=0,$l()),b}function iE(){for(;zt!==null;)Iy(zt)}function rE(i,n){var l=Qt;Qt|=2;var u=Oy(),f=By();se!==i||jt!==n?(wo=null,Ao=$t()+500,Gs(i,n)):Ps=Q(i,n);t:do try{if(Jt!==0&&zt!==null){n=zt;var m=ni;e:switch(Jt){case 1:Jt=0,ni=null,ks(i,n,m,1);break;case 2:case 9:if(jm(m)){Jt=0,ni=null,Ny(n);break}n=function(){Jt!==2&&Jt!==9||se!==i||(Jt=7),Yi(i)},m.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:jm(m)?(Jt=0,ni=null,Ny(n)):(Jt=0,ni=null,ks(i,n,m,7));break;case 5:var b=null;switch(zt.tag){case 26:b=zt.memoizedState;case 5:case 27:var C=zt;if(!b||mv(b)){Jt=0,ni=null;var U=C.sibling;if(U!==null)zt=U;else{var q=C.return;q!==null?(zt=q,Co(q)):zt=null}break e}}Jt=0,ni=null,ks(i,n,m,5);break;case 6:Jt=0,ni=null,ks(i,n,m,6);break;case 8:Nc(),me=6;break t;default:throw Error(r(462))}}nE();break}catch(nt){Dy(i,nt)}while(!0);return _r=kn=null,w.H=u,w.A=f,Qt=l,zt!==null?0:(se=null,jt=0,$l(),me)}function nE(){for(;zt!==null&&!Tt();)Iy(zt)}function Iy(i){var n=ay(i.alternate,i,Rr);i.memoizedProps=i.pendingProps,n===null?Co(i):zt=n}function Ny(i){var n=i,l=n.alternate;switch(n.tag){case 15:case 0:n=ty(l,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=ty(l,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:Kh(n);default:oy(l,n),n=zt=Pm(n,Rr),n=ay(l,n,Rr)}i.memoizedProps=i.pendingProps,n===null?Co(i):zt=n}function ks(i,n,l,u){_r=kn=null,Kh(n),Os=null,za=0;var f=n.return;try{if(Y1(i,f,n,l,jt)){me=1,_o(i,fi(l,i.current)),zt=null;return}}catch(m){if(f!==null)throw zt=f,m;me=1,_o(i,fi(l,i.current)),zt=null;return}n.flags&32768?(Zt||u===1?i=!0:Ps||(jt&536870912)!==0?i=!1:(an=i=!0,(u===2||u===9||u===3||u===6)&&(u=gi.current,u!==null&&u.tag===13&&(u.flags|=16384))),Py(n,i)):Co(n)}function Co(i){var n=i;do{if((n.flags&32768)!==0){Py(n,an);return}i=n.return;var l=W1(n.alternate,n,Rr);if(l!==null){zt=l;return}if(n=n.sibling,n!==null){zt=n;return}zt=n=i}while(n!==null);me===0&&(me=5)}function Py(i,n){do{var l=Z1(i.alternate,i);if(l!==null){l.flags&=32767,zt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(i=i.sibling,i!==null)){zt=i;return}zt=i=l}while(i!==null);me=6,zt=null}function Uy(i,n,l,u,f,m,b,C,U){i.cancelPendingCommit=null;do Mo();while(Pe!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===i.current)throw Error(r(177));if(m=n.lanes|n.childLanes,m|=wh,ur(i,l,m,b,C,U),i===se&&(zt=se=null,jt=0),Ls=n,un=i,Fs=l,Oc=m,Bc=f,wy=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,oE(ke,function(){return Hy(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=w.T,w.T=null,f=D.p,D.p=2,b=Qt,Qt|=4;try{K1(i,n,l)}finally{Qt=b,D.p=f,w.T=u}}Pe=1,Ly(),Fy(),Gy()}}function Ly(){if(Pe===1){Pe=0;var i=un,n=Ls,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=w.T,w.T=null;var u=D.p;D.p=2;var f=Qt;Qt|=4;try{_y(n,i);var m=$c,b=Am(i.containerInfo),C=m.focusedElem,U=m.selectionRange;if(b!==C&&C&&C.ownerDocument&&Sm(C.ownerDocument.documentElement,C)){if(U!==null&&bh(C)){var q=U.start,nt=U.end;if(nt===void 0&&(nt=q),"selectionStart"in C)C.selectionStart=q,C.selectionEnd=Math.min(nt,C.value.length);else{var ot=C.ownerDocument||document,W=ot&&ot.defaultView||window;if(W.getSelection){var K=W.getSelection(),It=C.textContent.length,Ct=Math.min(U.start,It),re=U.end===void 0?Ct:Math.min(U.end,It);!K.extend&&Ct>re&&(b=re,re=Ct,Ct=b);var V=Tm(C,Ct),H=Tm(C,re);if(V&&H&&(K.rangeCount!==1||K.anchorNode!==V.node||K.anchorOffset!==V.offset||K.focusNode!==H.node||K.focusOffset!==H.offset)){var j=ot.createRange();j.setStart(V.node,V.offset),K.removeAllRanges(),Ct>re?(K.addRange(j),K.extend(H.node,H.offset)):(j.setEnd(H.node,H.offset),K.addRange(j))}}}}for(ot=[],K=C;K=K.parentNode;)K.nodeType===1&&ot.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ot.length;C++){var at=ot[C];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}Ho=!!Yc,$c=Yc=null}finally{Qt=f,D.p=u,w.T=l}}i.current=n,Pe=2}}function Fy(){if(Pe===2){Pe=0;var i=un,n=Ls,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=w.T,w.T=null;var u=D.p;D.p=2;var f=Qt;Qt|=4;try{my(i,n.alternate,n)}finally{Qt=f,D.p=u,w.T=l}}Pe=3}}function Gy(){if(Pe===4||Pe===3){Pe=0,At();var i=un,n=Ls,l=Fs,u=wy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,Ls=un=null,ky(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(on=null),ki(l),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Cn,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=w.T,f=D.p,D.p=2,w.T=null;try{for(var m=i.onRecoverableError,b=0;b<u.length;b++){var C=u[b];m(C.value,{componentStack:C.stack})}}finally{w.T=n,D.p=f}}(Fs&3)!==0&&Mo(),Yi(i),f=i.pendingLanes,(l&4194090)!==0&&(f&42)!==0?i===Ic?Ka++:(Ka=0,Ic=i):Ka=0,Qa(0)}}function ky(i,n){(i.pooledCacheLanes&=n)===0&&(n=i.pooledCache,n!=null&&(i.pooledCache=null,Oa(n)))}function Mo(i){return Ly(),Fy(),Gy(),Hy()}function Hy(){if(Pe!==5)return!1;var i=un,n=Oc;Oc=0;var l=ki(Fs),u=w.T,f=D.p;try{D.p=32>l?32:l,w.T=null,l=Bc,Bc=null;var m=un,b=Fs;if(Pe=0,Ls=un=null,Fs=0,(Qt&6)!==0)throw Error(r(331));var C=Qt;if(Qt|=4,Sy(m.current),by(m,m.current,b,l),Qt=C,Qa(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Cn,m)}catch{}return!0}finally{D.p=f,w.T=u,ky(i,n)}}function zy(i,n,l){n=fi(l,n),n=cc(i.stateNode,n,2),i=Qr(i,n,2),i!==null&&(Ye(i,2),Yi(i))}function ne(i,n,l){if(i.tag===3)zy(i,i,l);else for(;n!==null;){if(n.tag===3){zy(n,i,l);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(on===null||!on.has(u))){i=fi(l,i),l=qg(2),u=Qr(n,l,2),u!==null&&(Yg(l,u,n,i),Ye(u,2),Yi(u));break}}n=n.return}}function Lc(i,n,l){var u=i.pingCache;if(u===null){u=i.pingCache=new tE;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(l)||(Rc=!0,f.add(l),i=sE.bind(null,i,n,l),n.then(i,i))}function sE(i,n,l){var u=i.pingCache;u!==null&&u.delete(n),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,se===i&&(jt&l)===l&&(me===4||me===3&&(jt&62914560)===jt&&300>$t()-Dc?(Qt&2)===0&&Gs(i,0):Cc|=l,Us===jt&&(Us=0)),Yi(i)}function Xy(i,n){n===0&&(n=te()),i=bs(i,n),i!==null&&(Ye(i,n),Yi(i))}function aE(i){var n=i.memoizedState,l=0;n!==null&&(l=n.retryLane),Xy(i,l)}function lE(i,n){var l=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(n),Xy(i,l)}function oE(i,n){return Bt(i,n)}var Do=null,Hs=null,Fc=!1,Oo=!1,Gc=!1,Yn=0;function Yi(i){i!==Hs&&i.next===null&&(Hs===null?Do=Hs=i:Hs=Hs.next=i),Oo=!0,Fc||(Fc=!0,hE())}function Qa(i,n){if(!Gc&&Oo){Gc=!0;do for(var l=!1,u=Do;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var b=u.suspendedLanes,C=u.pingedLanes;m=(1<<31-Se(42|i)+1)-1,m&=f&~(b&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,Yy(u,m))}else m=jt,m=Y(u,u===se?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Q(u,m)||(l=!0,Yy(u,m));u=u.next}while(l);Gc=!1}}function uE(){Vy()}function Vy(){Oo=Fc=!1;var i=0;Yn!==0&&(vE()&&(i=Yn),Yn=0);for(var n=$t(),l=null,u=Do;u!==null;){var f=u.next,m=jy(u,n);m===0?(u.next=null,l===null?Do=f:l.next=f,f===null&&(Hs=l)):(l=u,(i!==0||(m&3)!==0)&&(Oo=!0)),u=f}Qa(i)}function jy(i,n){for(var l=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var b=31-Se(m),C=1<<b,U=f[b];U===-1?((C&l)===0||(C&u)!==0)&&(f[b]=Yt(C,n)):U<=n&&(i.expiredLanes|=C),m&=~C}if(n=se,l=jt,l=Y(i,i===n?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===n&&(Jt===2||Jt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Gt(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Q(i,l)){if(n=l&-l,n===i.callbackPriority)return n;switch(u!==null&&Gt(u),ki(l)){case 2:case 8:l=Ti;break;case 32:l=ke;break;case 268435456:l=or;break;default:l=ke}return u=qy.bind(null,i),l=Bt(l,u),i.callbackPriority=n,i.callbackNode=l,n}return u!==null&&u!==null&&Gt(u),i.callbackPriority=2,i.callbackNode=null,2}function qy(i,n){if(Pe!==0&&Pe!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Mo()&&i.callbackNode!==l)return null;var u=jt;return u=Y(i,i===se?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Cy(i,u,n),jy(i,$t()),i.callbackNode!=null&&i.callbackNode===l?qy.bind(null,i):null)}function Yy(i,n){if(Mo())return null;Cy(i,n,!0)}function hE(){xE(function(){(Qt&6)!==0?Bt(lr,uE):Vy()})}function kc(){return Yn===0&&(Yn=Kt()),Yn}function $y(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Hl(""+i)}function Wy(i,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,i.id&&l.setAttribute("form",i.id),n.parentNode.insertBefore(l,n),i=new FormData(i),l.parentNode.removeChild(l),i}function cE(i,n,l,u,f){if(n==="submit"&&l&&l.stateNode===f){var m=$y((f[xe]||null).action),b=u.submitter;b&&(n=(n=b[xe]||null)?$y(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var C=new jl("action","action",null,u,f);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Yn!==0){var U=b?Wy(f,b):new FormData(f);ac(l,{pending:!0,data:U,method:f.method,action:m},null,U)}}else typeof m=="function"&&(C.preventDefault(),U=b?Wy(f,b):new FormData(f),ac(l,{pending:!0,data:U,method:f.method,action:m},m,U))},currentTarget:f}]})}}for(var Hc=0;Hc<Ah.length;Hc++){var zc=Ah[Hc],fE=zc.toLowerCase(),dE=zc[0].toUpperCase()+zc.slice(1);wi(fE,"on"+dE)}wi(Cm,"onAnimationEnd"),wi(Mm,"onAnimationIteration"),wi(Dm,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(D1,"onTransitionRun"),wi(O1,"onTransitionStart"),wi(B1,"onTransitionCancel"),wi(Om,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fr("onBeforeInput",["compositionend","keypress","textInput","paste"]),fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function Zy(i,n){n=(n&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],f=u.event;u=u.listeners;t:{var m=void 0;if(n)for(var b=u.length-1;0<=b;b--){var C=u[b],U=C.instance,q=C.currentTarget;if(C=C.listener,U!==m&&f.isPropagationStopped())break t;m=C,f.currentTarget=q;try{m(f)}catch(nt){vo(nt)}f.currentTarget=null,m=U}else for(b=0;b<u.length;b++){if(C=u[b],U=C.instance,q=C.currentTarget,C=C.listener,U!==m&&f.isPropagationStopped())break t;m=C,f.currentTarget=q;try{m(f)}catch(nt){vo(nt)}f.currentTarget=null,m=U}}}}function Xt(i,n){var l=n[Vr];l===void 0&&(l=n[Vr]=new Set);var u=i+"__bubble";l.has(u)||(Ky(n,i,2,!1),l.add(u))}function Xc(i,n,l){var u=0;n&&(u|=4),Ky(l,i,u,n)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Vc(i){if(!i[Bo]){i[Bo]=!0,cr.forEach(function(l){l!=="selectionchange"&&(pE.has(l)||Xc(l,!1,i),Xc(l,!0,i))});var n=i.nodeType===9?i:i.ownerDocument;n===null||n[Bo]||(n[Bo]=!0,Xc("selectionchange",!1,n))}}function Ky(i,n,l,u){switch(bv(n)){case 2:var f=HE;break;case 8:f=zE;break;default:f=sf}l=f.bind(null,n,l,i),f=void 0,!fh||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(n,l,{capture:!0,passive:f}):i.addEventListener(n,l,!0):f!==void 0?i.addEventListener(n,l,{passive:f}):i.addEventListener(n,l,!1)}function jc(i,n,l,u,f){var m=u;if((n&1)===0&&(n&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var C=u.stateNode.containerInfo;if(C===f)break;if(b===4)for(b=u.return;b!==null;){var U=b.tag;if((U===3||U===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;C!==null;){if(b=hr(C),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){u=m=b;continue t}C=C.parentNode}}u=u.return}nm(function(){var q=m,nt=hh(l),ot=[];t:{var W=Bm.get(i);if(W!==void 0){var K=jl,It=i;switch(i){case"keypress":if(Xl(l)===0)break t;case"keydown":case"keyup":K=o1;break;case"focusin":It="focus",K=gh;break;case"focusout":It="blur",K=gh;break;case"beforeblur":case"afterblur":K=gh;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=lm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Zb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=c1;break;case Cm:case Mm:case Dm:K=Jb;break;case Om:K=d1;break;case"scroll":case"scrollend":K=$b;break;case"wheel":K=m1;break;case"copy":case"cut":case"paste":K=e1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=um;break;case"toggle":case"beforetoggle":K=y1}var Ct=(n&4)!==0,re=!Ct&&(i==="scroll"||i==="scrollend"),V=Ct?W!==null?W+"Capture":null:W;Ct=[];for(var H=q,j;H!==null;){var at=H;if(j=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||j===null||V===null||(at=va(H,V),at!=null&&Ct.push(tl(H,at,j))),re)break;H=H.return}0<Ct.length&&(W=new K(W,It,null,l,nt),ot.push({event:W,listeners:Ct}))}}if((n&7)===0){t:{if(W=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",W&&l!==uh&&(It=l.relatedTarget||l.fromElement)&&(hr(It)||It[Hi]))break t;if((K||W)&&(W=nt.window===nt?nt:(W=nt.ownerDocument)?W.defaultView||W.parentWindow:window,K?(It=l.relatedTarget||l.toElement,K=q,It=It?hr(It):null,It!==null&&(re=o(It),Ct=It.tag,It!==re||Ct!==5&&Ct!==27&&Ct!==6)&&(It=null)):(K=null,It=q),K!==It)){if(Ct=lm,at="onMouseLeave",V="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Ct=um,at="onPointerLeave",V="onPointerEnter",H="pointer"),re=K==null?W:qr(K),j=It==null?W:qr(It),W=new Ct(at,H+"leave",K,l,nt),W.target=re,W.relatedTarget=j,at=null,hr(nt)===q&&(Ct=new Ct(V,H+"enter",It,l,nt),Ct.target=j,Ct.relatedTarget=re,at=Ct),re=at,K&&It)e:{for(Ct=K,V=It,H=0,j=Ct;j;j=zs(j))H++;for(j=0,at=V;at;at=zs(at))j++;for(;0<H-j;)Ct=zs(Ct),H--;for(;0<j-H;)V=zs(V),j--;for(;H--;){if(Ct===V||V!==null&&Ct===V.alternate)break e;Ct=zs(Ct),V=zs(V)}Ct=null}else Ct=null;K!==null&&Qy(ot,W,K,Ct,!1),It!==null&&re!==null&&Qy(ot,re,It,Ct,!0)}}t:{if(W=q?qr(q):window,K=W.nodeName&&W.nodeName.toLowerCase(),K==="select"||K==="input"&&W.type==="file")var _t=ym;else if(mm(W))if(vm)_t=R1;else{_t=A1;var Ht=S1}else K=W.nodeName,!K||K.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?q&&oh(q.elementType)&&(_t=ym):_t=w1;if(_t&&(_t=_t(i,q))){gm(ot,_t,l,nt);break t}Ht&&Ht(i,W,q),i==="focusout"&&q&&W.type==="number"&&q.memoizedProps.value!=null&&lh(W,"number",W.value)}switch(Ht=q?qr(q):window,i){case"focusin":(mm(Ht)||Ht.contentEditable==="true")&&(vs=Ht,Eh=q,wa=null);break;case"focusout":wa=Eh=vs=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,wm(ot,l,nt);break;case"selectionchange":if(M1)break;case"keydown":case"keyup":wm(ot,l,nt)}var wt;if(vh)t:{switch(i){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ys?dm(i,l)&&(Mt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Mt="onCompositionStart");Mt&&(hm&&l.locale!=="ko"&&(ys||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ys&&(wt=sm()):($r=nt,dh="value"in $r?$r.value:$r.textContent,ys=!0)),Ht=Io(q,Mt),0<Ht.length&&(Mt=new om(Mt,i,null,l,nt),ot.push({event:Mt,listeners:Ht}),wt?Mt.data=wt:(wt=pm(l),wt!==null&&(Mt.data=wt)))),(wt=_1?x1(i,l):b1(i,l))&&(Mt=Io(q,"onBeforeInput"),0<Mt.length&&(Ht=new om("onBeforeInput","beforeinput",null,l,nt),ot.push({event:Ht,listeners:Mt}),Ht.data=wt)),cE(ot,i,q,l,nt)}Zy(ot,n)})}function tl(i,n,l){return{instance:i,listener:n,currentTarget:l}}function Io(i,n){for(var l=n+"Capture",u=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=va(i,l),f!=null&&u.unshift(tl(i,f,m)),f=va(i,n),f!=null&&u.push(tl(i,f,m))),i.tag===3)return u;i=i.return}return[]}function zs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Qy(i,n,l,u,f){for(var m=n._reactName,b=[];l!==null&&l!==u;){var C=l,U=C.alternate,q=C.stateNode;if(C=C.tag,U!==null&&U===u)break;C!==5&&C!==26&&C!==27||q===null||(U=q,f?(q=va(l,m),q!=null&&b.unshift(tl(l,q,U))):f||(q=va(l,m),q!=null&&b.push(tl(l,q,U)))),l=l.return}b.length!==0&&i.push({event:n,listeners:b})}var mE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function Jy(i){return(typeof i=="string"?i:""+i).replace(mE,`
`).replace(gE,"")}function tv(i,n){return n=Jy(n),Jy(i)===n}function No(){}function ie(i,n,l,u,f,m){switch(l){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||ps(i,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&ps(i,""+u);break;case"className":Fl(i,"class",u);break;case"tabIndex":Fl(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(i,l,u);break;case"style":im(i,u,m);break;case"data":if(n!=="object"){Fl(i,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Hl(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&ie(i,n,"name",f.name,f,null),ie(i,n,"formEncType",f.formEncType,f,null),ie(i,n,"formMethod",f.formMethod,f,null),ie(i,n,"formTarget",f.formTarget,f,null)):(ie(i,n,"encType",f.encType,f,null),ie(i,n,"method",f.method,f,null),ie(i,n,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=Hl(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=No);break;case"onScroll":u!=null&&Xt("scroll",i);break;case"onScrollEnd":u!=null&&Xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=Hl(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Xt("beforetoggle",i),Xt("toggle",i),Ll(i,"popover",u);break;case"xlinkActuate":pr(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":pr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":pr(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":pr(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":pr(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":pr(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":pr(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":pr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":pr(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ll(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=qb.get(l)||l,Ll(i,l,u))}}function qc(i,n,l,u,f,m){switch(l){case"style":im(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof u=="string"?ps(i,u):(typeof u=="number"||typeof u=="bigint")&&ps(i,""+u);break;case"onScroll":u!=null&&Xt("scroll",i);break;case"onScrollEnd":u!=null&&Xt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=No);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!On.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),m=i[xe]||null,m=m!=null?m[l]:null,typeof m=="function"&&i.removeEventListener(n,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(n,u,f);break t}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Ll(i,l,u)}}}function Ue(i,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xt("error",i),Xt("load",i);var u=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var b=l[m];if(b!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ie(i,n,m,b,l,null)}}f&&ie(i,n,"srcSet",l.srcSet,l,null),u&&ie(i,n,"src",l.src,l,null);return;case"input":Xt("invalid",i);var C=m=b=f=null,U=null,q=null;for(u in l)if(l.hasOwnProperty(u)){var nt=l[u];if(nt!=null)switch(u){case"name":f=nt;break;case"type":b=nt;break;case"checked":U=nt;break;case"defaultChecked":q=nt;break;case"value":m=nt;break;case"defaultValue":C=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,n));break;default:ie(i,n,u,nt,l,null)}}Qp(i,m,C,U,q,b,f,!1),Gl(i);return;case"select":Xt("invalid",i),u=b=m=null;for(f in l)if(l.hasOwnProperty(f)&&(C=l[f],C!=null))switch(f){case"value":m=C;break;case"defaultValue":b=C;break;case"multiple":u=C;default:ie(i,n,f,C,l,null)}n=m,l=b,i.multiple=!!u,n!=null?ds(i,!!u,n,!1):l!=null&&ds(i,!!u,l,!0);return;case"textarea":Xt("invalid",i),m=f=u=null;for(b in l)if(l.hasOwnProperty(b)&&(C=l[b],C!=null))switch(b){case"value":u=C;break;case"defaultValue":f=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:ie(i,n,b,C,l,null)}tm(i,u,f,m),Gl(i);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(u=l[U],u!=null))switch(U){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ie(i,n,U,u,l,null)}return;case"dialog":Xt("beforetoggle",i),Xt("toggle",i),Xt("cancel",i),Xt("close",i);break;case"iframe":case"object":Xt("load",i);break;case"video":case"audio":for(u=0;u<Ja.length;u++)Xt(Ja[u],i);break;case"image":Xt("error",i),Xt("load",i);break;case"details":Xt("toggle",i);break;case"embed":case"source":case"link":Xt("error",i),Xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(u=l[q],u!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ie(i,n,q,u,l,null)}return;default:if(oh(n)){for(nt in l)l.hasOwnProperty(nt)&&(u=l[nt],u!==void 0&&qc(i,n,nt,u,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null&&ie(i,n,C,u,l,null))}function yE(i,n,l,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,C=null,U=null,q=null,nt=null;for(K in l){var ot=l[K];if(l.hasOwnProperty(K)&&ot!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":U=ot;default:u.hasOwnProperty(K)||ie(i,n,K,null,u,ot)}}for(var W in u){var K=u[W];if(ot=l[W],u.hasOwnProperty(W)&&(K!=null||ot!=null))switch(W){case"type":m=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":nt=K;break;case"value":b=K;break;case"defaultValue":C=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:K!==ot&&ie(i,n,W,K,u,ot)}}ah(i,b,C,U,q,nt,m,f);return;case"select":K=b=C=W=null;for(m in l)if(U=l[m],l.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":K=U;default:u.hasOwnProperty(m)||ie(i,n,m,null,u,U)}for(f in u)if(m=u[f],U=l[f],u.hasOwnProperty(f)&&(m!=null||U!=null))switch(f){case"value":W=m;break;case"defaultValue":C=m;break;case"multiple":b=m;default:m!==U&&ie(i,n,f,m,u,U)}n=C,l=b,u=K,W!=null?ds(i,!!l,W,!1):!!u!=!!l&&(n!=null?ds(i,!!l,n,!0):ds(i,!!l,l?[]:"",!1));return;case"textarea":K=W=null;for(C in l)if(f=l[C],l.hasOwnProperty(C)&&f!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ie(i,n,C,null,u,f)}for(b in u)if(f=u[b],m=l[b],u.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":W=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&ie(i,n,b,f,u,m)}Jp(i,W,K);return;case"option":for(var It in l)if(W=l[It],l.hasOwnProperty(It)&&W!=null&&!u.hasOwnProperty(It))switch(It){case"selected":i.selected=!1;break;default:ie(i,n,It,null,u,W)}for(U in u)if(W=u[U],K=l[U],u.hasOwnProperty(U)&&W!==K&&(W!=null||K!=null))switch(U){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ie(i,n,U,W,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in l)W=l[Ct],l.hasOwnProperty(Ct)&&W!=null&&!u.hasOwnProperty(Ct)&&ie(i,n,Ct,null,u,W);for(q in u)if(W=u[q],K=l[q],u.hasOwnProperty(q)&&W!==K&&(W!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,n));break;default:ie(i,n,q,W,u,K)}return;default:if(oh(n)){for(var re in l)W=l[re],l.hasOwnProperty(re)&&W!==void 0&&!u.hasOwnProperty(re)&&qc(i,n,re,void 0,u,W);for(nt in u)W=u[nt],K=l[nt],!u.hasOwnProperty(nt)||W===K||W===void 0&&K===void 0||qc(i,n,nt,W,u,K);return}}for(var V in l)W=l[V],l.hasOwnProperty(V)&&W!=null&&!u.hasOwnProperty(V)&&ie(i,n,V,null,u,W);for(ot in u)W=u[ot],K=l[ot],!u.hasOwnProperty(ot)||W===K||W==null&&K==null||ie(i,n,ot,W,u,K)}var Yc=null,$c=null;function Po(i){return i.nodeType===9?i:i.ownerDocument}function ev(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(i,n){if(i===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&n==="foreignObject"?0:i}function Wc(i,n){return i==="textarea"||i==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zc=null;function vE(){var i=window.event;return i&&i.type==="popstate"?i===Zc?!1:(Zc=i,!0):(Zc=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,_E=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(i){return nv.resolve(null).then(i).catch(bE)}:rv;function bE(i){setTimeout(function(){throw i})}function cn(i){return i==="head"}function sv(i,n){var l=n,u=0,f=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<u&&8>u){l=u;var b=i.ownerDocument;if(l&1&&el(b.documentElement),l&2&&el(b.body),l&4)for(l=b.head,el(l),b=l.firstChild;b;){var C=b.nextSibling,U=b.nodeName;b[jr]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=C}}if(f===0){i.removeChild(m),ul(n);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=m}while(l);ul(n)}function Kc(i){var n=i.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Kc(l),Dn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function EE(i,n,l,u){for(;i.nodeType===1;){var f=l;if(i.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[jr])switch(n){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(n==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Ci(i.nextSibling),i===null)break}return null}function TE(i,n,l){if(n==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ci(i.nextSibling),i===null))return null;return i}function Qc(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function SE(i,n){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")n();else{var u=function(){n(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Ci(i){for(;i!=null;i=i.nextSibling){var n=i.nodeType;if(n===1||n===3)break;if(n===8){if(n=i.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return i}var Jc=null;function av(i){i=i.previousSibling;for(var n=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return i;n--}else l==="/$"&&n++}i=i.previousSibling}return null}function lv(i,n,l){switch(n=Po(l),i){case"html":if(i=n.documentElement,!i)throw Error(r(452));return i;case"head":if(i=n.head,!i)throw Error(r(453));return i;case"body":if(i=n.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function el(i){for(var n=i.attributes;n.length;)i.removeAttributeNode(n[0]);Dn(i)}var vi=new Map,ov=new Set;function Uo(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Cr=D.d;D.d={f:AE,r:wE,D:RE,C:CE,L:ME,m:DE,X:BE,S:OE,M:IE};function AE(){var i=Cr.f(),n=Ro();return i||n}function wE(i){var n=zi(i);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Cr.r(i)}var Xs=typeof document>"u"?null:document;function uv(i,n,l){var u=Xs;if(u&&typeof n=="string"&&n){var f=ci(n);f='link[rel="'+i+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),ov.has(f)||(ov.add(f),i={rel:i,crossOrigin:l,href:n},u.querySelector(f)===null&&(n=u.createElement("link"),Ue(n,"link",i),de(n),u.head.appendChild(n)))}}function RE(i){Cr.D(i),uv("dns-prefetch",i,null)}function CE(i,n){Cr.C(i,n),uv("preconnect",i,n)}function ME(i,n,l){Cr.L(i,n,l);var u=Xs;if(u&&i&&n){var f='link[rel="preload"][as="'+ci(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+ci(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+ci(l.imageSizes)+'"]')):f+='[href="'+ci(i)+'"]';var m=f;switch(n){case"style":m=Vs(i);break;case"script":m=js(i)}vi.has(m)||(i=g({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:i,as:n},l),vi.set(m,i),u.querySelector(f)!==null||n==="style"&&u.querySelector(il(m))||n==="script"&&u.querySelector(rl(m))||(n=u.createElement("link"),Ue(n,"link",i),de(n),u.head.appendChild(n)))}}function DE(i,n){Cr.m(i,n);var l=Xs;if(l&&i){var u=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ci(u)+'"][href="'+ci(i)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=js(i)}if(!vi.has(m)&&(i=g({rel:"modulepreload",href:i},n),vi.set(m,i),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(rl(m)))return}u=l.createElement("link"),Ue(u,"link",i),de(u),l.head.appendChild(u)}}}function OE(i,n,l){Cr.S(i,n,l);var u=Xs;if(u&&i){var f=Yr(u).hoistableStyles,m=Vs(i);n=n||"default";var b=f.get(m);if(!b){var C={loading:0,preload:null};if(b=u.querySelector(il(m)))C.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":n},l),(l=vi.get(m))&&tf(i,l);var U=b=u.createElement("link");de(U),Ue(U,"link",i),U._p=new Promise(function(q,nt){U.onload=q,U.onerror=nt}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Lo(b,n,u)}b={type:"stylesheet",instance:b,count:1,state:C},f.set(m,b)}}}function BE(i,n){Cr.X(i,n);var l=Xs;if(l&&i){var u=Yr(l).hoistableScripts,f=js(i),m=u.get(f);m||(m=l.querySelector(rl(f)),m||(i=g({src:i,async:!0},n),(n=vi.get(f))&&ef(i,n),m=l.createElement("script"),de(m),Ue(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function IE(i,n){Cr.M(i,n);var l=Xs;if(l&&i){var u=Yr(l).hoistableScripts,f=js(i),m=u.get(f);m||(m=l.querySelector(rl(f)),m||(i=g({src:i,async:!0,type:"module"},n),(n=vi.get(f))&&ef(i,n),m=l.createElement("script"),de(m),Ue(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function hv(i,n,l,u){var f=(f=lt.current)?Uo(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Vs(l.href),l=Yr(f).hoistableStyles,u=l.get(n),u||(u={type:"style",instance:null,count:0,state:null},l.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Vs(l.href);var m=Yr(f).hoistableStyles,b=m.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,b),(m=f.querySelector(il(i)))&&!m._p&&(b.instance=m,b.state.loading=5),vi.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vi.set(i,l),m||NE(f,i,l,b.state))),n&&u===null)throw Error(r(528,""));return b}if(n&&u!==null)throw Error(r(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=js(l),l=Yr(f).hoistableScripts,u=l.get(n),u||(u={type:"script",instance:null,count:0,state:null},l.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Vs(i){return'href="'+ci(i)+'"'}function il(i){return'link[rel="stylesheet"]['+i+"]"}function cv(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function NE(i,n,l,u){i.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=i.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Ue(n,"link",l),de(n),i.head.appendChild(n))}function js(i){return'[src="'+ci(i)+'"]'}function rl(i){return"script[async]"+i}function fv(i,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var u=i.querySelector('style[data-href~="'+ci(l.href)+'"]');if(u)return n.instance=u,de(u),u;var f=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),de(u),Ue(u,"style",f),Lo(u,l.precedence,i),n.instance=u;case"stylesheet":f=Vs(l.href);var m=i.querySelector(il(f));if(m)return n.state.loading|=4,n.instance=m,de(m),m;u=cv(l),(f=vi.get(f))&&tf(u,f),m=(i.ownerDocument||i).createElement("link"),de(m);var b=m;return b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),Ue(m,"link",u),n.state.loading|=4,Lo(m,l.precedence,i),n.instance=m;case"script":return m=js(l.src),(f=i.querySelector(rl(m)))?(n.instance=f,de(f),f):(u=l,(f=vi.get(m))&&(u=g({},l),ef(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),de(f),Ue(f,"link",u),i.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Lo(u,l.precedence,i));return n.instance}function Lo(i,n,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,b=0;b<u.length;b++){var C=u[b];if(C.dataset.precedence===n)m=C;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(i,n.firstChild))}function tf(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.title==null&&(i.title=n.title)}function ef(i,n){i.crossOrigin==null&&(i.crossOrigin=n.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=n.referrerPolicy),i.integrity==null&&(i.integrity=n.integrity)}var Fo=null;function dv(i,n,l){if(Fo===null){var u=new Map,f=Fo=new Map;f.set(l,u)}else f=Fo,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),f=0;f<l.length;f++){var m=l[f];if(!(m[jr]||m[Ae]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=i+b;var C=u.get(b);C?C.push(m):u.set(b,[m])}}return u}function pv(i,n,l){i=i.ownerDocument||i,i.head.insertBefore(l,n==="title"?i.querySelector("head > title"):null)}function PE(i,n,l){if(l===1||n.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return i=n.disabled,typeof n.precedence=="string"&&i==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function mv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var nl=null;function UE(){}function LE(i,n,l){if(nl===null)throw Error(r(475));var u=nl;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Vs(l.href),m=i.querySelector(il(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Go.bind(u),i.then(u,u)),n.state.loading|=4,n.instance=m,de(m);return}m=i.ownerDocument||i,l=cv(l),(f=vi.get(f))&&tf(l,f),m=m.createElement("link"),de(m);var b=m;b._p=new Promise(function(C,U){b.onload=C,b.onerror=U}),Ue(m,"link",l),n.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,i),(i=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Go.bind(u),i.addEventListener("load",n),i.addEventListener("error",n))}}function FE(){if(nl===null)throw Error(r(475));var i=nl;return i.stylesheets&&i.count===0&&rf(i,i.stylesheets),0<i.count?function(n){var l=setTimeout(function(){if(i.stylesheets&&rf(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=n,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Go(){if(this.count--,this.count===0){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ko=null;function rf(i,n){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ko=new Map,n.forEach(GE,i),ko=null,Go.call(i))}function GE(i,n){if(!(n.state.loading&4)){var l=ko.get(i);if(l)var u=l.get(null);else{l=new Map,ko.set(i,l);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),u=b)}u&&l.set(null,u)}f=n.instance,b=f.getAttribute("data-precedence"),m=l.get(b)||u,m===u&&l.set(null,f),l.set(b,f),this.count++,u=Go.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),n.state.loading|=4}}var sl={$$typeof:B,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function kE(i,n,l,u,f,m,b,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pt(0),this.hiddenUpdates=Pt(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function gv(i,n,l,u,f,m,b,C,U,q,nt,ot){return i=new kE(i,n,l,b,C,U,q,ot),n=1,m===!0&&(n|=24),m=ei(3,null,null,n),i.current=m,m.stateNode=i,n=Lh(),n.refCount++,i.pooledCache=n,n.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:n},Hh(m),i}function yv(i){return i?(i=Es,i):Es}function vv(i,n,l,u,f,m){f=yv(f),u.context===null?u.context=f:u.pendingContext=f,u=Kr(n),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Qr(i,u,n),l!==null&&(ai(l,i,n),Pa(l,i,n))}function _v(i,n){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<n?l:n}}function nf(i,n){_v(i,n),(i=i.alternate)&&_v(i,n)}function xv(i){if(i.tag===13){var n=bs(i,67108864);n!==null&&ai(n,i,67108864),nf(i,67108864)}}var Ho=!0;function HE(i,n,l,u){var f=w.T;w.T=null;var m=D.p;try{D.p=2,sf(i,n,l,u)}finally{D.p=m,w.T=f}}function zE(i,n,l,u){var f=w.T;w.T=null;var m=D.p;try{D.p=8,sf(i,n,l,u)}finally{D.p=m,w.T=f}}function sf(i,n,l,u){if(Ho){var f=af(u);if(f===null)jc(i,n,u,zo,l),Ev(i,u);else if(VE(f,i,n,l,u))u.stopPropagation();else if(Ev(i,u),n&4&&-1<XE.indexOf(i)){for(;f!==null;){var m=zi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=ui(m.pendingLanes);if(b!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var U=1<<31-Se(b);C.entanglements[1]|=U,b&=~U}Yi(m),(Qt&6)===0&&(Ao=$t()+500,Qa(0))}}break;case 13:C=bs(m,2),C!==null&&ai(C,m,2),Ro(),nf(m,2)}if(m=af(u),m===null&&jc(i,n,u,zo,l),m===f)break;f=m}f!==null&&u.stopPropagation()}else jc(i,n,u,null,l)}}function af(i){return i=hh(i),lf(i)}var zo=null;function lf(i){if(zo=null,i=hr(i),i!==null){var n=o(i);if(n===null)i=null;else{var l=n.tag;if(l===13){if(i=h(n),i!==null)return i;i=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;i=null}else n!==i&&(i=null)}}return zo=i,null}function bv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ge()){case lr:return 2;case Ti:return 8;case ke:case Hr:return 32;case or:return 268435456;default:return 32}default:return 32}}var of=!1,fn=null,dn=null,pn=null,al=new Map,ll=new Map,mn=[],XE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(i,n){switch(i){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function ol(i,n,l,u,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:n,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},n!==null&&(n=zi(n),n!==null&&xv(n)),i):(i.eventSystemFlags|=u,n=i.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),i)}function VE(i,n,l,u,f){switch(n){case"focusin":return fn=ol(fn,i,n,l,u,f),!0;case"dragenter":return dn=ol(dn,i,n,l,u,f),!0;case"mouseover":return pn=ol(pn,i,n,l,u,f),!0;case"pointerover":var m=f.pointerId;return al.set(m,ol(al.get(m)||null,i,n,l,u,f)),!0;case"gotpointercapture":return m=f.pointerId,ll.set(m,ol(ll.get(m)||null,i,n,l,u,f)),!0}return!1}function Tv(i){var n=hr(i.target);if(n!==null){var l=o(n);if(l!==null){if(n=l.tag,n===13){if(n=h(l),n!==null){i.blockedOn=n,Ul(i.priority,function(){if(l.tag===13){var u=si();u=Mn(u);var f=bs(l,u);f!==null&&ai(f,l,u),nf(l,u)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xo(i){if(i.blockedOn!==null)return!1;for(var n=i.targetContainers;0<n.length;){var l=af(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);uh=u,l.target.dispatchEvent(u),uh=null}else return n=zi(l),n!==null&&xv(n),i.blockedOn=l,!1;n.shift()}return!0}function Sv(i,n,l){Xo(i)&&l.delete(n)}function jE(){of=!1,fn!==null&&Xo(fn)&&(fn=null),dn!==null&&Xo(dn)&&(dn=null),pn!==null&&Xo(pn)&&(pn=null),al.forEach(Sv),ll.forEach(Sv)}function Vo(i,n){i.blockedOn===n&&(i.blockedOn=null,of||(of=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jE)))}var jo=null;function Av(i){jo!==i&&(jo=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jo===i&&(jo=null);for(var n=0;n<i.length;n+=3){var l=i[n],u=i[n+1],f=i[n+2];if(typeof u!="function"){if(lf(u||l)===null)continue;break}var m=zi(l);m!==null&&(i.splice(n,3),n-=3,ac(m,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function ul(i){function n(U){return Vo(U,i)}fn!==null&&Vo(fn,i),dn!==null&&Vo(dn,i),pn!==null&&Vo(pn,i),al.forEach(n),ll.forEach(n);for(var l=0;l<mn.length;l++){var u=mn[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<mn.length&&(l=mn[0],l.blockedOn===null);)Tv(l),l.blockedOn===null&&mn.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],m=l[u+1],b=f[xe]||null;if(typeof m=="function")b||Av(l);else if(b){var C=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[xe]||null)C=b.formAction;else if(lf(f)!==null)continue}else C=b.action;typeof C=="function"?l[u+1]=C:(l.splice(u,3),u-=3),Av(l)}}}function uf(i){this._internalRoot=i}qo.prototype.render=uf.prototype.render=function(i){var n=this._internalRoot;if(n===null)throw Error(r(409));var l=n.current,u=si();vv(l,u,i,n,null,null)},qo.prototype.unmount=uf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var n=i.containerInfo;vv(i.current,2,null,i,null,null),Ro(),n[Hi]=null}};function qo(i){this._internalRoot=i}qo.prototype.unstable_scheduleHydration=function(i){if(i){var n=$e();i={blockedOn:null,target:i,priority:n};for(var l=0;l<mn.length&&n!==0&&n<mn[l].priority;l++);mn.splice(l,0,i),l===0&&Tv(i)}};var wv=t.version;if(wv!=="19.1.0")throw Error(r(527,wv,"19.1.0"));D.findDOMNode=function(i){var n=i._reactInternals;if(n===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(n),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var qE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{Cn=Yo.inject(qE),He=Yo}catch{}}return cl.createRoot=function(i,n){if(!a(i))throw Error(r(299));var l=!1,u="",f=zg,m=Xg,b=Vg,C=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(C=n.unstable_transitionCallbacks)),n=gv(i,1,!1,null,null,l,u,f,m,b,C,null),i[Hi]=n.current,Vc(i),new uf(n)},cl.hydrateRoot=function(i,n,l){if(!a(i))throw Error(r(299));var u=!1,f="",m=zg,b=Xg,C=Vg,U=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),n=gv(i,1,!0,n,l??null,u,f,m,b,C,U,q),n.context=yv(null),l=n.current,u=si(),u=Mn(u),f=Kr(u),f.callback=null,Qr(l,f,u),l=u,n.current.lanes=l,Ye(n,l),Yi(n),i[Hi]=n.current,Vc(i),new qo(n)},cl.version="19.1.0",cl}var Uv;function rT(){if(Uv)return cf.exports;Uv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),cf.exports=iT(),cf.exports}var nT=rT();const sT="modulepreload",aT=function(s){return"/phaser-test/"+s},Lv={},Ei=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=d(e.map(p=>{if(p=aT(p),p in Lv)return;Lv[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":sT,g||(v.as="script"),v.crossOrigin="",v.href=p,c&&v.setAttribute("nonce",c),document.head.appendChild(v),g)return new Promise((_,x)=>{v.addEventListener("load",_),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};var it=Rp();const lT=wp(it);var fl={},Fv;function oT(){if(Fv)return fl;Fv=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.parse=h,fl.serialize=p;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function h(v,_){const x=new o,A=v.length;if(A<2)return x;const S=_?.decode||g;let T=0;do{const I=v.indexOf("=",T);if(I===-1)break;const B=v.indexOf(";",T),P=B===-1?A:B;if(I>P){T=v.lastIndexOf(";",I-1)+1;continue}const R=c(v,T,I),k=d(v,I,R),M=v.slice(R,k);if(x[M]===void 0){let z=c(v,I+1,P),Z=d(v,P,z);const rt=S(v.slice(z,Z));x[M]=rt}T=P+1}while(T<A);return x}function c(v,_,x){do{const A=v.charCodeAt(_);if(A!==32&&A!==9)return _}while(++_<x);return x}function d(v,_,x){for(;_>x;){const A=v.charCodeAt(--_);if(A!==32&&A!==9)return _+1}return x}function p(v,_,x){const A=x?.encode||encodeURIComponent;if(!s.test(v))throw new TypeError(`argument name is invalid: ${v}`);const S=A(_);if(!t.test(S))throw new TypeError(`argument val is invalid: ${_}`);let T=v+"="+S;if(!x)return T;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);T+="; Max-Age="+x.maxAge}if(x.domain){if(!e.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);T+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);T+="; Path="+x.path}if(x.expires){if(!y(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);T+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(T+="; HttpOnly"),x.secure&&(T+="; Secure"),x.partitioned&&(T+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return T}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function y(v){return a.call(v)==="[object Date]"}return fl}oT();var Gv="popstate";function uT(s={}){function t(r,a){let{pathname:o,search:h,hash:c}=r.location;return Hd("",{pathname:o,search:h,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(r,a){return typeof a=="string"?a:Rl(a)}return cT(t,e,null,s)}function ce(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function rr(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hT(){return Math.random().toString(36).substring(2,10)}function kv(s,t){return{usr:s.state,key:s.key,idx:t}}function Hd(s,t,e=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?ua(t):t,state:e,key:t&&t.key||r||hT()}}function Rl({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function ua(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function cT(s,t,e,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,h=a.history,c="POP",d=null,p=g();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function g(){return(h.state||{idx:null}).idx}function y(){c="POP";let S=g(),T=S==null?null:S-p;p=S,d&&d({action:c,location:A.location,delta:T})}function v(S,T){c="PUSH";let I=Hd(A.location,S,T);p=g()+1;let B=kv(I,p),P=A.createHref(I);try{h.pushState(B,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(P)}o&&d&&d({action:c,location:A.location,delta:1})}function _(S,T){c="REPLACE";let I=Hd(A.location,S,T);p=g();let B=kv(I,p),P=A.createHref(I);h.replaceState(B,"",P),o&&d&&d({action:c,location:A.location,delta:0})}function x(S){return fT(S)}let A={get action(){return c},get location(){return s(a,h)},listen(S){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Gv,y),d=S,()=>{a.removeEventListener(Gv,y),d=null}},createHref(S){return t(a,S)},createURL:x,encodeLocation(S){let T=x(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:_,go(S){return h.go(S)}};return A}function fT(s,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),ce(e,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Rl(s);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function K_(s,t,e="/"){return dT(s,t,e,!1)}function dT(s,t,e,r){let a=typeof t=="string"?ua(t):t,o=Ur(a.pathname||"/",e);if(o==null)return null;let h=Q_(s);pT(h);let c=null;for(let d=0;c==null&&d<h.length;++d){let p=AT(o);c=TT(h[d],p,r)}return c}function Q_(s,t=[],e=[],r=""){let a=(o,h,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:h,route:o};d.relativePath.startsWith("/")&&(ce(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Pr([r,d.relativePath]),g=e.concat(d);o.children&&o.children.length>0&&(ce(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Q_(o.children,t,g,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:bT(p,o.index),routesMeta:g})};return s.forEach((o,h)=>{if(o.path===""||!o.path?.includes("?"))a(o,h);else for(let c of J_(o.path))a(o,h,c)}),t}function J_(s){let t=s.split("/");if(t.length===0)return[];let[e,...r]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let h=J_(r.join("/")),c=[];return c.push(...h.map(d=>d===""?o:[o,d].join("/"))),a&&c.push(...h),c.map(d=>s.startsWith("/")&&d===""?"/":d)}function pT(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:ET(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var mT=/^:[\w-]+$/,gT=3,yT=2,vT=1,_T=10,xT=-2,Hv=s=>s==="*";function bT(s,t){let e=s.split("/"),r=e.length;return e.some(Hv)&&(r+=xT),t&&(r+=yT),e.filter(a=>!Hv(a)).reduce((a,o)=>a+(mT.test(o)?gT:o===""?vT:_T),r)}function ET(s,t){return s.length===t.length&&s.slice(0,-1).every((r,a)=>r===t[a])?s[s.length-1]-t[t.length-1]:0}function TT(s,t,e=!1){let{routesMeta:r}=s,a={},o="/",h=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,g=o==="/"?t:t.slice(o.length)||"/",y=Cu({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),v=d.route;if(!y&&p&&e&&!r[r.length-1].route.index&&(y=Cu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),h.push({params:a,pathname:Pr([o,y.pathname]),pathnameBase:MT(Pr([o,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(o=Pr([o,y.pathnameBase]))}return h}function Cu(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,r]=ST(s.path,s.caseSensitive,s.end),a=t.match(e);if(!a)return null;let o=a[0],h=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},v)=>{if(g==="*"){let x=c[v]||"";h=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const _=c[v];return y&&!_?p[g]=void 0:p[g]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:h,pattern:s}}function ST(s,t=!1,e=!0){rr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function AT(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Ur(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=s.charAt(e);return r&&r!=="/"?null:s.slice(e)||"/"}function wT(s,t="/"){let{pathname:e,search:r="",hash:a=""}=typeof s=="string"?ua(s):s;return{pathname:e?e.startsWith("/")?e:RT(e,t):t,search:DT(r),hash:OT(a)}}function RT(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function gf(s,t,e,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CT(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function tx(s){let t=CT(s);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function ex(s,t,e,r=!1){let a;typeof s=="string"?a=ua(s):(a={...s},ce(!a.pathname||!a.pathname.includes("?"),gf("?","pathname","search",a)),ce(!a.pathname||!a.pathname.includes("#"),gf("#","pathname","hash",a)),ce(!a.search||!a.search.includes("#"),gf("#","search","hash",a)));let o=s===""||a.pathname==="",h=o?"/":a.pathname,c;if(h==null)c=e;else{let y=t.length-1;if(!r&&h.startsWith("..")){let v=h.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}c=y>=0?t[y]:"/"}let d=wT(a,c),p=h&&h!=="/"&&h.endsWith("/"),g=(o||h===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var Pr=s=>s.join("/").replace(/\/\/+/g,"/"),MT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),DT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,OT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function BT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var ix=["POST","PUT","PATCH","DELETE"];new Set(ix);var IT=["GET",...ix];new Set(IT);var ha=it.createContext(null);ha.displayName="DataRouter";var Xu=it.createContext(null);Xu.displayName="DataRouterState";var rx=it.createContext({isTransitioning:!1});rx.displayName="ViewTransition";var NT=it.createContext(new Map);NT.displayName="Fetchers";var PT=it.createContext(null);PT.displayName="Await";var sr=it.createContext(null);sr.displayName="Navigation";var Ml=it.createContext(null);Ml.displayName="Location";var kr=it.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Cp=it.createContext(null);Cp.displayName="RouteError";function UT(s,{relative:t}={}){ce(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=it.useContext(sr),{hash:a,pathname:o,search:h}=Ol(s,{relative:t}),c=o;return e!=="/"&&(c=o==="/"?e:Pr([e,o])),r.createHref({pathname:c,search:h,hash:a})}function Dl(){return it.useContext(Ml)!=null}function os(){return ce(Dl(),"useLocation() may be used only in the context of a <Router> component."),it.useContext(Ml).location}var nx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sx(s){it.useContext(sr).static||it.useLayoutEffect(s)}function LT(){let{isDataRoute:s}=it.useContext(kr);return s?ZT():FT()}function FT(){ce(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let s=it.useContext(ha),{basename:t,navigator:e}=it.useContext(sr),{matches:r}=it.useContext(kr),{pathname:a}=os(),o=JSON.stringify(tx(r)),h=it.useRef(!1);return sx(()=>{h.current=!0}),it.useCallback((d,p={})=>{if(rr(h.current,nx),!h.current)return;if(typeof d=="number"){e.go(d);return}let g=ex(d,JSON.parse(o),a,p.relative==="path");s==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Pr([t,g.pathname])),(p.replace?e.replace:e.push)(g,p.state,p)},[t,e,o,a,s])}it.createContext(null);function Ol(s,{relative:t}={}){let{matches:e}=it.useContext(kr),{pathname:r}=os(),a=JSON.stringify(tx(e));return it.useMemo(()=>ex(s,JSON.parse(a),r,t==="path"),[s,a,r,t])}function GT(s,t){return ax(s,t)}function ax(s,t,e,r){ce(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=it.useContext(sr),{matches:o}=it.useContext(kr),h=o[o.length-1],c=h?h.params:{},d=h?h.pathname:"/",p=h?h.pathnameBase:"/",g=h&&h.route;{let T=g&&g.path||"";lx(d,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=os(),v;if(t){let T=typeof t=="string"?ua(t):t;ce(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=y;let _=v.pathname||"/",x=_;if(p!=="/"){let T=p.replace(/^\//,"").split("/");x="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=K_(s,{pathname:x});rr(g||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),rr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=VT(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:Pr([p,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Pr([p,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,e,r);return t&&S?it.createElement(Ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function kT(){let s=WT(),t=BT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=it.createElement(it.Fragment,null,it.createElement("p",null,"💿 Hey developer 👋"),it.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",it.createElement("code",{style:o},"ErrorBoundary")," or"," ",it.createElement("code",{style:o},"errorElement")," prop on your route.")),it.createElement(it.Fragment,null,it.createElement("h2",null,"Unexpected Application Error!"),it.createElement("h3",{style:{fontStyle:"italic"}},t),e?it.createElement("pre",{style:a},e):null,h)}var HT=it.createElement(kT,null),zT=class extends it.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?it.createElement(kr.Provider,{value:this.props.routeContext},it.createElement(Cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XT({routeContext:s,match:t,children:e}){let r=it.useContext(ha);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),it.createElement(kr.Provider,{value:s},e)}function VT(s,t=[],e=null,r=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let a=s,o=e?.errors;if(o!=null){let d=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);ce(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let h=!1,c=-1;if(e)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:g,errors:y}=e,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){h=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,p,g)=>{let y,v=!1,_=null,x=null;e&&(y=o&&p.route.id?o[p.route.id]:void 0,_=p.route.errorElement||HT,h&&(c<0&&g===0?(lx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):c===g&&(v=!0,x=p.route.hydrateFallbackElement||null)));let A=t.concat(a.slice(0,g+1)),S=()=>{let T;return y?T=_:v?T=x:p.route.Component?T=it.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=d,it.createElement(XT,{match:p,routeContext:{outlet:d,matches:A,isDataRoute:e!=null},children:T})};return e&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?it.createElement(zT,{location:e.location,revalidation:e.revalidation,component:_,error:y,children:S(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):S()},null)}function Mp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jT(s){let t=it.useContext(ha);return ce(t,Mp(s)),t}function qT(s){let t=it.useContext(Xu);return ce(t,Mp(s)),t}function YT(s){let t=it.useContext(kr);return ce(t,Mp(s)),t}function Dp(s){let t=YT(s),e=t.matches[t.matches.length-1];return ce(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function $T(){return Dp("useRouteId")}function WT(){let s=it.useContext(Cp),t=qT("useRouteError"),e=Dp("useRouteError");return s!==void 0?s:t.errors?.[e]}function ZT(){let{router:s}=jT("useNavigate"),t=Dp("useNavigate"),e=it.useRef(!1);return sx(()=>{e.current=!0}),it.useCallback(async(a,o={})=>{rr(e.current,nx),e.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:t,...o}))},[s,t])}var zv={};function lx(s,t,e){!t&&!zv[s]&&(zv[s]=!0,rr(!1,e))}it.memo(KT);function KT({routes:s,future:t,state:e}){return ax(s,void 0,e,t)}function Le(s){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QT({basename:s="/",children:t=null,location:e,navigationType:r="POP",navigator:a,static:o=!1}){ce(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),c=it.useMemo(()=>({basename:h,navigator:a,static:o,future:{}}),[h,a,o]);typeof e=="string"&&(e=ua(e));let{pathname:d="/",search:p="",hash:g="",state:y=null,key:v="default"}=e,_=it.useMemo(()=>{let x=Ur(d,h);return x==null?null:{location:{pathname:x,search:p,hash:g,state:y,key:v},navigationType:r}},[h,d,p,g,y,v,r]);return rr(_!=null,`<Router basename="${h}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:it.createElement(sr.Provider,{value:c},it.createElement(Ml.Provider,{children:t,value:_}))}function JT({children:s,location:t}){return GT(zd(s),t)}function zd(s,t=[]){let e=[];return it.Children.forEach(s,(r,a)=>{if(!it.isValidElement(r))return;let o=[...t,a];if(r.type===it.Fragment){e.push.apply(e,zd(r.props.children,o));return}ce(r.type===Le,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ce(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=zd(r.props.children,o)),e.push(h)}),e}var yu="get",vu="application/x-www-form-urlencoded";function Vu(s){return s!=null&&typeof s.tagName=="string"}function tS(s){return Vu(s)&&s.tagName.toLowerCase()==="button"}function eS(s){return Vu(s)&&s.tagName.toLowerCase()==="form"}function iS(s){return Vu(s)&&s.tagName.toLowerCase()==="input"}function rS(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function nS(s,t){return s.button===0&&(!t||t==="_self")&&!rS(s)}var $o=null;function sS(){if($o===null)try{new FormData(document.createElement("form"),0),$o=!1}catch{$o=!0}return $o}var aS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yf(s){return s!=null&&!aS.has(s)?(rr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vu}"`),null):s}function lS(s,t){let e,r,a,o,h;if(eS(s)){let c=s.getAttribute("action");r=c?Ur(c,t):null,e=s.getAttribute("method")||yu,a=yf(s.getAttribute("enctype"))||vu,o=new FormData(s)}else if(tS(s)||iS(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ur(d,t):null,e=s.getAttribute("formmethod")||c.getAttribute("method")||yu,a=yf(s.getAttribute("formenctype"))||yf(c.getAttribute("enctype"))||vu,o=new FormData(c,s),!sS()){let{name:p,type:g,value:y}=s;if(g==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,y)}}else{if(Vu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=yu,r=null,a=vu,h=s}return o&&a==="text/plain"&&(h=o,o=void 0),{action:r,method:e.toLowerCase(),encType:a,formData:o,body:h}}function Op(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function oS(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function hS(s,t,e){let r=await Promise.all(s.map(async a=>{let o=t.routes[a.route.id];if(o){let h=await oS(o,e);return h.links?h.links():[]}return[]}));return pS(r.flat(1).filter(uS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Xv(s,t,e,r,a,o){let h=(d,p)=>e[p]?d.route.id!==e[p].route.id:!0,c=(d,p)=>e[p].pathname!==d.pathname||e[p].route.path?.endsWith("*")&&e[p].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,p)=>h(d,p)||c(d,p)):o==="data"?t.filter((d,p)=>{let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(h(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function cS(s,t,{includeHydrateFallback:e}={}){return fS(s.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function fS(s){return[...new Set(s)]}function dS(s){let t={},e=Object.keys(s).sort();for(let r of e)t[r]=s[r];return t}function pS(s,t){let e=new Set;return new Set(t),s.reduce((r,a)=>{let o=JSON.stringify(dS(a));return e.has(o)||(e.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mS=new Set([100,101,204,205]);function gS(s,t){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":t&&Ur(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ox(){let s=it.useContext(ha);return Op(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function yS(){let s=it.useContext(Xu);return Op(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Bp=it.createContext(void 0);Bp.displayName="FrameworkContext";function ux(){let s=it.useContext(Bp);return Op(s,"You must render this element inside a <HydratedRouter> element"),s}function vS(s,t){let e=it.useContext(Bp),[r,a]=it.useState(!1),[o,h]=it.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,v=it.useRef(null);it.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let A=T=>{T.forEach(I=>{h(I.isIntersecting)})},S=new IntersectionObserver(A,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[s]),it.useEffect(()=>{if(r){let A=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(A)}}},[r]);let _=()=>{a(!0)},x=()=>{a(!1),h(!1)};return e?s!=="intent"?[o,v,{}]:[o,v,{onFocus:dl(c,_),onBlur:dl(d,x),onMouseEnter:dl(p,_),onMouseLeave:dl(g,x),onTouchStart:dl(y,_)}]:[!1,v,{}]}function dl(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function _S({page:s,...t}){let{router:e}=ox(),r=it.useMemo(()=>K_(e.routes,s,e.basename),[e.routes,s,e.basename]);return r?it.createElement(bS,{page:s,matches:r,...t}):null}function xS(s){let{manifest:t,routeModules:e}=ux(),[r,a]=it.useState([]);return it.useEffect(()=>{let o=!1;return hS(s,t,e).then(h=>{o||a(h)}),()=>{o=!0}},[s,t,e]),r}function bS({page:s,matches:t,...e}){let r=os(),{manifest:a,routeModules:o}=ux(),{basename:h}=ox(),{loaderData:c,matches:d}=yS(),p=it.useMemo(()=>Xv(s,t,d,a,r,"data"),[s,t,d,a,r]),g=it.useMemo(()=>Xv(s,t,d,a,r,"assets"),[s,t,d,a,r]),y=it.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let x=new Set,A=!1;if(t.forEach(T=>{let I=a.routes[T.route.id];!I||!I.hasLoader||(!p.some(B=>B.route.id===T.route.id)&&T.route.id in c&&o[T.route.id]?.shouldRevalidate||I.hasClientLoader?A=!0:x.add(T.route.id))}),x.size===0)return[];let S=gS(s,h);return A&&x.size>0&&S.searchParams.set("_routes",t.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[h,c,r,a,p,t,s,o]),v=it.useMemo(()=>cS(g,a),[g,a]),_=xS(g);return it.createElement(it.Fragment,null,y.map(x=>it.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...e})),v.map(x=>it.createElement("link",{key:x,rel:"modulepreload",href:x,...e})),_.map(({key:x,link:A})=>it.createElement("link",{key:x,...A})))}function ES(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var hx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hx&&(window.__reactRouterVersion="7.6.3")}catch{}function TS({basename:s,children:t,window:e}){let r=it.useRef();r.current==null&&(r.current=uT({window:e,v5Compat:!0}));let a=r.current,[o,h]=it.useState({action:a.action,location:a.location}),c=it.useCallback(d=>{it.startTransition(()=>h(d))},[h]);return it.useLayoutEffect(()=>a.listen(c),[a,c]),it.createElement(QT,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:a})}var cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ip=it.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:a,reloadDocument:o,replace:h,state:c,target:d,to:p,preventScrollReset:g,viewTransition:y,...v},_){let{basename:x}=it.useContext(sr),A=typeof p=="string"&&cx.test(p),S,T=!1;if(typeof p=="string"&&A&&(S=p,hx))try{let Z=new URL(window.location.href),rt=p.startsWith("//")?new URL(Z.protocol+p):new URL(p),tt=Ur(rt.pathname,x);rt.origin===Z.origin&&tt!=null?p=tt+rt.search+rt.hash:T=!0}catch{rr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=UT(p,{relative:a}),[B,P,R]=vS(r,v),k=RS(p,{replace:h,state:c,target:d,preventScrollReset:g,relative:a,viewTransition:y});function M(Z){t&&t(Z),Z.defaultPrevented||k(Z)}let z=it.createElement("a",{...v,...R,href:S||I,onClick:T||o?t:M,ref:ES(_,P),target:d,"data-discover":!A&&e==="render"?"true":void 0});return B&&!A?it.createElement(it.Fragment,null,z,it.createElement(_S,{page:I})):z});Ip.displayName="Link";var SS=it.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:a=!1,style:o,to:h,viewTransition:c,children:d,...p},g){let y=Ol(h,{relative:p.relative}),v=os(),_=it.useContext(Xu),{navigator:x,basename:A}=it.useContext(sr),S=_!=null&&BS(y)&&c===!0,T=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,I=v.pathname,B=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;e||(I=I.toLowerCase(),B=B?B.toLowerCase():null,T=T.toLowerCase()),B&&A&&(B=Ur(B,A)||B);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let R=I===T||!a&&I.startsWith(T)&&I.charAt(P)==="/",k=B!=null&&(B===T||!a&&B.startsWith(T)&&B.charAt(T.length)==="/"),M={isActive:R,isPending:k,isTransitioning:S},z=R?t:void 0,Z;typeof r=="function"?Z=r(M):Z=[r,R?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let rt=typeof o=="function"?o(M):o;return it.createElement(Ip,{...p,"aria-current":z,className:Z,ref:g,style:rt,to:h,viewTransition:c},typeof d=="function"?d(M):d)});SS.displayName="NavLink";var AS=it.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:a,state:o,method:h=yu,action:c,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,...v},_)=>{let x=DS(),A=OS(c,{relative:p}),S=h.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&cx.test(c),I=B=>{if(d&&d(B),B.defaultPrevented)return;B.preventDefault();let P=B.nativeEvent.submitter,R=P?.getAttribute("formmethod")||h;x(P||B.currentTarget,{fetcherKey:t,method:R,navigate:e,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:y})};return it.createElement("form",{ref:_,method:S,action:A,onSubmit:r?d:I,...v,"data-discover":!T&&s==="render"?"true":void 0})});AS.displayName="Form";function wS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fx(s){let t=it.useContext(ha);return ce(t,wS(s)),t}function RS(s,{target:t,replace:e,state:r,preventScrollReset:a,relative:o,viewTransition:h}={}){let c=LT(),d=os(),p=Ol(s,{relative:o});return it.useCallback(g=>{if(nS(g,t)){g.preventDefault();let y=e!==void 0?e:Rl(d)===Rl(p);c(s,{replace:y,state:r,preventScrollReset:a,relative:o,viewTransition:h})}},[d,c,p,e,r,t,s,a,o,h])}var CS=0,MS=()=>`__${String(++CS)}__`;function DS(){let{router:s}=fx("useSubmit"),{basename:t}=it.useContext(sr),e=$T();return it.useCallback(async(r,a={})=>{let{action:o,method:h,encType:c,formData:d,body:p}=lS(r,t);if(a.navigate===!1){let g=a.fetcherKey||MS();await s.fetch(g,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||h,formEncType:a.encType||c,flushSync:a.flushSync})}else await s.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||h,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,t,e])}function OS(s,{relative:t}={}){let{basename:e}=it.useContext(sr),r=it.useContext(kr);ce(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Ol(s||".",{relative:t})},h=os();if(s==null){o.search=h.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();o.search=g?`?${g}`:""}}return(!s||s===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Pr([e,o.pathname])),Rl(o)}function BS(s,t={}){let e=it.useContext(rx);ce(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fx("useViewTransitionState"),a=Ol(s,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Ur(e.currentLocation.pathname,r)||e.currentLocation.pathname,h=Ur(e.nextLocation.pathname,r)||e.nextLocation.pathname;return Cu(a.pathname,h)!=null||Cu(a.pathname,o)!=null}[...mS];var us=(s=>(s[s.WEBGL_LEGACY=0]="WEBGL_LEGACY",s[s.WEBGL=1]="WEBGL",s[s.WEBGL2=2]="WEBGL2",s))(us||{}),dx=(s=>(s[s.UNKNOWN=0]="UNKNOWN",s[s.WEBGL=1]="WEBGL",s[s.CANVAS=2]="CANVAS",s))(dx||{}),Xd=(s=>(s[s.COLOR=16384]="COLOR",s[s.DEPTH=256]="DEPTH",s[s.STENCIL=1024]="STENCIL",s))(Xd||{}),Dt=(s=>(s[s.NORMAL=0]="NORMAL",s[s.ADD=1]="ADD",s[s.MULTIPLY=2]="MULTIPLY",s[s.SCREEN=3]="SCREEN",s[s.OVERLAY=4]="OVERLAY",s[s.DARKEN=5]="DARKEN",s[s.LIGHTEN=6]="LIGHTEN",s[s.COLOR_DODGE=7]="COLOR_DODGE",s[s.COLOR_BURN=8]="COLOR_BURN",s[s.HARD_LIGHT=9]="HARD_LIGHT",s[s.SOFT_LIGHT=10]="SOFT_LIGHT",s[s.DIFFERENCE=11]="DIFFERENCE",s[s.EXCLUSION=12]="EXCLUSION",s[s.HUE=13]="HUE",s[s.SATURATION=14]="SATURATION",s[s.COLOR=15]="COLOR",s[s.LUMINOSITY=16]="LUMINOSITY",s[s.NORMAL_NPM=17]="NORMAL_NPM",s[s.ADD_NPM=18]="ADD_NPM",s[s.SCREEN_NPM=19]="SCREEN_NPM",s[s.NONE=20]="NONE",s[s.SRC_OVER=0]="SRC_OVER",s[s.SRC_IN=21]="SRC_IN",s[s.SRC_OUT=22]="SRC_OUT",s[s.SRC_ATOP=23]="SRC_ATOP",s[s.DST_OVER=24]="DST_OVER",s[s.DST_IN=25]="DST_IN",s[s.DST_OUT=26]="DST_OUT",s[s.DST_ATOP=27]="DST_ATOP",s[s.ERASE=26]="ERASE",s[s.SUBTRACT=28]="SUBTRACT",s[s.XOR=29]="XOR",s))(Dt||{}),tr=(s=>(s[s.POINTS=0]="POINTS",s[s.LINES=1]="LINES",s[s.LINE_LOOP=2]="LINE_LOOP",s[s.LINE_STRIP=3]="LINE_STRIP",s[s.TRIANGLES=4]="TRIANGLES",s[s.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",s[s.TRIANGLE_FAN=6]="TRIANGLE_FAN",s))(tr||{}),ht=(s=>(s[s.RGBA=6408]="RGBA",s[s.RGB=6407]="RGB",s[s.RG=33319]="RG",s[s.RED=6403]="RED",s[s.RGBA_INTEGER=36249]="RGBA_INTEGER",s[s.RGB_INTEGER=36248]="RGB_INTEGER",s[s.RG_INTEGER=33320]="RG_INTEGER",s[s.RED_INTEGER=36244]="RED_INTEGER",s[s.ALPHA=6406]="ALPHA",s[s.LUMINANCE=6409]="LUMINANCE",s[s.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",s[s.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",s[s.DEPTH_STENCIL=34041]="DEPTH_STENCIL",s))(ht||{}),ia=(s=>(s[s.TEXTURE_2D=3553]="TEXTURE_2D",s[s.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",s[s.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",s[s.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",s[s.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",s[s.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",s[s.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",s[s.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",s))(ia||{}),Rt=(s=>(s[s.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",s[s.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",s[s.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",s[s.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",s[s.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",s[s.UNSIGNED_INT=5125]="UNSIGNED_INT",s[s.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",s[s.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",s[s.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",s[s.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",s[s.BYTE=5120]="BYTE",s[s.SHORT=5122]="SHORT",s[s.INT=5124]="INT",s[s.FLOAT=5126]="FLOAT",s[s.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",s[s.HALF_FLOAT=36193]="HALF_FLOAT",s))(Rt||{}),mt=(s=>(s[s.FLOAT=0]="FLOAT",s[s.INT=1]="INT",s[s.UINT=2]="UINT",s))(mt||{}),Or=(s=>(s[s.NEAREST=0]="NEAREST",s[s.LINEAR=1]="LINEAR",s))(Or||{}),An=(s=>(s[s.CLAMP=33071]="CLAMP",s[s.REPEAT=10497]="REPEAT",s[s.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",s))(An||{}),nr=(s=>(s[s.OFF=0]="OFF",s[s.POW2=1]="POW2",s[s.ON=2]="ON",s[s.ON_MANUAL=3]="ON_MANUAL",s))(nr||{}),Je=(s=>(s[s.NPM=0]="NPM",s[s.UNPACK=1]="UNPACK",s[s.PMA=2]="PMA",s[s.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",s[s.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",s[s.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",s))(Je||{}),Ji=(s=>(s[s.NO=0]="NO",s[s.YES=1]="YES",s[s.AUTO=2]="AUTO",s[s.BLEND=0]="BLEND",s[s.CLEAR=1]="CLEAR",s[s.BLIT=2]="BLIT",s))(Ji||{}),Np=(s=>(s[s.AUTO=0]="AUTO",s[s.MANUAL=1]="MANUAL",s))(Np||{}),xi=(s=>(s.LOW="lowp",s.MEDIUM="mediump",s.HIGH="highp",s))(xi||{}),Ce=(s=>(s[s.NONE=0]="NONE",s[s.SCISSOR=1]="SCISSOR",s[s.STENCIL=2]="STENCIL",s[s.SPRITE=3]="SPRITE",s[s.COLOR=4]="COLOR",s))(Ce||{}),Te=(s=>(s[s.NONE=0]="NONE",s[s.LOW=2]="LOW",s[s.MEDIUM=4]="MEDIUM",s[s.HIGH=8]="HIGH",s))(Te||{}),er=(s=>(s[s.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",s[s.ARRAY_BUFFER=34962]="ARRAY_BUFFER",s[s.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",s))(er||{});const IS={createCanvas:(s,t)=>{const e=document.createElement("canvas");return e.width=s,e.height=t,e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")},gt={ADAPTER:IS,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var vf=/iPhone/i,Vv=/iPod/i,jv=/iPad/i,qv=/\biOS-universal(?:.+)Mac\b/i,_f=/\bAndroid(?:.+)Mobile\b/i,Yv=/Android/i,qs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Wo=/Silk/i,Mr=/Windows Phone/i,$v=/\bWindows(?:.+)ARM\b/i,Wv=/BlackBerry/i,Zv=/BB10/i,Kv=/Opera Mini/i,Qv=/\b(CriOS|Chrome)(?:.+)Mobile/i,Jv=/Mobile(?:.+)Firefox\b/i,t0=function(s){return typeof s<"u"&&s.platform==="MacIntel"&&typeof s.maxTouchPoints=="number"&&s.maxTouchPoints>1&&typeof MSStream>"u"};function NS(s){return function(t){return t.test(s)}}function e0(s){var t={userAgent:"",platform:"",maxTouchPoints:0};!s&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof s=="string"?t.userAgent=s:s&&s.userAgent&&(t={userAgent:s.userAgent,platform:s.platform,maxTouchPoints:s.maxTouchPoints||0});var e=t.userAgent,r=e.split("[FBAN");typeof r[1]<"u"&&(e=r[0]),r=e.split("Twitter"),typeof r[1]<"u"&&(e=r[0]);var a=NS(e),o={apple:{phone:a(vf)&&!a(Mr),ipod:a(Vv),tablet:!a(vf)&&(a(jv)||t0(t))&&!a(Mr),universal:a(qv),device:(a(vf)||a(Vv)||a(jv)||a(qv)||t0(t))&&!a(Mr)},amazon:{phone:a(qs),tablet:!a(qs)&&a(Wo),device:a(qs)||a(Wo)},android:{phone:!a(Mr)&&a(qs)||!a(Mr)&&a(_f),tablet:!a(Mr)&&!a(qs)&&!a(_f)&&(a(Wo)||a(Yv)),device:!a(Mr)&&(a(qs)||a(Wo)||a(_f)||a(Yv))||a(/\bokhttp\b/i)},windows:{phone:a(Mr),tablet:a($v),device:a(Mr)||a($v)},other:{blackberry:a(Wv),blackberry10:a(Zv),opera:a(Kv),firefox:a(Jv),chrome:a(Qv),device:a(Wv)||a(Zv)||a(Kv)||a(Jv)||a(Qv)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const PS=e0.default??e0,Br=PS(globalThis.navigator);gt.RETINA_PREFIX=/@([0-9\.]+)x/;gt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var xf={exports:{}},i0;function US(){return i0||(i0=1,function(s){var t=Object.prototype.hasOwnProperty,e="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(e=!1));function a(d,p,g){this.fn=d,this.context=p,this.once=g||!1}function o(d,p,g,y,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new a(g,y||d,v),x=e?e+p:p;return d._events[x]?d._events[x].fn?d._events[x]=[d._events[x],_]:d._events[x].push(_):(d._events[x]=_,d._eventsCount++),d}function h(d,p){--d._eventsCount===0?d._events=new r:delete d._events[p]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var p=[],g,y;if(this._eventsCount===0)return p;for(y in g=this._events)t.call(g,y)&&p.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},c.prototype.listeners=function(p){var g=e?e+p:p,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var v=0,_=y.length,x=new Array(_);v<_;v++)x[v]=y[v].fn;return x},c.prototype.listenerCount=function(p){var g=e?e+p:p,y=this._events[g];return y?y.fn?1:y.length:0},c.prototype.emit=function(p,g,y,v,_,x){var A=e?e+p:p;if(!this._events[A])return!1;var S=this._events[A],T=arguments.length,I,B;if(S.fn){switch(S.once&&this.removeListener(p,S.fn,void 0,!0),T){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,g),!0;case 3:return S.fn.call(S.context,g,y),!0;case 4:return S.fn.call(S.context,g,y,v),!0;case 5:return S.fn.call(S.context,g,y,v,_),!0;case 6:return S.fn.call(S.context,g,y,v,_,x),!0}for(B=1,I=new Array(T-1);B<T;B++)I[B-1]=arguments[B];S.fn.apply(S.context,I)}else{var P=S.length,R;for(B=0;B<P;B++)switch(S[B].once&&this.removeListener(p,S[B].fn,void 0,!0),T){case 1:S[B].fn.call(S[B].context);break;case 2:S[B].fn.call(S[B].context,g);break;case 3:S[B].fn.call(S[B].context,g,y);break;case 4:S[B].fn.call(S[B].context,g,y,v);break;default:if(!I)for(R=1,I=new Array(T-1);R<T;R++)I[R-1]=arguments[R];S[B].fn.apply(S[B].context,I)}}return!0},c.prototype.on=function(p,g,y){return o(this,p,g,y,!1)},c.prototype.once=function(p,g,y){return o(this,p,g,y,!0)},c.prototype.removeListener=function(p,g,y,v){var _=e?e+p:p;if(!this._events[_])return this;if(!g)return h(this,_),this;var x=this._events[_];if(x.fn)x.fn===g&&(!v||x.once)&&(!y||x.context===y)&&h(this,_);else{for(var A=0,S=[],T=x.length;A<T;A++)(x[A].fn!==g||v&&!x[A].once||y&&x[A].context!==y)&&S.push(x[A]);S.length?this._events[_]=S.length===1?S[0]:S:h(this,_)}return this},c.prototype.removeAllListeners=function(p){var g;return p?(g=e?e+p:p,this._events[g]&&h(this,g)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=e,c.EventEmitter=c,s.exports=c}(xf)),xf.exports}var LS=US();const Bl=wp(LS);var Zo={exports:{}},r0;function FS(){if(r0)return Zo.exports;r0=1,Zo.exports=s,Zo.exports.default=s;function s(w,D,O){O=O||2;var X=D&&D.length,E=X?D[0]*O:w.length,N=t(w,0,E,O,!0),F=[];if(!N||N.next===N.prev)return F;var L,$,st,lt,ft,ct,yt;if(X&&(N=d(w,D,N,O)),w.length>80*O){L=st=w[0],$=lt=w[1];for(var ut=O;ut<E;ut+=O)ft=w[ut],ct=w[ut+1],ft<L&&(L=ft),ct<$&&($=ct),ft>st&&(st=ft),ct>lt&&(lt=ct);yt=Math.max(st-L,lt-$),yt=yt!==0?32767/yt:0}return r(N,F,O,L,$,yt,0),F}function t(w,D,O,X,E){var N,F;if(E===dt(w,D,O,X)>0)for(N=D;N<O;N+=X)F=G(N,w[N],w[N+1],F);else for(N=O-X;N>=D;N-=X)F=G(N,w[N],w[N+1],F);return F&&P(F,F.next)&&(J(F),F=F.next),F}function e(w,D){if(!w)return w;D||(D=w);var O=w,X;do if(X=!1,!O.steiner&&(P(O,O.next)||B(O.prev,O,O.next)===0)){if(J(O),O=D=O.prev,O===O.next)break;X=!0}else O=O.next;while(X||O!==D);return D}function r(w,D,O,X,E,N,F){if(w){!F&&N&&_(w,X,E,N);for(var L=w,$,st;w.prev!==w.next;){if($=w.prev,st=w.next,N?o(w,X,E,N):a(w)){D.push($.i/O|0),D.push(w.i/O|0),D.push(st.i/O|0),J(w),w=st.next,L=st.next;continue}if(w=st,w===L){F?F===1?(w=h(e(w),D,O),r(w,D,O,X,E,N,2)):F===2&&c(w,D,O,X,E,N):r(e(w),D,O,X,E,N,1);break}}}}function a(w){var D=w.prev,O=w,X=w.next;if(B(D,O,X)>=0)return!1;for(var E=D.x,N=O.x,F=X.x,L=D.y,$=O.y,st=X.y,lt=E<N?E<F?E:F:N<F?N:F,ft=L<$?L<st?L:st:$<st?$:st,ct=E>N?E>F?E:F:N>F?N:F,yt=L>$?L>st?L:st:$>st?$:st,ut=X.next;ut!==D;){if(ut.x>=lt&&ut.x<=ct&&ut.y>=ft&&ut.y<=yt&&T(E,L,N,$,F,st,ut.x,ut.y)&&B(ut.prev,ut,ut.next)>=0)return!1;ut=ut.next}return!0}function o(w,D,O,X){var E=w.prev,N=w,F=w.next;if(B(E,N,F)>=0)return!1;for(var L=E.x,$=N.x,st=F.x,lt=E.y,ft=N.y,ct=F.y,yt=L<$?L<st?L:st:$<st?$:st,ut=lt<ft?lt<ct?lt:ct:ft<ct?ft:ct,vt=L>$?L>st?L:st:$>st?$:st,xt=lt>ft?lt>ct?lt:ct:ft>ct?ft:ct,Bt=A(yt,ut,D,O,X),Gt=A(vt,xt,D,O,X),Tt=w.prevZ,At=w.nextZ;Tt&&Tt.z>=Bt&&At&&At.z<=Gt;){if(Tt.x>=yt&&Tt.x<=vt&&Tt.y>=ut&&Tt.y<=xt&&Tt!==E&&Tt!==F&&T(L,lt,$,ft,st,ct,Tt.x,Tt.y)&&B(Tt.prev,Tt,Tt.next)>=0||(Tt=Tt.prevZ,At.x>=yt&&At.x<=vt&&At.y>=ut&&At.y<=xt&&At!==E&&At!==F&&T(L,lt,$,ft,st,ct,At.x,At.y)&&B(At.prev,At,At.next)>=0))return!1;At=At.nextZ}for(;Tt&&Tt.z>=Bt;){if(Tt.x>=yt&&Tt.x<=vt&&Tt.y>=ut&&Tt.y<=xt&&Tt!==E&&Tt!==F&&T(L,lt,$,ft,st,ct,Tt.x,Tt.y)&&B(Tt.prev,Tt,Tt.next)>=0)return!1;Tt=Tt.prevZ}for(;At&&At.z<=Gt;){if(At.x>=yt&&At.x<=vt&&At.y>=ut&&At.y<=xt&&At!==E&&At!==F&&T(L,lt,$,ft,st,ct,At.x,At.y)&&B(At.prev,At,At.next)>=0)return!1;At=At.nextZ}return!0}function h(w,D,O){var X=w;do{var E=X.prev,N=X.next.next;!P(E,N)&&R(E,X,X.next,N)&&Z(E,N)&&Z(N,E)&&(D.push(E.i/O|0),D.push(X.i/O|0),D.push(N.i/O|0),J(X),J(X.next),X=w=N),X=X.next}while(X!==w);return e(X)}function c(w,D,O,X,E,N){var F=w;do{for(var L=F.next.next;L!==F.prev;){if(F.i!==L.i&&I(F,L)){var $=tt(F,L);F=e(F,F.next),$=e($,$.next),r(F,D,O,X,E,N,0),r($,D,O,X,E,N,0);return}L=L.next}F=F.next}while(F!==w)}function d(w,D,O,X){var E=[],N,F,L,$,st;for(N=0,F=D.length;N<F;N++)L=D[N]*X,$=N<F-1?D[N+1]*X:w.length,st=t(w,L,$,X,!1),st===st.next&&(st.steiner=!0),E.push(S(st));for(E.sort(p),N=0;N<E.length;N++)O=g(E[N],O);return O}function p(w,D){return w.x-D.x}function g(w,D){var O=y(w,D);if(!O)return D;var X=tt(O,w);return e(X,X.next),e(O,O.next)}function y(w,D){var O=D,X=w.x,E=w.y,N=-1/0,F;do{if(E<=O.y&&E>=O.next.y&&O.next.y!==O.y){var L=O.x+(E-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(L<=X&&L>N&&(N=L,F=O.x<O.next.x?O:O.next,L===X))return F}O=O.next}while(O!==D);if(!F)return null;var $=F,st=F.x,lt=F.y,ft=1/0,ct;O=F;do X>=O.x&&O.x>=st&&X!==O.x&&T(E<lt?X:N,E,st,lt,E<lt?N:X,E,O.x,O.y)&&(ct=Math.abs(E-O.y)/(X-O.x),Z(O,w)&&(ct<ft||ct===ft&&(O.x>F.x||O.x===F.x&&v(F,O)))&&(F=O,ft=ct)),O=O.next;while(O!==$);return F}function v(w,D){return B(w.prev,w,D.prev)<0&&B(D.next,w,w.next)<0}function _(w,D,O,X){var E=w;do E.z===0&&(E.z=A(E.x,E.y,D,O,X)),E.prevZ=E.prev,E.nextZ=E.next,E=E.next;while(E!==w);E.prevZ.nextZ=null,E.prevZ=null,x(E)}function x(w){var D,O,X,E,N,F,L,$,st=1;do{for(O=w,w=null,N=null,F=0;O;){for(F++,X=O,L=0,D=0;D<st&&(L++,X=X.nextZ,!!X);D++);for($=st;L>0||$>0&&X;)L!==0&&($===0||!X||O.z<=X.z)?(E=O,O=O.nextZ,L--):(E=X,X=X.nextZ,$--),N?N.nextZ=E:w=E,E.prevZ=N,N=E;O=X}N.nextZ=null,st*=2}while(F>1);return w}function A(w,D,O,X,E){return w=(w-O)*E|0,D=(D-X)*E|0,w=(w|w<<8)&16711935,w=(w|w<<4)&252645135,w=(w|w<<2)&858993459,w=(w|w<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,w|D<<1}function S(w){var D=w,O=w;do(D.x<O.x||D.x===O.x&&D.y<O.y)&&(O=D),D=D.next;while(D!==w);return O}function T(w,D,O,X,E,N,F,L){return(E-F)*(D-L)>=(w-F)*(N-L)&&(w-F)*(X-L)>=(O-F)*(D-L)&&(O-F)*(N-L)>=(E-F)*(X-L)}function I(w,D){return w.next.i!==D.i&&w.prev.i!==D.i&&!z(w,D)&&(Z(w,D)&&Z(D,w)&&rt(w,D)&&(B(w.prev,w,D.prev)||B(w,D.prev,D))||P(w,D)&&B(w.prev,w,w.next)>0&&B(D.prev,D,D.next)>0)}function B(w,D,O){return(D.y-w.y)*(O.x-D.x)-(D.x-w.x)*(O.y-D.y)}function P(w,D){return w.x===D.x&&w.y===D.y}function R(w,D,O,X){var E=M(B(w,D,O)),N=M(B(w,D,X)),F=M(B(O,X,w)),L=M(B(O,X,D));return!!(E!==N&&F!==L||E===0&&k(w,O,D)||N===0&&k(w,X,D)||F===0&&k(O,w,X)||L===0&&k(O,D,X))}function k(w,D,O){return D.x<=Math.max(w.x,O.x)&&D.x>=Math.min(w.x,O.x)&&D.y<=Math.max(w.y,O.y)&&D.y>=Math.min(w.y,O.y)}function M(w){return w>0?1:w<0?-1:0}function z(w,D){var O=w;do{if(O.i!==w.i&&O.next.i!==w.i&&O.i!==D.i&&O.next.i!==D.i&&R(O,O.next,w,D))return!0;O=O.next}while(O!==w);return!1}function Z(w,D){return B(w.prev,w,w.next)<0?B(w,D,w.next)>=0&&B(w,w.prev,D)>=0:B(w,D,w.prev)<0||B(w,w.next,D)<0}function rt(w,D){var O=w,X=!1,E=(w.x+D.x)/2,N=(w.y+D.y)/2;do O.y>N!=O.next.y>N&&O.next.y!==O.y&&E<(O.next.x-O.x)*(N-O.y)/(O.next.y-O.y)+O.x&&(X=!X),O=O.next;while(O!==w);return X}function tt(w,D){var O=new et(w.i,w.x,w.y),X=new et(D.i,D.x,D.y),E=w.next,N=D.prev;return w.next=D,D.prev=w,O.next=E,E.prev=O,X.next=O,O.prev=X,N.next=X,X.prev=N,X}function G(w,D,O,X){var E=new et(w,D,O);return X?(E.next=X.next,E.prev=X,X.next.prev=E,X.next=E):(E.prev=E,E.next=E),E}function J(w){w.next.prev=w.prev,w.prev.next=w.next,w.prevZ&&(w.prevZ.nextZ=w.nextZ),w.nextZ&&(w.nextZ.prevZ=w.prevZ)}function et(w,D,O){this.i=w,this.x=D,this.y=O,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(w,D,O,X){var E=D&&D.length,N=E?D[0]*O:w.length,F=Math.abs(dt(w,0,N,O));if(E)for(var L=0,$=D.length;L<$;L++){var st=D[L]*O,lt=L<$-1?D[L+1]*O:w.length;F-=Math.abs(dt(w,st,lt,O))}var ft=0;for(L=0;L<X.length;L+=3){var ct=X[L]*O,yt=X[L+1]*O,ut=X[L+2]*O;ft+=Math.abs((w[ct]-w[ut])*(w[yt+1]-w[ct+1])-(w[ct]-w[yt])*(w[ut+1]-w[ct+1]))}return F===0&&ft===0?0:Math.abs((ft-F)/F)};function dt(w,D,O,X){for(var E=0,N=D,F=O-X;N<O;N+=X)E+=(w[F]-w[N])*(w[N+1]+w[F+1]),F=N;return E}return s.flatten=function(w){for(var D=w[0][0].length,O={vertices:[],holes:[],dimensions:D},X=0,E=0;E<w.length;E++){for(var N=0;N<w[E].length;N++)for(var F=0;F<D;F++)O.vertices.push(w[E][N][F]);E>0&&(X+=w[E-1].length,O.holes.push(X))}return O},Zo.exports}var GS=FS();const kS=wp(GS);var $n={},vl={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var HS=vl.exports,n0;function zS(){return n0||(n0=1,function(s,t){(function(e){var r=t&&!t.nodeType&&t,a=s&&!s.nodeType&&s,o=typeof Ru=="object"&&Ru;(o.global===o||o.window===o||o.self===o)&&(e=o);var h,c=2147483647,d=36,p=1,g=26,y=38,v=700,_=72,x=128,A="-",S=/^xn--/,T=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=d-p,R=Math.floor,k=String.fromCharCode,M;function z(E){throw new RangeError(B[E])}function Z(E,N){for(var F=E.length,L=[];F--;)L[F]=N(E[F]);return L}function rt(E,N){var F=E.split("@"),L="";F.length>1&&(L=F[0]+"@",E=F[1]),E=E.replace(I,".");var $=E.split("."),st=Z($,N).join(".");return L+st}function tt(E){for(var N=[],F=0,L=E.length,$,st;F<L;)$=E.charCodeAt(F++),$>=55296&&$<=56319&&F<L?(st=E.charCodeAt(F++),(st&64512)==56320?N.push((($&1023)<<10)+(st&1023)+65536):(N.push($),F--)):N.push($);return N}function G(E){return Z(E,function(N){var F="";return N>65535&&(N-=65536,F+=k(N>>>10&1023|55296),N=56320|N&1023),F+=k(N),F}).join("")}function J(E){return E-48<10?E-22:E-65<26?E-65:E-97<26?E-97:d}function et(E,N){return E+22+75*(E<26)-((N!=0)<<5)}function dt(E,N,F){var L=0;for(E=F?R(E/v):E>>1,E+=R(E/N);E>P*g>>1;L+=d)E=R(E/P);return R(L+(P+1)*E/(E+y))}function w(E){var N=[],F=E.length,L,$=0,st=x,lt=_,ft,ct,yt,ut,vt,xt,Bt,Gt,Tt;for(ft=E.lastIndexOf(A),ft<0&&(ft=0),ct=0;ct<ft;++ct)E.charCodeAt(ct)>=128&&z("not-basic"),N.push(E.charCodeAt(ct));for(yt=ft>0?ft+1:0;yt<F;){for(ut=$,vt=1,xt=d;yt>=F&&z("invalid-input"),Bt=J(E.charCodeAt(yt++)),(Bt>=d||Bt>R((c-$)/vt))&&z("overflow"),$+=Bt*vt,Gt=xt<=lt?p:xt>=lt+g?g:xt-lt,!(Bt<Gt);xt+=d)Tt=d-Gt,vt>R(c/Tt)&&z("overflow"),vt*=Tt;L=N.length+1,lt=dt($-ut,L,ut==0),R($/L)>c-st&&z("overflow"),st+=R($/L),$%=L,N.splice($++,0,st)}return G(N)}function D(E){var N,F,L,$,st,lt,ft,ct,yt,ut,vt,xt=[],Bt,Gt,Tt,At;for(E=tt(E),Bt=E.length,N=x,F=0,st=_,lt=0;lt<Bt;++lt)vt=E[lt],vt<128&&xt.push(k(vt));for(L=$=xt.length,$&&xt.push(A);L<Bt;){for(ft=c,lt=0;lt<Bt;++lt)vt=E[lt],vt>=N&&vt<ft&&(ft=vt);for(Gt=L+1,ft-N>R((c-F)/Gt)&&z("overflow"),F+=(ft-N)*Gt,N=ft,lt=0;lt<Bt;++lt)if(vt=E[lt],vt<N&&++F>c&&z("overflow"),vt==N){for(ct=F,yt=d;ut=yt<=st?p:yt>=st+g?g:yt-st,!(ct<ut);yt+=d)At=ct-ut,Tt=d-ut,xt.push(k(et(ut+At%Tt,0))),ct=R(At/Tt);xt.push(k(et(ct,0))),st=dt(F,Gt,L==$),F=0,++L}++F,++N}return xt.join("")}function O(E){return rt(E,function(N){return S.test(N)?w(N.slice(4).toLowerCase()):N})}function X(E){return rt(E,function(N){return T.test(N)?"xn--"+D(N):N})}if(h={version:"1.4.1",ucs2:{decode:tt,encode:G},decode:w,encode:D,toASCII:X,toUnicode:O},r&&a)if(s.exports==r)a.exports=h;else for(M in h)h.hasOwnProperty(M)&&(r[M]=h[M]);else e.punycode=h})(HS)}(vl,vl.exports)),vl.exports}var bf,s0;function ca(){return s0||(s0=1,bf=TypeError),bf}const XS={},VS=Object.freeze(Object.defineProperty({__proto__:null,default:XS},Symbol.toStringTag,{value:"Module"})),jS=$E(VS);var Ef,a0;function ju(){if(a0)return Ef;a0=1;var s=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,e=s&&t&&typeof t.get=="function"?t.get:null,r=s&&Map.prototype.forEach,a=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,h=a&&o&&typeof o.get=="function"?o.get:null,c=a&&Set.prototype.forEach,d=typeof WeakMap=="function"&&WeakMap.prototype,p=d?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,y=g?WeakSet.prototype.has:null,v=typeof WeakRef=="function"&&WeakRef.prototype,_=v?WeakRef.prototype.deref:null,x=Boolean.prototype.valueOf,A=Object.prototype.toString,S=Function.prototype.toString,T=String.prototype.match,I=String.prototype.slice,B=String.prototype.replace,P=String.prototype.toUpperCase,R=String.prototype.toLowerCase,k=RegExp.prototype.test,M=Array.prototype.concat,z=Array.prototype.join,Z=Array.prototype.slice,rt=Math.floor,tt=typeof BigInt=="function"?BigInt.prototype.valueOf:null,G=Object.getOwnPropertySymbols,J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,et=typeof Symbol=="function"&&typeof Symbol.iterator=="object",dt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===et||!0)?Symbol.toStringTag:null,w=Object.prototype.propertyIsEnumerable,D=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Y){return Y.__proto__}:null);function O(Y,Q){if(Y===1/0||Y===-1/0||Y!==Y||Y&&Y>-1e3&&Y<1e3||k.call(/e/,Q))return Q;var Yt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Y=="number"){var Kt=Y<0?-rt(-Y):rt(Y);if(Kt!==Y){var te=String(Kt),Pt=I.call(Q,te.length+1);return B.call(te,Yt,"$&_")+"."+B.call(B.call(Pt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return B.call(Q,Yt,"$&_")}var X=jS,E=X.custom,N=Gt(E)?E:null,F={__proto__:null,double:'"',single:"'"},L={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Ef=function Y(Q,Yt,Kt,te){var Pt=Yt||{};if($t(Pt,"quoteStyle")&&!$t(F,Pt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if($t(Pt,"maxStringLength")&&(typeof Pt.maxStringLength=="number"?Pt.maxStringLength<0&&Pt.maxStringLength!==1/0:Pt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ye=$t(Pt,"customInspect")?Pt.customInspect:!0;if(typeof Ye!="boolean"&&Ye!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($t(Pt,"indent")&&Pt.indent!==null&&Pt.indent!=="	"&&!(parseInt(Pt.indent,10)===Pt.indent&&Pt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($t(Pt,"numericSeparator")&&typeof Pt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ur=Pt.numericSeparator;if(typeof Q>"u")return"undefined";if(Q===null)return"null";if(typeof Q=="boolean")return Q?"true":"false";if(typeof Q=="string")return He(Q,Pt);if(typeof Q=="number"){if(Q===0)return 1/0/Q>0?"0":"-0";var ze=String(Q);return ur?O(Q,ze):ze}if(typeof Q=="bigint"){var Si=String(Q)+"n";return ur?O(Q,Si):Si}var Mn=typeof Pt.depth>"u"?5:Pt.depth;if(typeof Kt>"u"&&(Kt=0),Kt>=Mn&&Mn>0&&typeof Q=="object")return ft(Q)?"[Array]":"[Object]";var ki=cs(Pt,Kt);if(typeof te>"u")te=[];else if(Ti(te,Q)>=0)return"[Circular]";function $e(cr,On,fr){if(On&&(te=Z.call(te),te.push(On)),fr){var dr={depth:Pt.depth};return $t(Pt,"quoteStyle")&&(dr.quoteStyle=Pt.quoteStyle),Y(cr,dr,Kt+1,te)}return Y(cr,Pt,Kt+1,te)}if(typeof Q=="function"&&!yt(Q)){var Ul=lr(Q),Ai=ui(Q,$e);return"[Function"+(Ul?": "+Ul:" (anonymous)")+"]"+(Ai.length>0?" { "+z.call(Ai,", ")+" }":"")}if(Gt(Q)){var Ae=et?B.call(String(Q),/^(Symbol\(.*\))_[^)]*$/,"$1"):J.call(Q);return typeof Q=="object"&&!et?Se(Ae):Ae}if(Cn(Q)){for(var xe="<"+R.call(String(Q.nodeName)),Hi=Q.attributes||[],Vr=0;Vr<Hi.length;Vr++)xe+=" "+Hi[Vr].name+"="+$(st(Hi[Vr].value),"double",Pt);return xe+=">",Q.childNodes&&Q.childNodes.length&&(xe+="..."),xe+="</"+R.call(String(Q.nodeName))+">",xe}if(ft(Q)){if(Q.length===0)return"[]";var ma=ui(Q,$e);return ki&&!ih(ma)?"["+Xr(ma,ki)+"]":"[ "+z.call(ma,", ")+" ]"}if(ut(Q)){var ga=ui(Q,$e);return!("cause"in Error.prototype)&&"cause"in Q&&!w.call(Q,"cause")?"{ ["+String(Q)+"] "+z.call(M.call("[cause]: "+$e(Q.cause),ga),", ")+" }":ga.length===0?"["+String(Q)+"]":"{ ["+String(Q)+"] "+z.call(ga,", ")+" }"}if(typeof Q=="object"&&Ye){if(N&&typeof Q[N]=="function"&&X)return X(Q,{depth:Mn-Kt});if(Ye!=="symbol"&&typeof Q.inspect=="function")return Q.inspect()}if(ke(Q)){var ya=[];return r&&r.call(Q,function(cr,On){ya.push($e(On,Q,!0)+" => "+$e(cr,Q))}),Pl("Map",e.call(Q),ya,ki)}if(zr(Q)){var jr=[];return c&&c.call(Q,function(cr){jr.push($e(cr,Q))}),Pl("Set",h.call(Q),jr,ki)}if(Hr(Q))return pa("WeakMap");if(eh(Q))return pa("WeakSet");if(or(Q))return pa("WeakRef");if(xt(Q))return Se($e(Number(Q)));if(Tt(Q))return Se($e(tt.call(Q)));if(Bt(Q))return Se(x.call(Q));if(vt(Q))return Se($e(String(Q)));if(typeof window<"u"&&Q===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Q===globalThis||typeof Ru<"u"&&Q===Ru)return"{ [object globalThis] }";if(!ct(Q)&&!yt(Q)){var Dn=ui(Q,$e),hr=D?D(Q)===Object.prototype:Q instanceof Object||Q.constructor===Object,zi=Q instanceof Object?"":"null prototype",qr=!hr&&dt&&Object(Q)===Q&&dt in Q?I.call(ge(Q),8,-1):zi?"Object":"",Yr=hr||typeof Q.constructor!="function"?"":Q.constructor.name?Q.constructor.name+" ":"",de=Yr+(qr||zi?"["+z.call(M.call([],qr||[],zi||[]),": ")+"] ":"");return Dn.length===0?de+"{}":ki?de+"{"+Xr(Dn,ki)+"}":de+"{ "+z.call(Dn,", ")+" }"}return String(Q)};function $(Y,Q,Yt){var Kt=Yt.quoteStyle||Q,te=F[Kt];return te+Y+te}function st(Y){return B.call(String(Y),/"/g,"&quot;")}function lt(Y){return!dt||!(typeof Y=="object"&&(dt in Y||typeof Y[dt]<"u"))}function ft(Y){return ge(Y)==="[object Array]"&&lt(Y)}function ct(Y){return ge(Y)==="[object Date]"&&lt(Y)}function yt(Y){return ge(Y)==="[object RegExp]"&&lt(Y)}function ut(Y){return ge(Y)==="[object Error]"&&lt(Y)}function vt(Y){return ge(Y)==="[object String]"&&lt(Y)}function xt(Y){return ge(Y)==="[object Number]"&&lt(Y)}function Bt(Y){return ge(Y)==="[object Boolean]"&&lt(Y)}function Gt(Y){if(et)return Y&&typeof Y=="object"&&Y instanceof Symbol;if(typeof Y=="symbol")return!0;if(!Y||typeof Y!="object"||!J)return!1;try{return J.call(Y),!0}catch{}return!1}function Tt(Y){if(!Y||typeof Y!="object"||!tt)return!1;try{return tt.call(Y),!0}catch{}return!1}var At=Object.prototype.hasOwnProperty||function(Y){return Y in this};function $t(Y,Q){return At.call(Y,Q)}function ge(Y){return A.call(Y)}function lr(Y){if(Y.name)return Y.name;var Q=T.call(S.call(Y),/^function\s*([\w$]+)/);return Q?Q[1]:null}function Ti(Y,Q){if(Y.indexOf)return Y.indexOf(Q);for(var Yt=0,Kt=Y.length;Yt<Kt;Yt++)if(Y[Yt]===Q)return Yt;return-1}function ke(Y){if(!e||!Y||typeof Y!="object")return!1;try{e.call(Y);try{h.call(Y)}catch{return!0}return Y instanceof Map}catch{}return!1}function Hr(Y){if(!p||!Y||typeof Y!="object")return!1;try{p.call(Y,p);try{y.call(Y,y)}catch{return!0}return Y instanceof WeakMap}catch{}return!1}function or(Y){if(!_||!Y||typeof Y!="object")return!1;try{return _.call(Y),!0}catch{}return!1}function zr(Y){if(!h||!Y||typeof Y!="object")return!1;try{h.call(Y);try{e.call(Y)}catch{return!0}return Y instanceof Set}catch{}return!1}function eh(Y){if(!y||!Y||typeof Y!="object")return!1;try{y.call(Y,y);try{p.call(Y,p)}catch{return!0}return Y instanceof WeakSet}catch{}return!1}function Cn(Y){return!Y||typeof Y!="object"?!1:typeof HTMLElement<"u"&&Y instanceof HTMLElement?!0:typeof Y.nodeName=="string"&&typeof Y.getAttribute=="function"}function He(Y,Q){if(Y.length>Q.maxStringLength){var Yt=Y.length-Q.maxStringLength,Kt="... "+Yt+" more character"+(Yt>1?"s":"");return He(I.call(Y,0,Q.maxStringLength),Q)+Kt}var te=L[Q.quoteStyle||"single"];te.lastIndex=0;var Pt=B.call(B.call(Y,te,"\\$1"),/[\x00-\x1f]/g,Gi);return $(Pt,"single",Q)}function Gi(Y){var Q=Y.charCodeAt(0),Yt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Q];return Yt?"\\"+Yt:"\\x"+(Q<16?"0":"")+P.call(Q.toString(16))}function Se(Y){return"Object("+Y+")"}function pa(Y){return Y+" { ? }"}function Pl(Y,Q,Yt,Kt){var te=Kt?Xr(Yt,Kt):z.call(Yt,", ");return Y+" ("+Q+") {"+te+"}"}function ih(Y){for(var Q=0;Q<Y.length;Q++)if(Ti(Y[Q],`
`)>=0)return!1;return!0}function cs(Y,Q){var Yt;if(Y.indent==="	")Yt="	";else if(typeof Y.indent=="number"&&Y.indent>0)Yt=z.call(Array(Y.indent+1)," ");else return null;return{base:Yt,prev:z.call(Array(Q+1),Yt)}}function Xr(Y,Q){if(Y.length===0)return"";var Yt=`
`+Q.prev+Q.base;return Yt+z.call(Y,","+Yt)+`
`+Q.prev}function ui(Y,Q){var Yt=ft(Y),Kt=[];if(Yt){Kt.length=Y.length;for(var te=0;te<Y.length;te++)Kt[te]=$t(Y,te)?Q(Y[te],Y):""}var Pt=typeof G=="function"?G(Y):[],Ye;if(et){Ye={};for(var ur=0;ur<Pt.length;ur++)Ye["$"+Pt[ur]]=Pt[ur]}for(var ze in Y)$t(Y,ze)&&(Yt&&String(Number(ze))===ze&&ze<Y.length||et&&Ye["$"+ze]instanceof Symbol||(k.call(/[^\w$]/,ze)?Kt.push(Q(ze,Y)+": "+Q(Y[ze],Y)):Kt.push(ze+": "+Q(Y[ze],Y))));if(typeof G=="function")for(var Si=0;Si<Pt.length;Si++)w.call(Y,Pt[Si])&&Kt.push("["+Q(Pt[Si])+"]: "+Q(Y[Pt[Si]],Y));return Kt}return Ef}var Tf,l0;function qS(){if(l0)return Tf;l0=1;var s=ju(),t=ca(),e=function(c,d,p){for(var g=c,y;(y=g.next)!=null;g=y)if(y.key===d)return g.next=y.next,p||(y.next=c.next,c.next=y),y},r=function(c,d){if(c){var p=e(c,d);return p&&p.value}},a=function(c,d,p){var g=e(c,d);g?g.value=p:c.next={key:d,next:c.next,value:p}},o=function(c,d){return c?!!e(c,d):!1},h=function(c,d){if(c)return e(c,d,!0)};return Tf=function(){var d,p={assert:function(g){if(!p.has(g))throw new t("Side channel does not contain "+s(g))},delete:function(g){var y=d&&d.next,v=h(d,g);return v&&y&&y===v&&(d=void 0),!!v},get:function(g){return r(d,g)},has:function(g){return o(d,g)},set:function(g,y){d||(d={next:void 0}),a(d,g,y)}};return p},Tf}var Sf,o0;function px(){return o0||(o0=1,Sf=Object),Sf}var Af,u0;function YS(){return u0||(u0=1,Af=Error),Af}var wf,h0;function $S(){return h0||(h0=1,wf=EvalError),wf}var Rf,c0;function WS(){return c0||(c0=1,Rf=RangeError),Rf}var Cf,f0;function ZS(){return f0||(f0=1,Cf=ReferenceError),Cf}var Mf,d0;function KS(){return d0||(d0=1,Mf=SyntaxError),Mf}var Df,p0;function QS(){return p0||(p0=1,Df=URIError),Df}var Of,m0;function JS(){return m0||(m0=1,Of=Math.abs),Of}var Bf,g0;function tA(){return g0||(g0=1,Bf=Math.floor),Bf}var If,y0;function eA(){return y0||(y0=1,If=Math.max),If}var Nf,v0;function iA(){return v0||(v0=1,Nf=Math.min),Nf}var Pf,_0;function rA(){return _0||(_0=1,Pf=Math.pow),Pf}var Uf,x0;function nA(){return x0||(x0=1,Uf=Math.round),Uf}var Lf,b0;function sA(){return b0||(b0=1,Lf=Number.isNaN||function(t){return t!==t}),Lf}var Ff,E0;function aA(){if(E0)return Ff;E0=1;var s=sA();return Ff=function(e){return s(e)||e===0?e:e<0?-1:1},Ff}var Gf,T0;function lA(){return T0||(T0=1,Gf=Object.getOwnPropertyDescriptor),Gf}var kf,S0;function mx(){if(S0)return kf;S0=1;var s=lA();if(s)try{s([],"length")}catch{s=null}return kf=s,kf}var Hf,A0;function oA(){if(A0)return Hf;A0=1;var s=Object.defineProperty||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}return Hf=s,Hf}var zf,w0;function uA(){return w0||(w0=1,zf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),r=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var a=42;t[e]=a;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var h=Object.getOwnPropertySymbols(t);if(h.length!==1||h[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(t,e);if(c.value!==a||c.enumerable!==!0)return!1}return!0}),zf}var Xf,R0;function hA(){if(R0)return Xf;R0=1;var s=typeof Symbol<"u"&&Symbol,t=uA();return Xf=function(){return typeof s!="function"||typeof Symbol!="function"||typeof s("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Xf}var Vf,C0;function gx(){return C0||(C0=1,Vf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Vf}var jf,M0;function yx(){if(M0)return jf;M0=1;var s=px();return jf=s.getPrototypeOf||null,jf}var qf,D0;function cA(){if(D0)return qf;D0=1;var s="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,e=Math.max,r="[object Function]",a=function(d,p){for(var g=[],y=0;y<d.length;y+=1)g[y]=d[y];for(var v=0;v<p.length;v+=1)g[v+d.length]=p[v];return g},o=function(d,p){for(var g=[],y=p,v=0;y<d.length;y+=1,v+=1)g[v]=d[y];return g},h=function(c,d){for(var p="",g=0;g<c.length;g+=1)p+=c[g],g+1<c.length&&(p+=d);return p};return qf=function(d){var p=this;if(typeof p!="function"||t.apply(p)!==r)throw new TypeError(s+p);for(var g=o(arguments,1),y,v=function(){if(this instanceof y){var T=p.apply(this,a(g,arguments));return Object(T)===T?T:this}return p.apply(d,a(g,arguments))},_=e(0,p.length-g.length),x=[],A=0;A<_;A++)x[A]="$"+A;if(y=Function("binder","return function ("+h(x,",")+"){ return binder.apply(this,arguments); }")(v),p.prototype){var S=function(){};S.prototype=p.prototype,y.prototype=new S,S.prototype=null}return y},qf}var Yf,O0;function qu(){if(O0)return Yf;O0=1;var s=cA();return Yf=Function.prototype.bind||s,Yf}var $f,B0;function Pp(){return B0||(B0=1,$f=Function.prototype.call),$f}var Wf,I0;function vx(){return I0||(I0=1,Wf=Function.prototype.apply),Wf}var Zf,N0;function fA(){return N0||(N0=1,Zf=typeof Reflect<"u"&&Reflect&&Reflect.apply),Zf}var Kf,P0;function dA(){if(P0)return Kf;P0=1;var s=qu(),t=vx(),e=Pp(),r=fA();return Kf=r||s.call(e,t),Kf}var Qf,U0;function _x(){if(U0)return Qf;U0=1;var s=qu(),t=ca(),e=Pp(),r=dA();return Qf=function(o){if(o.length<1||typeof o[0]!="function")throw new t("a function is required");return r(s,e,o)},Qf}var Jf,L0;function pA(){if(L0)return Jf;L0=1;var s=_x(),t=mx(),e;try{e=[].__proto__===Array.prototype}catch(h){if(!h||typeof h!="object"||!("code"in h)||h.code!=="ERR_PROTO_ACCESS")throw h}var r=!!e&&t&&t(Object.prototype,"__proto__"),a=Object,o=a.getPrototypeOf;return Jf=r&&typeof r.get=="function"?s([r.get]):typeof o=="function"?function(c){return o(c==null?c:a(c))}:!1,Jf}var td,F0;function mA(){if(F0)return td;F0=1;var s=gx(),t=yx(),e=pA();return td=s?function(a){return s(a)}:t?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return t(a)}:e?function(a){return e(a)}:null,td}var ed,G0;function gA(){if(G0)return ed;G0=1;var s=Function.prototype.call,t=Object.prototype.hasOwnProperty,e=qu();return ed=e.call(s,t),ed}var id,k0;function Up(){if(k0)return id;k0=1;var s,t=px(),e=YS(),r=$S(),a=WS(),o=ZS(),h=KS(),c=ca(),d=QS(),p=JS(),g=tA(),y=eA(),v=iA(),_=rA(),x=nA(),A=aA(),S=Function,T=function(yt){try{return S('"use strict"; return ('+yt+").constructor;")()}catch{}},I=mx(),B=oA(),P=function(){throw new c},R=I?function(){try{return arguments.callee,P}catch{try{return I(arguments,"callee").get}catch{return P}}}():P,k=hA()(),M=mA(),z=yx(),Z=gx(),rt=vx(),tt=Pp(),G={},J=typeof Uint8Array>"u"||!M?s:M(Uint8Array),et={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?s:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?s:ArrayBuffer,"%ArrayIteratorPrototype%":k&&M?M([][Symbol.iterator]()):s,"%AsyncFromSyncIteratorPrototype%":s,"%AsyncFunction%":G,"%AsyncGenerator%":G,"%AsyncGeneratorFunction%":G,"%AsyncIteratorPrototype%":G,"%Atomics%":typeof Atomics>"u"?s:Atomics,"%BigInt%":typeof BigInt>"u"?s:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?s:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?s:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?s:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?s:Float16Array,"%Float32Array%":typeof Float32Array>"u"?s:Float32Array,"%Float64Array%":typeof Float64Array>"u"?s:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?s:FinalizationRegistry,"%Function%":S,"%GeneratorFunction%":G,"%Int8Array%":typeof Int8Array>"u"?s:Int8Array,"%Int16Array%":typeof Int16Array>"u"?s:Int16Array,"%Int32Array%":typeof Int32Array>"u"?s:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&M?M(M([][Symbol.iterator]())):s,"%JSON%":typeof JSON=="object"?JSON:s,"%Map%":typeof Map>"u"?s:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!M?s:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?s:Promise,"%Proxy%":typeof Proxy>"u"?s:Proxy,"%RangeError%":a,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?s:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?s:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!M?s:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?s:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&M?M(""[Symbol.iterator]()):s,"%Symbol%":k?Symbol:s,"%SyntaxError%":h,"%ThrowTypeError%":R,"%TypedArray%":J,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?s:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?s:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?s:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?s:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?s:WeakMap,"%WeakRef%":typeof WeakRef>"u"?s:WeakRef,"%WeakSet%":typeof WeakSet>"u"?s:WeakSet,"%Function.prototype.call%":tt,"%Function.prototype.apply%":rt,"%Object.defineProperty%":B,"%Object.getPrototypeOf%":z,"%Math.abs%":p,"%Math.floor%":g,"%Math.max%":y,"%Math.min%":v,"%Math.pow%":_,"%Math.round%":x,"%Math.sign%":A,"%Reflect.getPrototypeOf%":Z};if(M)try{null.error}catch(yt){var dt=M(M(yt));et["%Error.prototype%"]=dt}var w=function yt(ut){var vt;if(ut==="%AsyncFunction%")vt=T("async function () {}");else if(ut==="%GeneratorFunction%")vt=T("function* () {}");else if(ut==="%AsyncGeneratorFunction%")vt=T("async function* () {}");else if(ut==="%AsyncGenerator%"){var xt=yt("%AsyncGeneratorFunction%");xt&&(vt=xt.prototype)}else if(ut==="%AsyncIteratorPrototype%"){var Bt=yt("%AsyncGenerator%");Bt&&M&&(vt=M(Bt.prototype))}return et[ut]=vt,vt},D={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=qu(),X=gA(),E=O.call(tt,Array.prototype.concat),N=O.call(rt,Array.prototype.splice),F=O.call(tt,String.prototype.replace),L=O.call(tt,String.prototype.slice),$=O.call(tt,RegExp.prototype.exec),st=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,ft=function(ut){var vt=L(ut,0,1),xt=L(ut,-1);if(vt==="%"&&xt!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(xt==="%"&&vt!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var Bt=[];return F(ut,st,function(Gt,Tt,At,$t){Bt[Bt.length]=At?F($t,lt,"$1"):Tt||Gt}),Bt},ct=function(ut,vt){var xt=ut,Bt;if(X(D,xt)&&(Bt=D[xt],xt="%"+Bt[0]+"%"),X(et,xt)){var Gt=et[xt];if(Gt===G&&(Gt=w(xt)),typeof Gt>"u"&&!vt)throw new c("intrinsic "+ut+" exists, but is not available. Please file an issue!");return{alias:Bt,name:xt,value:Gt}}throw new h("intrinsic "+ut+" does not exist!")};return id=function(ut,vt){if(typeof ut!="string"||ut.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof vt!="boolean")throw new c('"allowMissing" argument must be a boolean');if($(/^%?[^%]*%?$/,ut)===null)throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var xt=ft(ut),Bt=xt.length>0?xt[0]:"",Gt=ct("%"+Bt+"%",vt),Tt=Gt.name,At=Gt.value,$t=!1,ge=Gt.alias;ge&&(Bt=ge[0],N(xt,E([0,1],ge)));for(var lr=1,Ti=!0;lr<xt.length;lr+=1){var ke=xt[lr],Hr=L(ke,0,1),or=L(ke,-1);if((Hr==='"'||Hr==="'"||Hr==="`"||or==='"'||or==="'"||or==="`")&&Hr!==or)throw new h("property names with quotes must have matching quotes");if((ke==="constructor"||!Ti)&&($t=!0),Bt+="."+ke,Tt="%"+Bt+"%",X(et,Tt))At=et[Tt];else if(At!=null){if(!(ke in At)){if(!vt)throw new c("base intrinsic for "+ut+" exists, but the property is not available.");return}if(I&&lr+1>=xt.length){var zr=I(At,ke);Ti=!!zr,Ti&&"get"in zr&&!("originalValue"in zr.get)?At=zr.get:At=At[ke]}else Ti=X(At,ke),At=At[ke];Ti&&!$t&&(et[Tt]=At)}}return At},id}var rd,H0;function xx(){if(H0)return rd;H0=1;var s=Up(),t=_x(),e=t([s("%String.prototype.indexOf%")]);return rd=function(a,o){var h=s(a,!!o);return typeof h=="function"&&e(a,".prototype.")>-1?t([h]):h},rd}var nd,z0;function bx(){if(z0)return nd;z0=1;var s=Up(),t=xx(),e=ju(),r=ca(),a=s("%Map%",!0),o=t("Map.prototype.get",!0),h=t("Map.prototype.set",!0),c=t("Map.prototype.has",!0),d=t("Map.prototype.delete",!0),p=t("Map.prototype.size",!0);return nd=!!a&&function(){var y,v={assert:function(_){if(!v.has(_))throw new r("Side channel does not contain "+e(_))},delete:function(_){if(y){var x=d(y,_);return p(y)===0&&(y=void 0),x}return!1},get:function(_){if(y)return o(y,_)},has:function(_){return y?c(y,_):!1},set:function(_,x){y||(y=new a),h(y,_,x)}};return v},nd}var sd,X0;function yA(){if(X0)return sd;X0=1;var s=Up(),t=xx(),e=ju(),r=bx(),a=ca(),o=s("%WeakMap%",!0),h=t("WeakMap.prototype.get",!0),c=t("WeakMap.prototype.set",!0),d=t("WeakMap.prototype.has",!0),p=t("WeakMap.prototype.delete",!0);return sd=o?function(){var y,v,_={assert:function(x){if(!_.has(x))throw new a("Side channel does not contain "+e(x))},delete:function(x){if(o&&x&&(typeof x=="object"||typeof x=="function")){if(y)return p(y,x)}else if(r&&v)return v.delete(x);return!1},get:function(x){return o&&x&&(typeof x=="object"||typeof x=="function")&&y?h(y,x):v&&v.get(x)},has:function(x){return o&&x&&(typeof x=="object"||typeof x=="function")&&y?d(y,x):!!v&&v.has(x)},set:function(x,A){o&&x&&(typeof x=="object"||typeof x=="function")?(y||(y=new o),c(y,x,A)):r&&(v||(v=r()),v.set(x,A))}};return _}:r,sd}var ad,V0;function vA(){if(V0)return ad;V0=1;var s=ca(),t=ju(),e=qS(),r=bx(),a=yA(),o=a||r||e;return ad=function(){var c,d={assert:function(p){if(!d.has(p))throw new s("Side channel does not contain "+t(p))},delete:function(p){return!!c&&c.delete(p)},get:function(p){return c&&c.get(p)},has:function(p){return!!c&&c.has(p)},set:function(p,g){c||(c=o()),c.set(p,g)}};return d},ad}var ld,j0;function Lp(){if(j0)return ld;j0=1;var s=String.prototype.replace,t=/%20/g,e={RFC1738:"RFC1738",RFC3986:"RFC3986"};return ld={default:e.RFC3986,formatters:{RFC1738:function(r){return s.call(r,t,"+")},RFC3986:function(r){return String(r)}},RFC1738:e.RFC1738,RFC3986:e.RFC3986},ld}var od,q0;function Ex(){if(q0)return od;q0=1;var s=Lp(),t=Object.prototype.hasOwnProperty,e=Array.isArray,r=function(){for(var S=[],T=0;T<256;++T)S.push("%"+((T<16?"0":"")+T.toString(16)).toUpperCase());return S}(),a=function(T){for(;T.length>1;){var I=T.pop(),B=I.obj[I.prop];if(e(B)){for(var P=[],R=0;R<B.length;++R)typeof B[R]<"u"&&P.push(B[R]);I.obj[I.prop]=P}}},o=function(T,I){for(var B=I&&I.plainObjects?{__proto__:null}:{},P=0;P<T.length;++P)typeof T[P]<"u"&&(B[P]=T[P]);return B},h=function S(T,I,B){if(!I)return T;if(typeof I!="object"&&typeof I!="function"){if(e(T))T.push(I);else if(T&&typeof T=="object")(B&&(B.plainObjects||B.allowPrototypes)||!t.call(Object.prototype,I))&&(T[I]=!0);else return[T,I];return T}if(!T||typeof T!="object")return[T].concat(I);var P=T;return e(T)&&!e(I)&&(P=o(T,B)),e(T)&&e(I)?(I.forEach(function(R,k){if(t.call(T,k)){var M=T[k];M&&typeof M=="object"&&R&&typeof R=="object"?T[k]=S(M,R,B):T.push(R)}else T[k]=R}),T):Object.keys(I).reduce(function(R,k){var M=I[k];return t.call(R,k)?R[k]=S(R[k],M,B):R[k]=M,R},P)},c=function(T,I){return Object.keys(I).reduce(function(B,P){return B[P]=I[P],B},T)},d=function(S,T,I){var B=S.replace(/\+/g," ");if(I==="iso-8859-1")return B.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(B)}catch{return B}},p=1024,g=function(T,I,B,P,R){if(T.length===0)return T;var k=T;if(typeof T=="symbol"?k=Symbol.prototype.toString.call(T):typeof T!="string"&&(k=String(T)),B==="iso-8859-1")return escape(k).replace(/%u[0-9a-f]{4}/gi,function(J){return"%26%23"+parseInt(J.slice(2),16)+"%3B"});for(var M="",z=0;z<k.length;z+=p){for(var Z=k.length>=p?k.slice(z,z+p):k,rt=[],tt=0;tt<Z.length;++tt){var G=Z.charCodeAt(tt);if(G===45||G===46||G===95||G===126||G>=48&&G<=57||G>=65&&G<=90||G>=97&&G<=122||R===s.RFC1738&&(G===40||G===41)){rt[rt.length]=Z.charAt(tt);continue}if(G<128){rt[rt.length]=r[G];continue}if(G<2048){rt[rt.length]=r[192|G>>6]+r[128|G&63];continue}if(G<55296||G>=57344){rt[rt.length]=r[224|G>>12]+r[128|G>>6&63]+r[128|G&63];continue}tt+=1,G=65536+((G&1023)<<10|Z.charCodeAt(tt)&1023),rt[rt.length]=r[240|G>>18]+r[128|G>>12&63]+r[128|G>>6&63]+r[128|G&63]}M+=rt.join("")}return M},y=function(T){for(var I=[{obj:{o:T},prop:"o"}],B=[],P=0;P<I.length;++P)for(var R=I[P],k=R.obj[R.prop],M=Object.keys(k),z=0;z<M.length;++z){var Z=M[z],rt=k[Z];typeof rt=="object"&&rt!==null&&B.indexOf(rt)===-1&&(I.push({obj:k,prop:Z}),B.push(rt))}return a(I),T},v=function(T){return Object.prototype.toString.call(T)==="[object RegExp]"},_=function(T){return!T||typeof T!="object"?!1:!!(T.constructor&&T.constructor.isBuffer&&T.constructor.isBuffer(T))},x=function(T,I){return[].concat(T,I)},A=function(T,I){if(e(T)){for(var B=[],P=0;P<T.length;P+=1)B.push(I(T[P]));return B}return I(T)};return od={arrayToObject:o,assign:c,combine:x,compact:y,decode:d,encode:g,isBuffer:_,isRegExp:v,maybeMap:A,merge:h},od}var ud,Y0;function _A(){if(Y0)return ud;Y0=1;var s=vA(),t=Ex(),e=Lp(),r=Object.prototype.hasOwnProperty,a={brackets:function(S){return S+"[]"},comma:"comma",indices:function(S,T){return S+"["+T+"]"},repeat:function(S){return S}},o=Array.isArray,h=Array.prototype.push,c=function(A,S){h.apply(A,o(S)?S:[S])},d=Date.prototype.toISOString,p=e.default,g={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:p,formatter:e.formatters[p],indices:!1,serializeDate:function(S){return d.call(S)},skipNulls:!1,strictNullHandling:!1},y=function(S){return typeof S=="string"||typeof S=="number"||typeof S=="boolean"||typeof S=="symbol"||typeof S=="bigint"},v={},_=function A(S,T,I,B,P,R,k,M,z,Z,rt,tt,G,J,et,dt,w,D){for(var O=S,X=D,E=0,N=!1;(X=X.get(v))!==void 0&&!N;){var F=X.get(S);if(E+=1,typeof F<"u"){if(F===E)throw new RangeError("Cyclic object value");N=!0}typeof X.get(v)>"u"&&(E=0)}if(typeof Z=="function"?O=Z(T,O):O instanceof Date?O=G(O):I==="comma"&&o(O)&&(O=t.maybeMap(O,function(Tt){return Tt instanceof Date?G(Tt):Tt})),O===null){if(R)return z&&!dt?z(T,g.encoder,w,"key",J):T;O=""}if(y(O)||t.isBuffer(O)){if(z){var L=dt?T:z(T,g.encoder,w,"key",J);return[et(L)+"="+et(z(O,g.encoder,w,"value",J))]}return[et(T)+"="+et(String(O))]}var $=[];if(typeof O>"u")return $;var st;if(I==="comma"&&o(O))dt&&z&&(O=t.maybeMap(O,z)),st=[{value:O.length>0?O.join(",")||null:void 0}];else if(o(Z))st=Z;else{var lt=Object.keys(O);st=rt?lt.sort(rt):lt}var ft=M?String(T).replace(/\./g,"%2E"):String(T),ct=B&&o(O)&&O.length===1?ft+"[]":ft;if(P&&o(O)&&O.length===0)return ct+"[]";for(var yt=0;yt<st.length;++yt){var ut=st[yt],vt=typeof ut=="object"&&ut&&typeof ut.value<"u"?ut.value:O[ut];if(!(k&&vt===null)){var xt=tt&&M?String(ut).replace(/\./g,"%2E"):String(ut),Bt=o(O)?typeof I=="function"?I(ct,xt):ct:ct+(tt?"."+xt:"["+xt+"]");D.set(S,E);var Gt=s();Gt.set(v,D),c($,A(vt,Bt,I,B,P,R,k,M,I==="comma"&&dt&&o(O)?null:z,Z,rt,tt,G,J,et,dt,w,Gt))}}return $},x=function(S){if(!S)return g;if(typeof S.allowEmptyArrays<"u"&&typeof S.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof S.encodeDotInKeys<"u"&&typeof S.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(S.encoder!==null&&typeof S.encoder<"u"&&typeof S.encoder!="function")throw new TypeError("Encoder has to be a function.");var T=S.charset||g.charset;if(typeof S.charset<"u"&&S.charset!=="utf-8"&&S.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var I=e.default;if(typeof S.format<"u"){if(!r.call(e.formatters,S.format))throw new TypeError("Unknown format option provided.");I=S.format}var B=e.formatters[I],P=g.filter;(typeof S.filter=="function"||o(S.filter))&&(P=S.filter);var R;if(S.arrayFormat in a?R=S.arrayFormat:"indices"in S?R=S.indices?"indices":"repeat":R=g.arrayFormat,"commaRoundTrip"in S&&typeof S.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var k=typeof S.allowDots>"u"?S.encodeDotInKeys===!0?!0:g.allowDots:!!S.allowDots;return{addQueryPrefix:typeof S.addQueryPrefix=="boolean"?S.addQueryPrefix:g.addQueryPrefix,allowDots:k,allowEmptyArrays:typeof S.allowEmptyArrays=="boolean"?!!S.allowEmptyArrays:g.allowEmptyArrays,arrayFormat:R,charset:T,charsetSentinel:typeof S.charsetSentinel=="boolean"?S.charsetSentinel:g.charsetSentinel,commaRoundTrip:!!S.commaRoundTrip,delimiter:typeof S.delimiter>"u"?g.delimiter:S.delimiter,encode:typeof S.encode=="boolean"?S.encode:g.encode,encodeDotInKeys:typeof S.encodeDotInKeys=="boolean"?S.encodeDotInKeys:g.encodeDotInKeys,encoder:typeof S.encoder=="function"?S.encoder:g.encoder,encodeValuesOnly:typeof S.encodeValuesOnly=="boolean"?S.encodeValuesOnly:g.encodeValuesOnly,filter:P,format:I,formatter:B,serializeDate:typeof S.serializeDate=="function"?S.serializeDate:g.serializeDate,skipNulls:typeof S.skipNulls=="boolean"?S.skipNulls:g.skipNulls,sort:typeof S.sort=="function"?S.sort:null,strictNullHandling:typeof S.strictNullHandling=="boolean"?S.strictNullHandling:g.strictNullHandling}};return ud=function(A,S){var T=A,I=x(S),B,P;typeof I.filter=="function"?(P=I.filter,T=P("",T)):o(I.filter)&&(P=I.filter,B=P);var R=[];if(typeof T!="object"||T===null)return"";var k=a[I.arrayFormat],M=k==="comma"&&I.commaRoundTrip;B||(B=Object.keys(T)),I.sort&&B.sort(I.sort);for(var z=s(),Z=0;Z<B.length;++Z){var rt=B[Z],tt=T[rt];I.skipNulls&&tt===null||c(R,_(tt,rt,k,M,I.allowEmptyArrays,I.strictNullHandling,I.skipNulls,I.encodeDotInKeys,I.encode?I.encoder:null,I.filter,I.sort,I.allowDots,I.serializeDate,I.format,I.formatter,I.encodeValuesOnly,I.charset,z))}var G=R.join(I.delimiter),J=I.addQueryPrefix===!0?"?":"";return I.charsetSentinel&&(I.charset==="iso-8859-1"?J+="utf8=%26%2310003%3B&":J+="utf8=%E2%9C%93&"),G.length>0?J+G:""},ud}var hd,$0;function xA(){if($0)return hd;$0=1;var s=Ex(),t=Object.prototype.hasOwnProperty,e=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:s.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},a=function(v){return v.replace(/&#(\d+);/g,function(_,x){return String.fromCharCode(parseInt(x,10))})},o=function(v,_,x){if(v&&typeof v=="string"&&_.comma&&v.indexOf(",")>-1)return v.split(",");if(_.throwOnLimitExceeded&&x>=_.arrayLimit)throw new RangeError("Array limit exceeded. Only "+_.arrayLimit+" element"+(_.arrayLimit===1?"":"s")+" allowed in an array.");return v},h="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",d=function(_,x){var A={__proto__:null},S=x.ignoreQueryPrefix?_.replace(/^\?/,""):_;S=S.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var T=x.parameterLimit===1/0?void 0:x.parameterLimit,I=S.split(x.delimiter,x.throwOnLimitExceeded?T+1:T);if(x.throwOnLimitExceeded&&I.length>T)throw new RangeError("Parameter limit exceeded. Only "+T+" parameter"+(T===1?"":"s")+" allowed.");var B=-1,P,R=x.charset;if(x.charsetSentinel)for(P=0;P<I.length;++P)I[P].indexOf("utf8=")===0&&(I[P]===c?R="utf-8":I[P]===h&&(R="iso-8859-1"),B=P,P=I.length);for(P=0;P<I.length;++P)if(P!==B){var k=I[P],M=k.indexOf("]="),z=M===-1?k.indexOf("="):M+1,Z,rt;z===-1?(Z=x.decoder(k,r.decoder,R,"key"),rt=x.strictNullHandling?null:""):(Z=x.decoder(k.slice(0,z),r.decoder,R,"key"),rt=s.maybeMap(o(k.slice(z+1),x,e(A[Z])?A[Z].length:0),function(G){return x.decoder(G,r.decoder,R,"value")})),rt&&x.interpretNumericEntities&&R==="iso-8859-1"&&(rt=a(String(rt))),k.indexOf("[]=")>-1&&(rt=e(rt)?[rt]:rt);var tt=t.call(A,Z);tt&&x.duplicates==="combine"?A[Z]=s.combine(A[Z],rt):(!tt||x.duplicates==="last")&&(A[Z]=rt)}return A},p=function(v,_,x,A){var S=0;if(v.length>0&&v[v.length-1]==="[]"){var T=v.slice(0,-1).join("");S=Array.isArray(_)&&_[T]?_[T].length:0}for(var I=A?_:o(_,x,S),B=v.length-1;B>=0;--B){var P,R=v[B];if(R==="[]"&&x.parseArrays)P=x.allowEmptyArrays&&(I===""||x.strictNullHandling&&I===null)?[]:s.combine([],I);else{P=x.plainObjects?{__proto__:null}:{};var k=R.charAt(0)==="["&&R.charAt(R.length-1)==="]"?R.slice(1,-1):R,M=x.decodeDotInKeys?k.replace(/%2E/g,"."):k,z=parseInt(M,10);!x.parseArrays&&M===""?P={0:I}:!isNaN(z)&&R!==M&&String(z)===M&&z>=0&&x.parseArrays&&z<=x.arrayLimit?(P=[],P[z]=I):M!=="__proto__"&&(P[M]=I)}I=P}return I},g=function(_,x,A,S){if(_){var T=A.allowDots?_.replace(/\.([^.[]+)/g,"[$1]"):_,I=/(\[[^[\]]*])/,B=/(\[[^[\]]*])/g,P=A.depth>0&&I.exec(T),R=P?T.slice(0,P.index):T,k=[];if(R){if(!A.plainObjects&&t.call(Object.prototype,R)&&!A.allowPrototypes)return;k.push(R)}for(var M=0;A.depth>0&&(P=B.exec(T))!==null&&M<A.depth;){if(M+=1,!A.plainObjects&&t.call(Object.prototype,P[1].slice(1,-1))&&!A.allowPrototypes)return;k.push(P[1])}if(P){if(A.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+A.depth+" and strictDepth is true");k.push("["+T.slice(P.index)+"]")}return p(k,x,A,S)}},y=function(_){if(!_)return r;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.decodeDotInKeys<"u"&&typeof _.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(_.decoder!==null&&typeof _.decoder<"u"&&typeof _.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof _.throwOnLimitExceeded<"u"&&typeof _.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var x=typeof _.charset>"u"?r.charset:_.charset,A=typeof _.duplicates>"u"?r.duplicates:_.duplicates;if(A!=="combine"&&A!=="first"&&A!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var S=typeof _.allowDots>"u"?_.decodeDotInKeys===!0?!0:r.allowDots:!!_.allowDots;return{allowDots:S,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof _.allowPrototypes=="boolean"?_.allowPrototypes:r.allowPrototypes,allowSparse:typeof _.allowSparse=="boolean"?_.allowSparse:r.allowSparse,arrayLimit:typeof _.arrayLimit=="number"?_.arrayLimit:r.arrayLimit,charset:x,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:r.charsetSentinel,comma:typeof _.comma=="boolean"?_.comma:r.comma,decodeDotInKeys:typeof _.decodeDotInKeys=="boolean"?_.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof _.decoder=="function"?_.decoder:r.decoder,delimiter:typeof _.delimiter=="string"||s.isRegExp(_.delimiter)?_.delimiter:r.delimiter,depth:typeof _.depth=="number"||_.depth===!1?+_.depth:r.depth,duplicates:A,ignoreQueryPrefix:_.ignoreQueryPrefix===!0,interpretNumericEntities:typeof _.interpretNumericEntities=="boolean"?_.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof _.parameterLimit=="number"?_.parameterLimit:r.parameterLimit,parseArrays:_.parseArrays!==!1,plainObjects:typeof _.plainObjects=="boolean"?_.plainObjects:r.plainObjects,strictDepth:typeof _.strictDepth=="boolean"?!!_.strictDepth:r.strictDepth,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof _.throwOnLimitExceeded=="boolean"?_.throwOnLimitExceeded:!1}};return hd=function(v,_){var x=y(_);if(v===""||v===null||typeof v>"u")return x.plainObjects?{__proto__:null}:{};for(var A=typeof v=="string"?d(v,x):v,S=x.plainObjects?{__proto__:null}:{},T=Object.keys(A),I=0;I<T.length;++I){var B=T[I],P=g(B,A[B],x,typeof v=="string");S=s.merge(S,P,x)}return x.allowSparse===!0?S:s.compact(S)},hd}var cd,W0;function bA(){if(W0)return cd;W0=1;var s=_A(),t=xA(),e=Lp();return cd={formats:e,parse:t,stringify:s},cd}var Z0;function EA(){if(Z0)return $n;Z0=1;var s=zS();function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var e=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r",`
`,"	"],h=["{","}","|","\\","^","`"].concat(o),c=["'"].concat(h),d=["%","/","?",";","#"].concat(c),p=["/","?","#"],g=255,y=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},A={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=bA();function T(R,k,M){if(R&&typeof R=="object"&&R instanceof t)return R;var z=new t;return z.parse(R,k,M),z}t.prototype.parse=function(R,k,M){if(typeof R!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof R);var z=R.indexOf("?"),Z=z!==-1&&z<R.indexOf("#")?"?":"#",rt=R.split(Z),tt=/\\/g;rt[0]=rt[0].replace(tt,"/"),R=rt.join(Z);var G=R;if(G=G.trim(),!M&&R.split("#").length===1){var J=a.exec(G);if(J)return this.path=G,this.href=G,this.pathname=J[1],J[2]?(this.search=J[2],k?this.query=S.parse(this.search.substr(1)):this.query=this.search.substr(1)):k&&(this.search="",this.query={}),this}var et=e.exec(G);if(et){et=et[0];var dt=et.toLowerCase();this.protocol=dt,G=G.substr(et.length)}if(M||et||G.match(/^\/\/[^@/]+@[^@/]+/)){var w=G.substr(0,2)==="//";w&&!(et&&x[et])&&(G=G.substr(2),this.slashes=!0)}if(!x[et]&&(w||et&&!A[et])){for(var D=-1,O=0;O<p.length;O++){var X=G.indexOf(p[O]);X!==-1&&(D===-1||X<D)&&(D=X)}var E,N;D===-1?N=G.lastIndexOf("@"):N=G.lastIndexOf("@",D),N!==-1&&(E=G.slice(0,N),G=G.slice(N+1),this.auth=decodeURIComponent(E)),D=-1;for(var O=0;O<d.length;O++){var X=G.indexOf(d[O]);X!==-1&&(D===-1||X<D)&&(D=X)}D===-1&&(D=G.length),this.host=G.slice(0,D),G=G.slice(D),this.parseHost(),this.hostname=this.hostname||"";var F=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!F)for(var L=this.hostname.split(/\./),O=0,$=L.length;O<$;O++){var st=L[O];if(st&&!st.match(y)){for(var lt="",ft=0,ct=st.length;ft<ct;ft++)st.charCodeAt(ft)>127?lt+="x":lt+=st[ft];if(!lt.match(y)){var yt=L.slice(0,O),ut=L.slice(O+1),vt=st.match(v);vt&&(yt.push(vt[1]),ut.unshift(vt[2])),ut.length&&(G="/"+ut.join(".")+G),this.hostname=yt.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=s.toASCII(this.hostname));var xt=this.port?":"+this.port:"",Bt=this.hostname||"";this.host=Bt+xt,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),G[0]!=="/"&&(G="/"+G))}if(!_[dt])for(var O=0,$=c.length;O<$;O++){var Gt=c[O];if(G.indexOf(Gt)!==-1){var Tt=encodeURIComponent(Gt);Tt===Gt&&(Tt=escape(Gt)),G=G.split(Gt).join(Tt)}}var At=G.indexOf("#");At!==-1&&(this.hash=G.substr(At),G=G.slice(0,At));var $t=G.indexOf("?");if($t!==-1?(this.search=G.substr($t),this.query=G.substr($t+1),k&&(this.query=S.parse(this.query)),G=G.slice(0,$t)):k&&(this.search="",this.query={}),G&&(this.pathname=G),A[dt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var xt=this.pathname||"",ge=this.search||"";this.path=xt+ge}return this.href=this.format(),this};function I(R){return typeof R=="string"&&(R=T(R)),R instanceof t?R.format():t.prototype.format.call(R)}t.prototype.format=function(){var R=this.auth||"";R&&(R=encodeURIComponent(R),R=R.replace(/%3A/i,":"),R+="@");var k=this.protocol||"",M=this.pathname||"",z=this.hash||"",Z=!1,rt="";this.host?Z=R+this.host:this.hostname&&(Z=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Z+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(rt=S.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var tt=this.search||rt&&"?"+rt||"";return k&&k.substr(-1)!==":"&&(k+=":"),this.slashes||(!k||A[k])&&Z!==!1?(Z="//"+(Z||""),M&&M.charAt(0)!=="/"&&(M="/"+M)):Z||(Z=""),z&&z.charAt(0)!=="#"&&(z="#"+z),tt&&tt.charAt(0)!=="?"&&(tt="?"+tt),M=M.replace(/[?#]/g,function(G){return encodeURIComponent(G)}),tt=tt.replace("#","%23"),k+Z+M+tt+z};function B(R,k){return T(R,!1,!0).resolve(k)}t.prototype.resolve=function(R){return this.resolveObject(T(R,!1,!0)).format()};function P(R,k){return R?T(R,!1,!0).resolveObject(k):k}return t.prototype.resolveObject=function(R){if(typeof R=="string"){var k=new t;k.parse(R,!1,!0),R=k}for(var M=new t,z=Object.keys(this),Z=0;Z<z.length;Z++){var rt=z[Z];M[rt]=this[rt]}if(M.hash=R.hash,R.href==="")return M.href=M.format(),M;if(R.slashes&&!R.protocol){for(var tt=Object.keys(R),G=0;G<tt.length;G++){var J=tt[G];J!=="protocol"&&(M[J]=R[J])}return A[M.protocol]&&M.hostname&&!M.pathname&&(M.pathname="/",M.path=M.pathname),M.href=M.format(),M}if(R.protocol&&R.protocol!==M.protocol){if(!A[R.protocol]){for(var et=Object.keys(R),dt=0;dt<et.length;dt++){var w=et[dt];M[w]=R[w]}return M.href=M.format(),M}if(M.protocol=R.protocol,!R.host&&!x[R.protocol]){for(var $=(R.pathname||"").split("/");$.length&&!(R.host=$.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),$[0]!==""&&$.unshift(""),$.length<2&&$.unshift(""),M.pathname=$.join("/")}else M.pathname=R.pathname;if(M.search=R.search,M.query=R.query,M.host=R.host||"",M.auth=R.auth,M.hostname=R.hostname||R.host,M.port=R.port,M.pathname||M.search){var D=M.pathname||"",O=M.search||"";M.path=D+O}return M.slashes=M.slashes||R.slashes,M.href=M.format(),M}var X=M.pathname&&M.pathname.charAt(0)==="/",E=R.host||R.pathname&&R.pathname.charAt(0)==="/",N=E||X||M.host&&R.pathname,F=N,L=M.pathname&&M.pathname.split("/")||[],$=R.pathname&&R.pathname.split("/")||[],st=M.protocol&&!A[M.protocol];if(st&&(M.hostname="",M.port=null,M.host&&(L[0]===""?L[0]=M.host:L.unshift(M.host)),M.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&($[0]===""?$[0]=R.host:$.unshift(R.host)),R.host=null),N=N&&($[0]===""||L[0]==="")),E)M.host=R.host||R.host===""?R.host:M.host,M.hostname=R.hostname||R.hostname===""?R.hostname:M.hostname,M.search=R.search,M.query=R.query,L=$;else if($.length)L||(L=[]),L.pop(),L=L.concat($),M.search=R.search,M.query=R.query;else if(R.search!=null){if(st){M.host=L.shift(),M.hostname=M.host;var lt=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;lt&&(M.auth=lt.shift(),M.hostname=lt.shift(),M.host=M.hostname)}return M.search=R.search,M.query=R.query,(M.pathname!==null||M.search!==null)&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.href=M.format(),M}if(!L.length)return M.pathname=null,M.search?M.path="/"+M.search:M.path=null,M.href=M.format(),M;for(var ft=L.slice(-1)[0],ct=(M.host||R.host||L.length>1)&&(ft==="."||ft==="..")||ft==="",yt=0,ut=L.length;ut>=0;ut--)ft=L[ut],ft==="."?L.splice(ut,1):ft===".."?(L.splice(ut,1),yt++):yt&&(L.splice(ut,1),yt--);if(!N&&!F)for(;yt--;yt)L.unshift("..");N&&L[0]!==""&&(!L[0]||L[0].charAt(0)!=="/")&&L.unshift(""),ct&&L.join("/").substr(-1)!=="/"&&L.push("");var vt=L[0]===""||L[0]&&L[0].charAt(0)==="/";if(st){M.hostname=vt?"":L.length?L.shift():"",M.host=M.hostname;var lt=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;lt&&(M.auth=lt.shift(),M.hostname=lt.shift(),M.host=M.hostname)}return N=N||M.host&&L.length,N&&!vt&&L.unshift(""),L.length>0?M.pathname=L.join("/"):(M.pathname=null,M.path=null),(M.pathname!==null||M.search!==null)&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.auth=R.auth||M.auth,M.slashes=M.slashes||R.slashes,M.href=M.format(),M},t.prototype.parseHost=function(){var R=this.host,k=r.exec(R);k&&(k=k[0],k!==":"&&(this.port=k.substr(1)),R=R.substr(0,R.length-k.length)),R&&(this.hostname=R)},$n.parse=T,$n.resolve=B,$n.resolveObject=P,$n.format=I,$n.Url=t,$n}EA();const K0={};function Vt(s,t,e=3){if(K0[t])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(r=r.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(r))),K0[t]=!0}function Mi(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function pl(s){return s.split("?")[0].split("#")[0]}function TA(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function SA(s,t,e){return s.replace(new RegExp(TA(t),"g"),e)}function AA(s,t){let e="",r=0,a=-1,o=0,h=-1;for(let c=0;c<=s.length;++c){if(c<s.length)h=s.charCodeAt(c);else{if(h===47)break;h=47}if(h===47){if(!(a===c-1||o===1))if(a!==c-1&&o===2){if(e.length<2||r!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const d=e.lastIndexOf("/");if(d!==e.length-1){d===-1?(e="",r=0):(e=e.slice(0,d),r=e.length-1-e.lastIndexOf("/")),a=c,o=0;continue}}else if(e.length===2||e.length===1){e="",r=0,a=c,o=0;continue}}}else e.length>0?e+=`/${s.slice(a+1,c)}`:e=s.slice(a+1,c),r=c-a-1;a=c,o=0}else h===46&&o!==-1?++o:o=-1}return e}const Ie={toPosix(s){return SA(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){Mi(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(s);return e?e[0]:""},toAbsolute(s,t,e){if(Mi(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const r=pl(this.toPosix(t??gt.ADAPTER.getBaseUrl())),a=pl(this.toPosix(e??this.rootname(r)));return s=this.toPosix(s),s.startsWith("/")?Ie.join(a,s.slice(1)):this.isAbsolute(s)?s:this.join(r,s)},normalize(s){if(Mi(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const e=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const r=s.endsWith("/");return s=AA(s),s.length>0&&r&&(s+="/"),e?`/${s}`:t+s},isAbsolute(s){return Mi(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let e=0;e<s.length;++e){const r=s[e];if(Mi(r),r.length>0)if(t===void 0)t=r;else{const a=s[e-1]??"";this.joinExtensions.includes(this.extname(a).toLowerCase())?t+=`/../${r}`:t+=`/${r}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(Mi(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const e=t===47;let r=-1,a=!0;const o=this.getProtocol(s),h=s;s=s.slice(o.length);for(let c=s.length-1;c>=1;--c)if(t=s.charCodeAt(c),t===47){if(!a){r=c;break}}else a=!1;return r===-1?e?"/":this.isUrl(h)?o+s:o:e&&r===1?"//":o+s.slice(0,r)},rootname(s){Mi(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const e=s.indexOf("/",t.length);e!==-1?t=s.slice(0,e):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){Mi(s),t&&Mi(t),s=pl(this.toPosix(s));let e=0,r=-1,a=!0,o;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let h=t.length-1,c=-1;for(o=s.length-1;o>=0;--o){const d=s.charCodeAt(o);if(d===47){if(!a){e=o+1;break}}else c===-1&&(a=!1,c=o+1),h>=0&&(d===t.charCodeAt(h)?--h===-1&&(r=o):(h=-1,r=c))}return e===r?r=c:r===-1&&(r=s.length),s.slice(e,r)}for(o=s.length-1;o>=0;--o)if(s.charCodeAt(o)===47){if(!a){e=o+1;break}}else r===-1&&(a=!1,r=o+1);return r===-1?"":s.slice(e,r)},extname(s){Mi(s),s=pl(this.toPosix(s));let t=-1,e=0,r=-1,a=!0,o=0;for(let h=s.length-1;h>=0;--h){const c=s.charCodeAt(h);if(c===47){if(!a){e=h+1;break}continue}r===-1&&(a=!1,r=h+1),c===46?t===-1?t=h:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||r===-1||o===0||o===1&&t===r-1&&t===e+1?"":s.slice(t,r)},parse(s){Mi(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=pl(this.toPosix(s));let e=s.charCodeAt(0);const r=this.isAbsolute(s);let a;t.root=this.rootname(s),r||this.hasProtocol(s)?a=1:a=0;let o=-1,h=0,c=-1,d=!0,p=s.length-1,g=0;for(;p>=a;--p){if(e=s.charCodeAt(p),e===47){if(!d){h=p+1;break}continue}c===-1&&(d=!1,c=p+1),e===46?o===-1?o=p:g!==1&&(g=1):o!==-1&&(g=-1)}return o===-1||c===-1||g===0||g===1&&o===c-1&&o===h+1?c!==-1&&(h===0&&r?t.base=t.name=s.slice(1,c):t.base=t.name=s.slice(h,c)):(h===0&&r?(t.name=s.slice(1,o),t.base=s.slice(1,c)):(t.name=s.slice(h,o),t.base=s.slice(h,c)),t.ext=s.slice(o,c)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};let fd;async function wA(){return fd??(fd=(async()=>{const s=document.createElement("canvas").getContext("webgl");if(!s)return Je.UNPACK;const t=await new Promise(o=>{const h=document.createElement("video");h.onloadeddata=()=>o(h),h.onerror=()=>o(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!t)return Je.UNPACK;const e=s.createTexture();s.bindTexture(s.TEXTURE_2D,e);const r=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,r),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e,0),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,s.NONE),s.texImage2D(s.TEXTURE_2D,0,s.RGBA,s.RGBA,s.UNSIGNED_BYTE,t);const a=new Uint8Array(4);return s.readPixels(0,0,1,1,s.RGBA,s.UNSIGNED_BYTE,a),s.deleteFramebuffer(r),s.deleteTexture(e),s.getExtension("WEBGL_lose_context")?.loseContext(),a[0]<=a[3]?Je.PMA:Je.UNPACK})()),fd}let dd;function RA(){return typeof dd>"u"&&(dd=function(){const s={stencil:!0,failIfMajorPerformanceCaveat:gt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!gt.ADAPTER.getWebGLRenderingContext())return!1;const t=gt.ADAPTER.createCanvas();let e=t.getContext("webgl",s)||t.getContext("experimental-webgl",s);const r=!!e?.getContextAttributes()?.stencil;if(e){const a=e.getExtension("WEBGL_lose_context");a&&a.loseContext()}return e=null,r}catch{return!1}}()),dd}var CA={grad:.9,turn:360,rad:360/(2*Math.PI)},Dr=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},Be=function(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*s)/e+0},bi=function(s,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),s>e?e:s>t?s:t},Tx=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},Q0=function(s){return{r:bi(s.r,0,255),g:bi(s.g,0,255),b:bi(s.b,0,255),a:bi(s.a)}},pd=function(s){return{r:Be(s.r),g:Be(s.g),b:Be(s.b),a:Be(s.a,3)}},MA=/^#([0-9a-f]{3,8})$/i,Ko=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Sx=function(s){var t=s.r,e=s.g,r=s.b,a=s.a,o=Math.max(t,e,r),h=o-Math.min(t,e,r),c=h?o===t?(e-r)/h:o===e?2+(r-t)/h:4+(t-e)/h:0;return{h:60*(c<0?c+6:c),s:o?h/o*100:0,v:o/255*100,a}},Ax=function(s){var t=s.h,e=s.s,r=s.v,a=s.a;t=t/360*6,e/=100,r/=100;var o=Math.floor(t),h=r*(1-e),c=r*(1-(t-o)*e),d=r*(1-(1-t+o)*e),p=o%6;return{r:255*[r,c,h,h,d,r][p],g:255*[d,r,r,c,h,h][p],b:255*[h,h,d,r,r,c][p],a}},J0=function(s){return{h:Tx(s.h),s:bi(s.s,0,100),l:bi(s.l,0,100),a:bi(s.a)}},t_=function(s){return{h:Be(s.h),s:Be(s.s),l:Be(s.l),a:Be(s.a,3)}},e_=function(s){return Ax((e=(t=s).s,{h:t.h,s:(e*=((r=t.l)<50?r:100-r)/100)>0?2*e/(r+e)*100:0,v:r+e,a:t.a}));var t,e,r},wl=function(s){return{h:(t=Sx(s)).h,s:(a=(200-(e=t.s))*(r=t.v)/100)>0&&a<200?e*r/100/(a<=100?a:200-a)*100:0,l:a/2,a:t.a};var t,e,r,a},DA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OA=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,BA=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,IA=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vd={string:[[function(s){var t=MA.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?Be(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?Be(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=BA.exec(s)||IA.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:Q0({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=DA.exec(s)||OA.exec(s);if(!t)return null;var e,r,a=J0({h:(e=t[1],r=t[2],r===void 0&&(r="deg"),Number(e)*(CA[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return e_(a)},"hsl"]],object:[[function(s){var t=s.r,e=s.g,r=s.b,a=s.a,o=a===void 0?1:a;return Dr(t)&&Dr(e)&&Dr(r)?Q0({r:Number(t),g:Number(e),b:Number(r),a:Number(o)}):null},"rgb"],[function(s){var t=s.h,e=s.s,r=s.l,a=s.a,o=a===void 0?1:a;if(!Dr(t)||!Dr(e)||!Dr(r))return null;var h=J0({h:Number(t),s:Number(e),l:Number(r),a:Number(o)});return e_(h)},"hsl"],[function(s){var t=s.h,e=s.s,r=s.v,a=s.a,o=a===void 0?1:a;if(!Dr(t)||!Dr(e)||!Dr(r))return null;var h=function(c){return{h:Tx(c.h),s:bi(c.s,0,100),v:bi(c.v,0,100),a:bi(c.a)}}({h:Number(t),s:Number(e),v:Number(r),a:Number(o)});return Ax(h)},"hsv"]]},i_=function(s,t){for(var e=0;e<t.length;e++){var r=t[e][0](s);if(r)return[r,t[e][1]]}return[null,void 0]},NA=function(s){return typeof s=="string"?i_(s.trim(),Vd.string):typeof s=="object"&&s!==null?i_(s,Vd.object):[null,void 0]},md=function(s,t){var e=wl(s);return{h:e.h,s:bi(e.s+100*t,0,100),l:e.l,a:e.a}},gd=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},r_=function(s,t){var e=wl(s);return{h:e.h,s:e.s,l:bi(e.l+100*t,0,100),a:e.a}},jd=function(){function s(t){this.parsed=NA(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return Be(gd(this.rgba),2)},s.prototype.isDark=function(){return gd(this.rgba)<.5},s.prototype.isLight=function(){return gd(this.rgba)>=.5},s.prototype.toHex=function(){return t=pd(this.rgba),e=t.r,r=t.g,a=t.b,h=(o=t.a)<1?Ko(Be(255*o)):"","#"+Ko(e)+Ko(r)+Ko(a)+h;var t,e,r,a,o,h},s.prototype.toRgb=function(){return pd(this.rgba)},s.prototype.toRgbString=function(){return t=pd(this.rgba),e=t.r,r=t.g,a=t.b,(o=t.a)<1?"rgba("+e+", "+r+", "+a+", "+o+")":"rgb("+e+", "+r+", "+a+")";var t,e,r,a,o},s.prototype.toHsl=function(){return t_(wl(this.rgba))},s.prototype.toHslString=function(){return t=t_(wl(this.rgba)),e=t.h,r=t.s,a=t.l,(o=t.a)<1?"hsla("+e+", "+r+"%, "+a+"%, "+o+")":"hsl("+e+", "+r+"%, "+a+"%)";var t,e,r,a,o},s.prototype.toHsv=function(){return t=Sx(this.rgba),{h:Be(t.h),s:Be(t.s),v:Be(t.v),a:Be(t.a,3)};var t},s.prototype.invert=function(){return $i({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),$i(md(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),$i(md(this.rgba,-t))},s.prototype.grayscale=function(){return $i(md(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),$i(r_(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),$i(r_(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?$i({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):Be(this.rgba.a,3);var e},s.prototype.hue=function(t){var e=wl(this.rgba);return typeof t=="number"?$i({h:t,s:e.s,l:e.l,a:e.a}):Be(e.h)},s.prototype.isEqual=function(t){return this.toHex()===$i(t).toHex()},s}(),$i=function(s){return s instanceof jd?s:new jd(s)},n_=[],PA=function(s){s.forEach(function(t){n_.indexOf(t)<0&&(t(jd,Vd),n_.push(t))})};function UA(s,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var a in e)r[e[a]]=a;var o={};s.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var c,d,p=r[this.toHex()];if(p)return p;if(h?.closest){var g=this.toRgb(),y=1/0,v="black";if(!o.length)for(var _ in e)o[_]=new s(e[_]).toRgb();for(var x in e){var A=(c=g,d=o[x],Math.pow(c.r-d.r,2)+Math.pow(c.g-d.g,2)+Math.pow(c.b-d.b,2));A<y&&(y=A,v=x)}return v}},t.string.push([function(h){var c=h.toLowerCase(),d=c==="transparent"?"#0000":e[c];return d?new s(d).toRgb():null},"name"])}PA([UA]);const $s=class _u{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof _u)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((a,o)=>a===e[o]);if(t!==null&&e!==null){const a=Object.keys(t),o=Object.keys(e);return a.length!==o.length?!1:a.every(h=>t[h]===e[h])}return t===e}toRgba(){const[t,e,r,a]=this._components;return{r:t,g:e,b:r,a}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,a]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(a*255),t}toRgbArray(t){t=t??[];const[e,r,a]=this._components;return t[0]=e,t[1]=r,t[2]=a,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,a,o]=_u.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=a,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,a=this._int>>8&255,o=this._int&255;return e&&(r=r*t+.5|0,a=a*t+.5|0,o=o*t+.5|0),(t*255<<24)+(r<<16)+(a<<8)+o}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,a]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(a*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,a,o]=this._components;return t[0]=e,t[1]=r,t[2]=a,t[3]=o,t}normalize(t){let e,r,a,o;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;e=(h>>16&255)/255,r=(h>>8&255)/255,a=(h&255)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,a,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,a,o=255]=t,e/=255,r/=255,a/=255,o/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const c=_u.HEX_PATTERN.exec(t);c&&(t=`#${c[2]}`)}const h=$i(t);h.isValid()&&({r:e,g:r,b:a,a:o}=h.rgba,e/=255,r/=255,a/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=a,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((a,o)=>{t[o]=Math.min(Math.max(a,e),r)}),t)}};$s.shared=new $s,$s.temp=new $s,$s.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ae=$s;function LA(s){return Vt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),ae.shared.setValue(s).toHex()}function FA(s){return Vt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),ae.shared.setValue(s).toNumber()}function GA(){const s=[],t=[];for(let r=0;r<32;r++)s[r]=r,t[r]=r;s[Dt.NORMAL_NPM]=Dt.NORMAL,s[Dt.ADD_NPM]=Dt.ADD,s[Dt.SCREEN_NPM]=Dt.SCREEN,t[Dt.NORMAL]=Dt.NORMAL_NPM,t[Dt.ADD]=Dt.ADD_NPM,t[Dt.SCREEN]=Dt.SCREEN_NPM;const e=[];return e.push(t),e.push(s),e}const wx=GA();function Rx(s,t){return wx[t?1:0][s]}function kA(s,t=null){const e=s*6;if(t=t||new Uint16Array(e),t.length!==e)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${e}`);for(let r=0,a=0;r<e;r+=6,a+=4)t[r+0]=a+0,t[r+1]=a+1,t[r+2]=a+2,t[r+3]=a+0,t[r+4]=a+2,t[r+5]=a+3;return t}function Cx(s){if(s.BYTES_PER_ELEMENT===4)return s instanceof Float32Array?"Float32Array":s instanceof Uint32Array?"Uint32Array":"Int32Array";if(s.BYTES_PER_ELEMENT===2){if(s instanceof Uint16Array)return"Uint16Array"}else if(s.BYTES_PER_ELEMENT===1&&s instanceof Uint8Array)return"Uint8Array";return null}function Mu(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function s_(s){return!(s&s-1)&&!!s}function a_(s){let t=(s>65535?1:0)<<4;s>>>=t;let e=(s>255?1:0)<<3;return s>>>=e,t|=e,e=(s>15?1:0)<<2,s>>>=e,t|=e,e=(s>3?1:0)<<1,s>>>=e,t|=e,t|s>>1}function ra(s,t,e){const r=s.length;let a;if(t>=r||e===0)return;e=t+e>r?r-t:e;const o=r-e;for(a=t;a<o;++a)s[a]=s[a+e];s.length=o}function Tn(s){return s===0?0:s<0?-1:1}let HA=0;function as(){return++HA}const qd=class{constructor(s,t,e,r){this.left=s,this.top=t,this.right=e,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};qd.EMPTY=new qd(0,0,0,0);let l_=qd;const o_={},Wi=Object.create(null),yn=Object.create(null);class zA{constructor(t,e,r){this._canvas=gt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||gt.RESOLUTION,this.resize(t,e)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,e){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(e*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function u_(s,t,e){for(let r=0,a=4*e*t;r<t;++r,a+=4)if(s[a+3]!==0)return!1;return!0}function h_(s,t,e,r,a){const o=4*t;for(let h=r,c=r*o+4*e;h<=a;++h,c+=o)if(s[c+3]!==0)return!1;return!0}function XA(s){const{width:t,height:e}=s,r=s.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");const a=r.getImageData(0,0,t,e).data;let o=0,h=0,c=t-1,d=e-1;for(;h<e&&u_(a,t,h);)++h;if(h===e)return l_.EMPTY;for(;u_(a,t,d);)--d;for(;h_(a,t,o,h,d);)++o;for(;h_(a,t,c,h,d);)--c;return++c,++d,new l_(o,h,c,d)}function VA(s){const t=XA(s),{width:e,height:r}=t;let a=null;if(!t.isEmpty()){const o=s.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");a=o.getImageData(t.left,t.top,e,r)}return{width:e,height:r,data:a}}function jA(s,t=globalThis.location){if(s.startsWith("data:"))return"";t=t||globalThis.location;const e=new URL(s,document.baseURI);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function Lr(s,t=1){const e=gt.RETINA_PREFIX?.exec(s);return e?parseFloat(e[1]):t}var pt=(s=>(s.Renderer="renderer",s.Application="application",s.RendererSystem="renderer-webgl-system",s.RendererPlugin="renderer-webgl-plugin",s.CanvasRendererSystem="renderer-canvas-system",s.CanvasRendererPlugin="renderer-canvas-plugin",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s))(pt||{});const Yd=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},c_=(s,t)=>Yd(s).priority??t,Et={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(Yd).forEach(t=>{t.type.forEach(e=>this._removeHandlers[e]?.(t))}),this},add(...s){return s.map(Yd).forEach(t=>{t.type.forEach(e=>{const r=this._addHandlers,a=this._queue;r[e]?r[e]?.(t):(a[e]=a[e]||[],a[e]?.push(t))})}),this},handle(s,t,e){const r=this._addHandlers,a=this._removeHandlers;if(r[s]||a[s])throw new Error(`Extension type ${s} already has a handler`);r[s]=t,a[s]=e;const o=this._queue;return o[s]&&(o[s]?.forEach(h=>t(h)),delete o[s]),this},handleByMap(s,t){return this.handle(s,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(s,t,e=-1){return this.handle(s,r=>{t.includes(r.ref)||(t.push(r.ref),t.sort((a,o)=>c_(o,e)-c_(a,e)))},r=>{const a=t.indexOf(r.ref);a!==-1&&t.splice(a,1)})}};class $d{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const qA=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function YA(s){let t="";for(let e=0;e<s;++e)e>0&&(t+=`
else `),e<s-1&&(t+=`if(test == ${e}.0){}`);return t}function $A(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const e=t.createShader(t.FRAGMENT_SHADER);for(;;){const r=qA.replace(/%forloop%/gi,YA(s));if(t.shaderSource(e,r),t.compileShader(e),!t.getShaderParameter(e,t.COMPILE_STATUS))s=s/2|0;else break}return s}const yd=0,vd=1,_d=2,xd=3,bd=4,Ed=5;class ar{constructor(){this.data=0,this.blendMode=Dt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<yd)}set blend(t){!!(this.data&1<<yd)!==t&&(this.data^=1<<yd)}get offsets(){return!!(this.data&1<<vd)}set offsets(t){!!(this.data&1<<vd)!==t&&(this.data^=1<<vd)}get culling(){return!!(this.data&1<<_d)}set culling(t){!!(this.data&1<<_d)!==t&&(this.data^=1<<_d)}get depthTest(){return!!(this.data&1<<xd)}set depthTest(t){!!(this.data&1<<xd)!==t&&(this.data^=1<<xd)}get depthMask(){return!!(this.data&1<<Ed)}set depthMask(t){!!(this.data&1<<Ed)!==t&&(this.data^=1<<Ed)}get clockwiseFrontFace(){return!!(this.data&1<<bd)}set clockwiseFrontFace(t){!!(this.data&1<<bd)!==t&&(this.data^=1<<bd)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==Dt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new ar;return t.depthTest=!1,t.blend=!0,t}}ar.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Wd=[];function Mx(s,t){if(!s)return null;let e="";if(typeof s=="string"){const r=/\.(\w{3,4})(?:$|\?|#)/i.exec(s);r&&(e=r[1].toLowerCase())}for(let r=Wd.length-1;r>=0;--r){const a=Wd[r];if(a.test&&a.test(s,e))return new a(s,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class Pi{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,e,r,a,o,h,c,d){if(arguments.length>8)throw new Error("max arguments reached");const{name:p,items:g}=this;this._aliasCount++;for(let y=0,v=g.length;y<v;y++)g[y][p](t,e,r,a,o,h,c,d);return g===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Pi.prototype,{dispatch:{value:Pi.prototype.emit},run:{value:Pi.prototype.emit}});class Cl{constructor(t=0,e=0){this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Pi("setRealSize"),this.onUpdate=new Pi("update"),this.onError=new Pi("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,e,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,e){return!1}}class Yu extends Cl{constructor(t,e){const{width:r,height:a}=e||{};if(!r||!a)throw new Error("BufferResource width or height invalid");super(r,a),this.data=t,this.unpackAlignment=e.unpackAlignment??4}upload(t,e,r){const a=t.gl;a.pixelStorei(a.UNPACK_ALIGNMENT,this.unpackAlignment),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===Je.UNPACK);const o=e.realWidth,h=e.realHeight;return r.width===o&&r.height===h?a.texSubImage2D(e.target,0,0,0,o,h,e.format,r.type,this.data):(r.width=o,r.height=h,a.texImage2D(e.target,0,r.internalFormat,o,h,0,e.format,r.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const WA={scaleMode:Or.NEAREST,alphaMode:Je.NPM},Zd=class Ws extends Bl{constructor(t=null,e=null){super(),e=Object.assign({},Ws.defaultOptions,e);const{alphaMode:r,mipmap:a,anisotropicLevel:o,scaleMode:h,width:c,height:d,wrapMode:p,format:g,type:y,target:v,resolution:_,resourceOptions:x}=e;t&&!(t instanceof Cl)&&(t=Mx(t,x),t.internal=!0),this.resolution=_||gt.RESOLUTION,this.width=Math.round((c||0)*this.resolution)/this.resolution,this.height=Math.round((d||0)*this.resolution)/this.resolution,this._mipmap=a,this.anisotropicLevel=o,this._wrapMode=p,this._scaleMode=h,this.format=g,this.type=y,this.target=v,this.alphaMode=r,this.uid=as(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=c>0&&d>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=s_(this.realWidth)&&s_(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete yn[this.cacheId],delete Wi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Ws.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=gt.STRICT_TEXTURE_CACHE){const a=typeof t=="string";let o=null;if(a)o=t;else{if(!t._pixiId){const c=e?.pixiIdPrefix||"pixiid";t._pixiId=`${c}_${as()}`}o=t._pixiId}let h=yn[o];if(a&&r&&!h)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return h||(h=new Ws(t,e),h.cacheId=o,Ws.addToCache(h,o)),h}static fromBuffer(t,e,r,a){t=t||new Float32Array(e*r*4);const o=new Yu(t,{width:e,height:r,...a?.resourceOptions});let h,c;return t instanceof Float32Array?(h=ht.RGBA,c=Rt.FLOAT):t instanceof Int32Array?(h=ht.RGBA_INTEGER,c=Rt.INT):t instanceof Uint32Array?(h=ht.RGBA_INTEGER,c=Rt.UNSIGNED_INT):t instanceof Int16Array?(h=ht.RGBA_INTEGER,c=Rt.SHORT):t instanceof Uint16Array?(h=ht.RGBA_INTEGER,c=Rt.UNSIGNED_SHORT):t instanceof Int8Array?(h=ht.RGBA,c=Rt.BYTE):(h=ht.RGBA,c=Rt.UNSIGNED_BYTE),o.internal=!0,new Ws(o,Object.assign({},WA,{type:c,format:h},a))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),yn[e]&&yn[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),yn[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=yn[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete yn[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete yn[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};Zd.defaultOptions={mipmap:nr.POW2,anisotropicLevel:0,scaleMode:Or.LINEAR,wrapMode:An.CLAMP,alphaMode:Je.UNPACK,target:ia.TEXTURE_2D,format:ht.RGBA,type:Rt.UNSIGNED_BYTE},Zd._globalBatch=0;let Nt=Zd;class Kd{constructor(){this.texArray=null,this.blend=0,this.type=tr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let ZA=0;class _e{constructor(t,e=!0,r=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=ZA++,this.disposeRunner=new Pi("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?er.ELEMENT_ARRAY_BUFFER:er.ARRAY_BUFFER}get index(){return this.type===er.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new _e(t)}}class Du{constructor(t,e=0,r=!1,a=Rt.FLOAT,o,h,c,d=1){this.buffer=t,this.size=e,this.normalized=r,this.type=a,this.stride=o,this.start=h,this.instance=c,this.divisor=d}destroy(){this.buffer=null}static from(t,e,r,a,o){return new Du(t,e,r,a,o)}}const KA={Float32Array,Uint32Array,Int32Array,Uint8Array};function QA(s,t){let e=0,r=0;const a={};for(let d=0;d<s.length;d++)r+=t[d],e+=s[d].length;const o=new ArrayBuffer(e*4);let h=null,c=0;for(let d=0;d<s.length;d++){const p=t[d],g=s[d],y=Cx(g);a[y]||(a[y]=new KA[y](o)),h=a[y];for(let v=0;v<g.length;v++){const _=(v/p|0)*r+c,x=v%p;h[_+x]=g[v]}c+=p}return new Float32Array(o)}const f_={5126:4,5123:2,5121:1};let JA=0;const tw={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class wn{constructor(t=[],e={}){this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=JA++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Pi("disposeGeometry"),this.refCount=0}addAttribute(t,e,r=0,a=!1,o,h,c,d=!1){if(!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof _e||(e instanceof Array&&(e=new Float32Array(e)),e=new _e(e));const p=t.split("|");if(p.length>1){for(let y=0;y<p.length;y++)this.addAttribute(p[y],e,r,a,o);return this}let g=this.buffers.indexOf(e);return g===-1&&(this.buffers.push(e),g=this.buffers.length-1),this.attributes[t]=new Du(g,r,a,o,h,c,d),this.instanced=this.instanced||d,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof _e||(t instanceof Array&&(t=new Uint16Array(t)),t=new _e(t)),t.type=er.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],e=[],r=new _e;let a;for(a in this.attributes){const o=this.attributes[a],h=this.buffers[o.buffer];t.push(h.data),e.push(o.size*f_[o.type]/4),o.buffer=0}for(r.data=QA(t,e),a=0;a<this.buffers.length;a++)this.buffers[a]!==this.indexBuffer&&this.buffers[a].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new wn;for(let e=0;e<this.buffers.length;e++)t.buffers[e]=new _e(this.buffers[e].data.slice(0));for(const e in this.attributes){const r=this.attributes[e];t.attributes[e]=new Du(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=er.ELEMENT_ARRAY_BUFFER),t}static merge(t){const e=new wn,r=[],a=[],o=[];let h;for(let c=0;c<t.length;c++){h=t[c];for(let d=0;d<h.buffers.length;d++)a[d]=a[d]||0,a[d]+=h.buffers[d].data.length,o[d]=0}for(let c=0;c<h.buffers.length;c++)r[c]=new tw[Cx(h.buffers[c].data)](a[c]),e.buffers[c]=new _e(r[c]);for(let c=0;c<t.length;c++){h=t[c];for(let d=0;d<h.buffers.length;d++)r[d].set(h.buffers[d].data,o[d]),o[d]+=h.buffers[d].data.length}if(e.attributes=h.attributes,h.indexBuffer){e.indexBuffer=e.buffers[h.buffers.indexOf(h.indexBuffer)],e.indexBuffer.type=er.ELEMENT_ARRAY_BUFFER;let c=0,d=0,p=0,g=0;for(let y=0;y<h.buffers.length;y++)if(h.buffers[y]!==h.indexBuffer){g=y;break}for(const y in h.attributes){const v=h.attributes[y];(v.buffer|0)===g&&(d+=v.size*f_[v.type]/4)}for(let y=0;y<t.length;y++){const v=t[y].indexBuffer.data;for(let _=0;_<v.length;_++)e.indexBuffer.data[_+p]+=c;c+=t[y].buffers[g].data.length/d,p+=v.length}}return e}}class Dx extends wn{constructor(t=!1){super(),this._buffer=new _e(null,t,!1),this._indexBuffer=new _e(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Rt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Rt.FLOAT).addAttribute("aColor",this._buffer,4,!0,Rt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Rt.FLOAT).addIndex(this._indexBuffer)}}const Ou=Math.PI*2,ew=180/Math.PI,iw=Math.PI/180;var Ge=(s=>(s[s.POLY=0]="POLY",s[s.RECT=1]="RECT",s[s.CIRC=2]="CIRC",s[s.ELIP=3]="ELIP",s[s.RREC=4]="RREC",s))(Ge||{});class qt{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new qt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}}qt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Qo=[new qt,new qt,new qt,new qt];class Ut{constructor(t=0,e=0,r=0,a=0){this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(a),this.type=Ge.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ut(0,0,0,0)}clone(){return new Ut(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}intersects(t,e){if(!e){const z=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=z)return!1;const Z=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>Z}const r=this.left,a=this.right,o=this.top,h=this.bottom;if(a<=r||h<=o)return!1;const c=Qo[0].set(t.left,t.top),d=Qo[1].set(t.left,t.bottom),p=Qo[2].set(t.right,t.top),g=Qo[3].set(t.right,t.bottom);if(p.x<=c.x||d.y<=c.y)return!1;const y=Math.sign(e.a*e.d-e.b*e.c);if(y===0||(e.apply(c,c),e.apply(d,d),e.apply(p,p),e.apply(g,g),Math.max(c.x,d.x,p.x,g.x)<=r||Math.min(c.x,d.x,p.x,g.x)>=a||Math.max(c.y,d.y,p.y,g.y)<=o||Math.min(c.y,d.y,p.y,g.y)>=h))return!1;const v=y*(d.y-c.y),_=y*(c.x-d.x),x=v*r+_*o,A=v*a+_*o,S=v*r+_*h,T=v*a+_*h;if(Math.max(x,A,S,T)<=v*c.x+_*c.y||Math.min(x,A,S,T)>=v*g.x+_*g.y)return!1;const I=y*(c.y-p.y),B=y*(p.x-c.x),P=I*r+B*o,R=I*a+B*o,k=I*r+B*h,M=I*a+B*h;return!(Math.max(P,R,k,M)<=I*c.x+B*c.y||Math.min(P,R,k,M)>=I*g.x+B*g.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),a=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=a,this.height=Math.max(o-a,0),this}ceil(t=1,e=.001){const r=Math.ceil((this.x+this.width-e)*t)/t,a=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=a-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),a=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=a,this.height=o-a,this}}Ut.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class $u{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.radius=r,this.type=Ge.CIRC}clone(){return new $u(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const r=this.radius*this.radius;let a=this.x-t,o=this.y-e;return a*=a,o*=o,a+o<=r}getBounds(){return new Ut(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}$u.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Wu{constructor(t=0,e=0,r=0,a=0){this.x=t,this.y=e,this.width=r,this.height=a,this.type=Ge.ELIP}clone(){return new Wu(this.x,this.y,this.width,this.height)}contains(t,e){if(this.width<=0||this.height<=0)return!1;let r=(t-this.x)/this.width,a=(e-this.y)/this.height;return r*=r,a*=a,r+a<=1}getBounds(){return new Ut(this.x-this.width,this.y-this.height,this.width,this.height)}}Wu.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class ns{constructor(...t){let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const r=[];for(let a=0,o=e.length;a<o;a++)r.push(e[a].x,e[a].y);e=r}this.points=e,this.type=Ge.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),e=new ns(t);return e.closeStroke=this.closeStroke,e}contains(t,e){let r=!1;const a=this.points.length/2;for(let o=0,h=a-1;o<a;h=o++){const c=this.points[o*2],d=this.points[o*2+1],p=this.points[h*2],g=this.points[h*2+1];d>e!=g>e&&t<(p-c)*((e-d)/(g-d))+c&&(r=!r)}return r}}ns.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((s,t)=>`${s}, ${t}`,"")}]`};class Zu{constructor(t=0,e=0,r=0,a=0,o=20){this.x=t,this.y=e,this.width=r,this.height=a,this.radius=o,this.type=Ge.RREC}clone(){return new Zu(this.x,this.y,this.width,this.height,this.radius)}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+r&&e<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let a=t-(this.x+r),o=e-(this.y+r);const h=r*r;if(a*a+o*o<=h||(a=t-(this.x+this.width-r),a*a+o*o<=h)||(o=e-(this.y+this.height-r),a*a+o*o<=h)||(a=t-(this.x+r),a*a+o*o<=h))return!0}return!1}}Zu.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class le{constructor(t=1,e=0,r=0,a=1,o=0,h=0){this.array=null,this.a=t,this.b=e,this.c=r,this.d=a,this.tx=o,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,r,a,o,h){return this.a=t,this.b=e,this.c=r,this.d=a,this.tx=o,this.ty=h,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,e){e=e||new qt;const r=t.x,a=t.y;return e.x=this.a*r+this.c*a+this.tx,e.y=this.b*r+this.d*a+this.ty,e}applyInverse(t,e){e=e||new qt;const r=1/(this.a*this.d+this.c*-this.b),a=t.x,o=t.y;return e.x=this.d*r*a+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*a+(-this.ty*this.a+this.tx*this.b)*r,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),a=this.a,o=this.c,h=this.tx;return this.a=a*e-this.b*r,this.b=a*r+this.b*e,this.c=o*e-this.d*r,this.d=o*r+this.d*e,this.tx=h*e-this.ty*r,this.ty=h*r+this.ty*e,this}append(t){const e=this.a,r=this.b,a=this.c,o=this.d;return this.a=t.a*e+t.b*a,this.b=t.a*r+t.b*o,this.c=t.c*e+t.d*a,this.d=t.c*r+t.d*o,this.tx=t.tx*e+t.ty*a+this.tx,this.ty=t.tx*r+t.ty*o+this.ty,this}setTransform(t,e,r,a,o,h,c,d,p){return this.a=Math.cos(c+p)*o,this.b=Math.sin(c+p)*o,this.c=-Math.sin(c-d)*h,this.d=Math.cos(c-d)*h,this.tx=t-(r*this.a+a*this.c),this.ty=e-(r*this.b+a*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,a=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=a*t.a+this.d*t.c,this.d=a*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,r=this.b,a=this.c,o=this.d,h=t.pivot,c=-Math.atan2(-a,o),d=Math.atan2(r,e),p=Math.abs(c+d);return p<1e-5||Math.abs(Ou-p)<1e-5?(t.rotation=d,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=c,t.skew.y=d),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(a*a+o*o),t.position.x=this.tx+(h.x*e+h.y*a),t.position.y=this.ty+(h.x*r+h.y*o),t}invert(){const t=this.a,e=this.b,r=this.c,a=this.d,o=this.tx,h=t*a-e*r;return this.a=a/h,this.b=-e/h,this.c=-r/h,this.d=t/h,this.tx=(r*this.ty-a*o)/h,this.ty=-(t*this.ty-e*o)/h,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new le;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new le}static get TEMP_MATRIX(){return new le}}le.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Kn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Qn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Jn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ts=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Qd=[],Ox=[],Jo=Math.sign;function rw(){for(let s=0;s<16;s++){const t=[];Qd.push(t);for(let e=0;e<16;e++){const r=Jo(Kn[s]*Kn[e]+Jn[s]*Qn[e]),a=Jo(Qn[s]*Kn[e]+ts[s]*Qn[e]),o=Jo(Kn[s]*Jn[e]+Jn[s]*ts[e]),h=Jo(Qn[s]*Jn[e]+ts[s]*ts[e]);for(let c=0;c<16;c++)if(Kn[c]===r&&Qn[c]===a&&Jn[c]===o&&ts[c]===h){t.push(c);break}}}for(let s=0;s<16;s++){const t=new le;t.set(Kn[s],Qn[s],Jn[s],ts[s],0,0),Ox.push(t)}}rw();const he={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>Kn[s],uY:s=>Qn[s],vX:s=>Jn[s],vY:s=>ts[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>Qd[s][t],sub:(s,t)=>Qd[s][he.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?he.S:he.N:Math.abs(t)*2<=Math.abs(s)?s>0?he.E:he.W:t>0?s>0?he.SE:he.SW:s>0?he.NE:he.NW,matrixAppendRotationInv:(s,t,e=0,r=0)=>{const a=Ox[he.inv(t)];a.tx=e,a.ty=r,s.append(a)}};class Ir{constructor(t,e,r=0,a=0){this._x=r,this._y=a,this.cb=t,this.scope=e}clone(t=this.cb,e=this.scope){return new Ir(t,e,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}Ir.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Jd=class{constructor(){this.worldTransform=new le,this.localTransform=new le,this.position=new Ir(this.onChange,this,0,0),this.scale=new Ir(this.onChange,this,1,1),this.pivot=new Ir(this.onChange,this,0,0),this.skew=new Ir(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const s=this.localTransform;this._localID!==this._currentLocalID&&(s.a=this._cx*this.scale.x,s.b=this._sx*this.scale.x,s.c=this._cy*this.scale.y,s.d=this._sy*this.scale.y,s.tx=this.position.x-(this.pivot.x*s.a+this.pivot.y*s.c),s.ty=this.position.y-(this.pivot.x*s.b+this.pivot.y*s.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(s){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==s._worldID){const e=s.worldTransform,r=this.worldTransform;r.a=t.a*e.a+t.b*e.c,r.b=t.a*e.b+t.b*e.d,r.c=t.c*e.a+t.d*e.c,r.d=t.c*e.b+t.d*e.d,r.tx=t.tx*e.a+t.ty*e.c+e.tx,r.ty=t.tx*e.b+t.ty*e.d+e.ty,this._parentID=s._worldID,this._worldID++}}setFromMatrix(s){s.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(s){this._rotation!==s&&(this._rotation=s,this.updateSkew())}};Jd.IDENTITY=new Jd;let Fp=Jd;Fp.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var nw=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,sw=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function d_(s,t,e){const r=s.createShader(t);return s.shaderSource(r,e),s.compileShader(r),r}function Td(s){const t=new Array(s);for(let e=0;e<t.length;e++)t[e]=!1;return t}function Bx(s,t){switch(s){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Td(2*t);case"bvec3":return Td(3*t);case"bvec4":return Td(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const na=[{test:s=>s.type==="float"&&s.size===1&&!s.isArray,code:s=>`
            if(uv["${s}"] !== ud["${s}"].value)
            {
                ud["${s}"].value = uv["${s}"]
                gl.uniform1f(ud["${s}"].location, uv["${s}"])
            }
            `},{test:(s,t)=>(s.type==="sampler2D"||s.type==="samplerCube"||s.type==="sampler2DArray")&&s.size===1&&!s.isArray&&(t==null||t.castToBaseTexture!==void 0),code:s=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${s}"], t);

            if(ud["${s}"].value !== t)
            {
                ud["${s}"].value = t;
                gl.uniform1i(ud["${s}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(s,t)=>s.type==="mat3"&&s.size===1&&!s.isArray&&t.a!==void 0,code:s=>`
            gl.uniformMatrix3fv(ud["${s}"].location, false, uv["${s}"].toArray(true));
            `,codeUbo:s=>`
                var ${s}_matrix = uv.${s}.toArray(true);

                data[offset] = ${s}_matrix[0];
                data[offset+1] = ${s}_matrix[1];
                data[offset+2] = ${s}_matrix[2];
        
                data[offset + 4] = ${s}_matrix[3];
                data[offset + 5] = ${s}_matrix[4];
                data[offset + 6] = ${s}_matrix[5];
        
                data[offset + 8] = ${s}_matrix[6];
                data[offset + 9] = ${s}_matrix[7];
                data[offset + 10] = ${s}_matrix[8];
            `},{test:(s,t)=>s.type==="vec2"&&s.size===1&&!s.isArray&&t.x!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${s}"].location, v.x, v.y);
                }`,codeUbo:s=>`
                v = uv.${s};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:s=>s.type==="vec2"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${s}"].location, v[0], v[1]);
                }
            `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.width!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${s}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(s,t)=>s.type==="vec4"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${s}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(s,t)=>s.type==="vec3"&&s.size===1&&!s.isArray&&t.red!==void 0,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${s}"].location, v.red, v.green, v.blue)
                }`,codeUbo:s=>`
                    v = uv.${s};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:s=>s.type==="vec4"&&s.size===1&&!s.isArray,code:s=>`
                cv = ud["${s}"].value;
                v = uv["${s}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${s}"].location, v[0], v[1], v[2], v[3])
                }`}],aw={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},lw={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function ow(s,t){const e=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const r in s.uniforms){const a=t[r];if(!a){s.uniforms[r]?.group===!0&&(s.uniforms[r].ubo?e.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${r}, '${r}');
                    `):e.push(`
                        renderer.shader.syncUniformGroup(uv.${r}, syncData);
                    `));continue}const o=s.uniforms[r];let h=!1;for(let c=0;c<na.length;c++)if(na[c].test(a,o)){e.push(na[c].code(r,o)),h=!0;break}if(!h){const c=(a.size===1&&!a.isArray?aw:lw)[a.type].replace("location",`ud["${r}"].location`);e.push(`
            cu = ud["${r}"];
            cv = cu.value;
            v = uv["${r}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",e.join(`
`))}const Ix={};let tu=Ix;function uw(){if(tu===Ix||tu?.isContextLost()){const s=gt.ADAPTER.createCanvas();let t;gt.PREFER_ENV>=us.WEBGL2&&(t=s.getContext("webgl2",{})),t||(t=s.getContext("webgl",{})||s.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),tu=t}return tu}let eu;function hw(){if(!eu){eu=xi.MEDIUM;const s=uw();if(s&&s.getShaderPrecisionFormat){const t=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT);t&&(eu=t.precision?xi.HIGH:xi.MEDIUM)}}return eu}function p_(s,t){const e=s.getShaderSource(t).split(`
`).map((p,g)=>`${g}: ${p}`),r=s.getShaderInfoLog(t),a=r.split(`
`),o={},h=a.map(p=>parseFloat(p.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(p=>p&&!o[p]?(o[p]=!0,!0):!1),c=[""];h.forEach(p=>{e[p-1]=`%c${e[p-1]}%c`,c.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const d=e.join(`
`);c[0]=d,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...c),console.groupEnd()}function cw(s,t,e,r){s.getProgramParameter(t,s.LINK_STATUS)||(s.getShaderParameter(e,s.COMPILE_STATUS)||p_(s,e),s.getShaderParameter(r,s.COMPILE_STATUS)||p_(s,r),console.error("PixiJS Error: Could not initialize shader."),s.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",s.getProgramInfoLog(t)))}const fw={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Nx(s){return fw[s]}let iu=null;const m_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Px(s,t){if(!iu){const e=Object.keys(m_);iu={};for(let r=0;r<e.length;++r){const a=e[r];iu[s[a]]=m_[a]}}return iu[t]}function g_(s,t,e){if(s.substring(0,9)!=="precision"){let r=t;return t===xi.HIGH&&e!==xi.HIGH&&(r=xi.MEDIUM),`precision ${r} float;
${s}`}else if(e!==xi.HIGH&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}let ml;function dw(){if(typeof ml=="boolean")return ml;try{ml=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ml=!1}return ml}let pw=0;const ru={},tp=class Zs{constructor(t,e,r="pixi-shader",a={}){this.extra={},this.id=pw++,this.vertexSrc=t||Zs.defaultVertexSrc,this.fragmentSrc=e||Zs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=a,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),ru[r]?(ru[r]++,r+=`-${ru[r]}`):ru[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=g_(this.vertexSrc,Zs.defaultVertexPrecision,xi.HIGH),this.fragmentSrc=g_(this.fragmentSrc,Zs.defaultFragmentPrecision,hw())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return sw}static get defaultFragmentSrc(){return nw}static from(t,e,r){const a=t+e;let o=o_[a];return o||(o_[a]=o=new Zs(t,e,r)),o}};tp.defaultVertexPrecision=xi.HIGH,tp.defaultFragmentPrecision=Br.apple.device?xi.HIGH:xi.MEDIUM;let Nr=tp,mw=0;class Ui{constructor(t,e,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=mw++,this.static=!!e,this.ubo=!!r,t instanceof _e?(this.buffer=t,this.buffer.type=er.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new _e(new Float32Array(1)),this.buffer.type=er.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,e,r){if(!this.ubo)this.uniforms[t]=new Ui(e,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,e,r){return new Ui(t,e,r)}static uboFrom(t,e){return new Ui(t,e??!0,!0)}}class ir{constructor(t,e){this.uniformBindCount=0,this.program=t,e?e instanceof Ui?this.uniformGroup=e:this.uniformGroup=new Ui(e):this.uniformGroup=new Ui({}),this.disposeRunner=new Pi("disposeShader")}checkUniformExists(t,e){if(e.uniforms[t])return!0;for(const r in e.uniforms){const a=e.uniforms[r];if(a.group===!0&&this.checkUniformExists(t,a))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,e,r){const a=Nr.from(t,e);return new ir(a,r)}}class gw{constructor(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},!e.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!e.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const r=new Int32Array(t);for(let o=0;o<t;o++)r[o]=o;this.defaultGroupCache[t]=Ui.from({uSamplers:r},!0);let a=this.fragTemplate;a=a.replace(/%count%/gi,`${t}`),a=a.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Nr(this.vertexSrc,a)}const e={tint:new Float32Array([1,1,1,1]),translationMatrix:new le,default:this.defaultGroupCache[t]};return new ir(this.programCache[t],e)}generateSampleSrc(t){let e="";e+=`
`,e+=`
`;for(let r=0;r<t;r++)r>0&&(e+=`
else `),r<t-1&&(e+=`if(vTextureId < ${r}.5)`),e+=`
{`,e+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,e+=`
}`;return e+=`
`,e+=`
`,e}}class ep{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function yw(){return!Br.apple.device}function vw(s){let t=!0;const e=gt.ADAPTER.getNavigator();if(Br.tablet||Br.phone){if(Br.apple.device){const r=e.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(t=!1)}if(Br.android.device){const r=e.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(t=!1)}}return t?s:4}class Ku{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var _w=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,xw=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const _l=class Oi extends Ku{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=Dx,this.vertexSize=6,this.state=ar.for2d(),this.size=Oi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??vw(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??yw(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Vt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return xw}static get defaultFragmentTemplate(){return _w}setShaderGenerator({vertex:t=Oi.defaultVertexSrc,fragment:e=Oi.defaultFragmentTemplate}={}){this.shaderGenerator=new gw(t,e)}contextChange(){const t=this.renderer.gl;gt.PREFER_ENV===us.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Oi.defaultMaxTextures),this.maxTextures=$A(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Oi,r=this.size/4,a=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new Kd);for(;e.length<a;)e.push(new ep);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=Oi._textureArrayPool,a=this.renderer.batch,o=this._tempBoundTextures,h=this.renderer.textureGC.count;let c=++Nt._globalBatch,d=0,p=r[0],g=0;a.copyBoundTextures(o,e);for(let y=0;y<this._bufferSize;++y){const v=t[y];t[y]=null,v._batchEnabled!==c&&(p.count>=e&&(a.boundArray(p,o,c,e),this.buildDrawCalls(p,g,y),g=y,p=r[++d],++c),v._batchEnabled=c,v.touched=h,p.elements[p.count++]=v)}p.count>0&&(a.boundArray(p,o,c,e),this.buildDrawCalls(p,g,this._bufferSize),++d,++c);for(let y=0;y<o.length;y++)o[y]=null;Nt._globalBatch=c}buildDrawCalls(t,e,r){const{_bufferedElements:a,_attributeBuffer:o,_indexBuffer:h,vertexSize:c}=this,d=Oi._drawCallPool;let p=this._dcIndex,g=this._aIndex,y=this._iIndex,v=d[p];v.start=this._iIndex,v.texArray=t;for(let _=e;_<r;++_){const x=a[_],A=x._texture.baseTexture,S=wx[A.alphaMode?1:0][x.blendMode];a[_]=null,e<_&&v.blend!==S&&(v.size=y-v.start,e=_,v=d[++p],v.texArray=t,v.start=y),this.packInterleavedGeometry(x,o,h,g,y),g+=x.vertexData.length/2*c,y+=x.indices.length,v.blend=S}e<r&&(v.size=y-v.start,++p),this._dcIndex=p,this._aIndex=g,this._iIndex=y}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;Oi.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,a=Oi._drawCallPool;let o=null;for(let h=0;h<t;h++){const{texArray:c,type:d,size:p,start:g,blend:y}=a[h];o!==c&&(o=c,this.bindAndClearTexArray(c)),this.state.blendMode=y,r.set(this.state),e.drawElements(d,p,e.UNSIGNED_SHORT,g*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Oi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Mu(Math.ceil(t/8)),r=a_(e),a=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let o=this._aBuffers[a];return o||(this._aBuffers[a]=o=new $d(a*this.vertexSize*4)),o}getIndexBuffer(t){const e=Mu(Math.ceil(t/12)),r=a_(e),a=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let o=this._iBuffers[r];return o||(this._iBuffers[r]=o=new Uint16Array(a)),o}packInterleavedGeometry(t,e,r,a,o){const{uint32View:h,float32View:c}=e,d=a/this.vertexSize,p=t.uvs,g=t.indices,y=t.vertexData,v=t._texture.baseTexture._batchLocation,_=Math.min(t.worldAlpha,1),x=ae.shared.setValue(t._tintRGB).toPremultiplied(_,t._texture.baseTexture.alphaMode>0);for(let A=0;A<y.length;A+=2)c[a++]=y[A],c[a++]=y[A+1],c[a++]=p[A],c[a++]=p[A+1],h[a++]=x,c[a++]=v;for(let A=0;A<g.length;A++)r[o++]=d+g[A]}};_l.defaultBatchSize=4096,_l.extension={name:"batch",type:pt.RendererPlugin},_l._drawCallPool=[],_l._textureArrayPool=[];let es=_l;Et.add(es);var bw=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Ew=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const ip=class xl extends ir{constructor(t,e,r){const a=Nr.from(t||xl.defaultVertexSrc,e||xl.defaultFragmentSrc);super(a,r),this.padding=0,this.resolution=xl.defaultResolution,this.multisample=xl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ar}apply(t,e,r,a,o){t.applyFilter(this,e,r,a)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return Ew}static get defaultFragmentSrc(){return bw}};ip.defaultResolution=1,ip.defaultMultisample=Te.NONE;let qe=ip;class Bu{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ae(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:e,background:r,backgroundAlpha:a}=t,o=r??e;o!==void 0&&(this.color=o),this.alpha=a}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}Bu.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Bu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"background"};Et.add(Bu);class Ux{constructor(t){this.renderer=t,this.emptyRenderer=new Ku(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,e){const{boundTextures:r}=this.renderer.texture;for(let a=e-1;a>=0;--a)t[a]=r[a]||null,t[a]&&(t[a]._batchLocation=a)}boundArray(t,e,r,a){const{elements:o,ids:h,count:c}=t;let d=0;for(let p=0;p<c;p++){const g=o[p],y=g._batchLocation;if(y>=0&&y<a&&e[y]===g){h[p]=y;continue}for(;d<a;){const v=e[d];if(v&&v._batchEnabled===r&&v._batchLocation===d){d++;continue}h[p]=d,g._batchLocation=d,e[d]=g;break}}}destroy(){this.renderer=null}}Ux.extension={type:pt.RendererSystem,name:"batch"};Et.add(Ux);let y_=0;class Iu{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=y_++}init(t){if(t.context)this.initFromContext(t.context);else{const e=this.renderer.background.alpha<1,r=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:e,premultipliedAlpha:r,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=y_++,this.renderer.runners.contextChange.emit(t);const e=this.renderer.view;e.addEventListener!==void 0&&(e.addEventListener("webglcontextlost",this.handleContextLost,!1),e.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const e=this.createContext(this.renderer.view,t);this.initFromContext(e)}createContext(t,e){let r;if(gt.PREFER_ENV>=us.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,e={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc"),bptc:t.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const e=t.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),e&&!e.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const a=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=a,a||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Iu.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Iu.extension={type:pt.RendererSystem,name:"context"};Et.add(Iu);class rp{constructor(t,e){if(this.width=Math.round(t),this.height=Math.round(e),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Pi("disposeFramebuffer"),this.multisample=Te.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,e){return this.colorTextures[t]=e||new Nt(null,{scaleMode:Or.NEAREST,resolution:1,mipmap:nr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new Nt(null,{scaleMode:Or.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:nr.OFF,format:ht.DEPTH_COMPONENT,type:Rt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,e){if(t=Math.round(t),e=Math.round(e),!t||!e)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&e===this.height)){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const a=this.colorTextures[r],o=a.resolution;a.setSize(t/o,e/o)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(t/r,e/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Lx extends Nt{constructor(t={}){if(typeof t=="number"){const e=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3];t={width:e,height:r,scaleMode:a,resolution:o}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=Te.NONE),super(null,t),this.mipmap=nr.OFF,this.valid=!0,this._clear=new ae([0,0,0,0]),this.framebuffer=new rp(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Fr extends Cl{constructor(t){const e=t,r=e.naturalWidth||e.videoWidth||e.displayWidth||e.width,a=e.naturalHeight||e.videoHeight||e.displayHeight||e.height;super(r,a),this.source=t,this.noSubImage=!1}static crossOrigin(t,e,r){r===void 0&&!e.startsWith("data:")?t.crossOrigin=jA(e):r!==!1&&(t.crossOrigin=typeof r=="string"?r:"anonymous")}upload(t,e,r,a){const o=t.gl,h=e.realWidth,c=e.realHeight;if(a=a||this.source,typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement){if(!a.complete||a.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement&&a.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===Je.UNPACK),!this.noSubImage&&e.target===o.TEXTURE_2D&&r.width===h&&r.height===c?o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.format,r.type,a):(r.width=h,r.height=c,o.texImage2D(e.target,0,r.internalFormat,e.format,r.type,a)),!0}update(){if(this.destroyed)return;const t=this.source,e=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;this.resize(e,r),super.update()}dispose(){this.source=null}}class Fx extends Fr{constructor(t,e){if(e=e||{},typeof t=="string"){const r=new Image;Fr.crossOrigin(r,t,e.crossorigin),r.src=t,t=r}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(e.createBitmap??gt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.bitmap=null,this._load=null,e.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((e,r)=>{const a=this.source;this.url=a.src;const o=()=>{this.destroyed||(a.onload=null,a.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};a.complete&&a.src?o():(a.onload=o,a.onerror=h=>{r(h),this.onError.emit(h)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const e=globalThis.createImageBitmap,r=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then(a=>a.blob()).then(a=>e(a,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Je.UNPACK?"premultiply":"none"})).then(a=>this.destroyed?Promise.reject():(this.bitmap=a,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,e,r){if(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,e,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,e,r,this.bitmap),!this.preserveBitmap){let a=!0;const o=e._glTextures;for(const h in o){const c=o[h];if(c!==r&&c.dirtyId!==e.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class Gp{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,e,r){const a=e.width,o=e.height;if(r){const h=t.width/2/a,c=t.height/2/o,d=t.x/a+h,p=t.y/o+c;r=he.add(r,he.NW),this.x0=d+h*he.uX(r),this.y0=p+c*he.uY(r),r=he.add(r,2),this.x1=d+h*he.uX(r),this.y1=p+c*he.uY(r),r=he.add(r,2),this.x2=d+h*he.uX(r),this.y2=p+c*he.uY(r),r=he.add(r,2),this.x3=d+h*he.uX(r),this.y3=p+c*he.uY(r)}else this.x0=t.x/a,this.y0=t.y/o,this.x1=(t.x+t.width)/a,this.y1=t.y/o,this.x2=(t.x+t.width)/a,this.y2=(t.y+t.height)/o,this.x3=t.x/a,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Gp.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const v_=new Gp;function nu(s){s.destroy=function(){},s.on=function(){},s.once=function(){},s.emit=function(){}}class bt extends Bl{constructor(t,e,r,a,o,h,c){if(super(),this.noFrame=!1,e||(this.noFrame=!0,e=new Ut(0,0,1,1)),t instanceof bt&&(t=t.baseTexture),this.baseTexture=t,this._frame=e,this.trim=a,this.valid=!1,this.destroyed=!1,this._uvs=v_,this.uvMatrix=null,this.orig=r||e,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=h?new qt(h.x,h.y):new qt(0,0),this.defaultBorders=c,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=e:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:e}=this.baseTexture;e?.url&&Wi[e.url]&&bt.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,bt.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),r=new bt(this.baseTexture,!this.noFrame&&t,e,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=t),r}updateUvs(){this._uvs===v_&&(this._uvs=new Gp),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,e={},r=gt.STRICT_TEXTURE_CACHE){const a=typeof t=="string";let o=null;if(a)o=t;else if(t instanceof Nt){if(!t.cacheId){const c=e?.pixiIdPrefix||"pixiid";t.cacheId=`${c}-${as()}`,Nt.addToCache(t,t.cacheId)}o=t.cacheId}else{if(!t._pixiId){const c=e?.pixiIdPrefix||"pixiid";t._pixiId=`${c}_${as()}`}o=t._pixiId}let h=Wi[o];if(a&&r&&!h)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!h&&!(t instanceof Nt)?(e.resolution||(e.resolution=Lr(t)),h=new bt(new Nt(t,e)),h.baseTexture.cacheId=o,Nt.addToCache(h.baseTexture,o),bt.addToCache(h,o)):!h&&t instanceof Nt&&(h=new bt(t),bt.addToCache(h,o)),h}static fromURL(t,e){const r=Object.assign({autoLoad:!1},e?.resourceOptions),a=bt.from(t,Object.assign({resourceOptions:r},e),!1),o=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):o.load().then(()=>Promise.resolve(a))}static fromBuffer(t,e,r,a){return new bt(Nt.fromBuffer(t,e,r,a))}static fromLoader(t,e,r,a){const o=new Nt(t,Object.assign({scaleMode:Nt.defaultOptions.scaleMode,resolution:Lr(e)},a)),{resource:h}=o;h instanceof Fx&&(h.url=e);const c=new bt(o);return r||(r=e),Nt.addToCache(c.baseTexture,r),bt.addToCache(c,r),r!==e&&(Nt.addToCache(c.baseTexture,e),bt.addToCache(c,e)),c.baseTexture.valid?Promise.resolve(c):new Promise(d=>{c.baseTexture.once("loaded",()=>d(c))})}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Wi[e]&&Wi[e]!==t&&console.warn(`Texture added to the cache with an id [${e}] that already had an entry`),Wi[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Wi[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Wi[t],e}}else if(t?.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)Wi[t.textureCacheIds[e]]===t&&delete Wi[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:e,y:r,width:a,height:o}=t,h=e+a>this.baseTexture.width,c=r+o>this.baseTexture.height;if(h||c){const d=h&&c?"and":"or",p=`X: ${e} + ${a} = ${e+a} > ${this.baseTexture.width}`,g=`Y: ${r} + ${o} = ${r+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${p} ${d} ${g}`)}this.valid=a&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return bt._EMPTY||(bt._EMPTY=new bt(new Nt),nu(bt._EMPTY),nu(bt._EMPTY.baseTexture)),bt._EMPTY}static get WHITE(){if(!bt._WHITE){const t=gt.ADAPTER.createCanvas(16,16),e=t.getContext("2d");t.width=16,t.height=16,e.fillStyle="white",e.fillRect(0,0,16,16),bt._WHITE=new bt(Nt.from(t)),nu(bt._WHITE),nu(bt._WHITE.baseTexture)}return bt._WHITE}}class hs extends bt{constructor(t,e){super(t,e),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,e,r=!0){const a=this.baseTexture.resolution,o=Math.round(t*a)/a,h=Math.round(e*a)/a;this.valid=o>0&&h>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=h,r&&this.baseTexture.resize(o,h),this.updateUvs()}setResolution(t){const{baseTexture:e}=this;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))}static create(t){return new hs(new Lx(t))}}class Gx{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,e,r=Te.NONE){const a=new Lx(Object.assign({width:t,height:e,resolution:1,multisample:r},this.textureOptions));return new hs(a)}getOptimalTexture(t,e,r=1,a=Te.NONE){let o;t=Math.max(Math.ceil(t*r-1e-6),1),e=Math.max(Math.ceil(e*r-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||e!==this._pixelsHeight?(t=Mu(t),e=Mu(e),o=((t&65535)<<16|e&65535)>>>0,a>1&&(o+=a*4294967296)):o=a>1?-a:-1,this.texturePool[o]||(this.texturePool[o]=[]);let h=this.texturePool[o].pop();return h||(h=this.createTexture(t,e,a)),h.filterPoolKey=o,h.setResolution(r),h}getFilterTexture(t,e,r){const a=this.getOptimalTexture(t.width,t.height,e||t.resolution,r||Te.NONE);return a.filterFrame=t.filterFrame,a}returnTexture(t){const e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const e in this.texturePool){const r=this.texturePool[e];if(r)for(let a=0;a<r.length;a++)r[a].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const r=this.texturePool[e];if(r)for(let a=0;a<r.length;a++)r[a].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}Gx.SCREEN_KEY=-1;class Tw extends wn{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class kx extends wn{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new _e(this.vertices),this.uvBuffer=new _e(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,e){let r=0,a=0;return this.uvs[0]=r,this.uvs[1]=a,this.uvs[2]=r+e.width/t.width,this.uvs[3]=a,this.uvs[4]=r+e.width/t.width,this.uvs[5]=a+e.height/t.height,this.uvs[6]=r,this.uvs[7]=a+e.height/t.height,r=e.x,a=e.y,this.vertices[0]=r,this.vertices[1]=a,this.vertices[2]=r+e.width,this.vertices[3]=a,this.vertices[4]=r+e.width,this.vertices[5]=a+e.height,this.vertices[6]=r,this.vertices[7]=a+e.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Sw{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Te.NONE,this.sourceFrame=new Ut,this.destinationFrame=new Ut,this.bindingSourceFrame=new Ut,this.bindingDestinationFrame=new Ut,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const su=[new qt,new qt,new qt,new qt],Sd=new le;class Hx{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Gx,this.statePool=[],this.quad=new Tw,this.quadUv=new kx,this.tempRect=new Ut,this.activeState={},this.globalUniforms=new Ui({outputFrame:new Ut,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,e){const r=this.renderer,a=this.defaultFilterStack,o=this.statePool.pop()||new Sw,h=r.renderTexture;let c,d;if(h.current){const S=h.current;c=S.resolution,d=S.multisample}else c=r.resolution,d=r.multisample;let p=e[0].resolution||c,g=e[0].multisample??d,y=e[0].padding,v=e[0].autoFit,_=e[0].legacy??!0;for(let S=1;S<e.length;S++){const T=e[S];p=Math.min(p,T.resolution||c),g=Math.min(g,T.multisample??d),y=this.useMaxPadding?Math.max(y,T.padding):y+T.padding,v=v&&T.autoFit,_=_||(T.legacy??!0)}a.length===1&&(this.defaultFilterStack[0].renderTexture=h.current),a.push(o),o.resolution=p,o.multisample=g,o.legacy=_,o.target=t,o.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),o.sourceFrame.pad(y);const x=this.tempRect.copyFrom(h.sourceFrame);r.projection.transform&&this.transformAABB(Sd.copyFrom(r.projection.transform).invert(),x),v?(o.sourceFrame.fit(x),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(x)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,h.current?h.current.resolution:r.resolution,h.sourceFrame,h.destinationFrame,r.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,p,g),o.filters=e,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const A=this.tempRect;A.x=0,A.y=0,A.width=o.sourceFrame.width,A.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(h.sourceFrame),o.bindingDestinationFrame.copyFrom(h.destinationFrame),o.transform=r.projection.transform,r.projection.transform=null,h.bind(o.renderTexture,o.sourceFrame,A),r.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;const a=this.globalUniforms.uniforms;a.outputFrame=e.sourceFrame,a.resolution=e.resolution;const o=a.inputSize,h=a.inputPixel,c=a.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],h[0]=Math.round(o[0]*e.resolution),h[1]=Math.round(o[1]*e.resolution),h[2]=1/h[0],h[3]=1/h[1],c[0]=.5*h[2],c[1]=.5*h[3],c[2]=e.sourceFrame.width*o[2]-.5*h[2],c[3]=e.sourceFrame.height*o[3]-.5*h[3],e.legacy){const p=a.filterArea;p[0]=e.destinationFrame.width,p[1]=e.destinationFrame.height,p[2]=e.sourceFrame.x,p[3]=e.sourceFrame.y,a.filterClamp=a.inputClamp}this.globalUniforms.update();const d=t[t.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,e.renderTexture,d.renderTexture,Ji.BLEND,e),this.returnFilterTexture(e.renderTexture);else{let p=e.renderTexture,g=this.getOptimalFilterTexture(p.width,p.height,e.resolution);g.filterFrame=p.filterFrame;let y=0;for(y=0;y<r.length-1;++y){y===1&&e.multisample>1&&(g=this.getOptimalFilterTexture(p.width,p.height,e.resolution),g.filterFrame=p.filterFrame),r[y].apply(this,p,g,Ji.CLEAR,e);const v=p;p=g,g=v}r[y].apply(this,p,d.renderTexture,Ji.BLEND,e),y>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(p),this.returnFilterTexture(g)}e.clear(),this.statePool.push(e)}bindAndClear(t,e=Ji.CLEAR){const{renderTexture:r,state:a}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t?.filterFrame){const h=this.tempRect;h.x=0,h.y=0,h.width=t.filterFrame.width,h.height=t.filterFrame.height,r.bind(t,t.filterFrame,h)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=a.stateId&1||this.forceClear;(e===Ji.CLEAR||e===Ji.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,e,r,a){const o=this.renderer;o.state.set(t.state),this.bindAndClear(r,a),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(tr.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(tr.TRIANGLE_STRIP))}calculateSpriteMatrix(t,e){const{sourceFrame:r,destinationFrame:a}=this.activeState,{orig:o}=e._texture,h=t.set(a.width,0,0,a.height,r.x,r.y),c=e.worldTransform.copyTo(le.TEMP_MATRIX);return c.invert(),h.prepend(c),h.scale(1/o.width,1/o.height),h.translate(e.anchor.x,e.anchor.y),h}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,e,r=1,a=Te.NONE){return this.texturePool.getOptimalTexture(t,e,r,a)}getFilterTexture(t,e,r){if(typeof t=="number"){const o=t;t=e,e=o}t=t||this.activeState.renderTexture;const a=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,r||Te.NONE);return a.filterFrame=t.filterFrame,a}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,e){const r=su[0],a=su[1],o=su[2],h=su[3];r.set(e.left,e.top),a.set(e.left,e.bottom),o.set(e.right,e.top),h.set(e.right,e.bottom),t.apply(r,r),t.apply(a,a),t.apply(o,o),t.apply(h,h);const c=Math.min(r.x,a.x,o.x,h.x),d=Math.min(r.y,a.y,o.y,h.y),p=Math.max(r.x,a.x,o.x,h.x),g=Math.max(r.y,a.y,o.y,h.y);e.x=c,e.y=d,e.width=p-c,e.height=g-d}roundFrame(t,e,r,a,o){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(o){const{a:h,b:c,c:d,d:p}=o;if((Math.abs(c)>1e-4||Math.abs(d)>1e-4)&&(Math.abs(h)>1e-4||Math.abs(p)>1e-4))return}o=o?Sd.copyFrom(o):Sd.identity(),o.translate(-r.x,-r.y).scale(a.width/r.width,a.height/r.height).translate(a.x,a.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}}}Hx.extension={type:pt.RendererSystem,name:"filter"};Et.add(Hx);class Aw{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Te.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const ww=new Ut;class zx{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new rp(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ut,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;gt.PREFER_ENV===us.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=a=>e.drawBuffersWEBGL(a):(this.hasMRT=!1,t.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,e,r=0){const{gl:a}=this;if(t){const o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,a.bindFramebuffer(a.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=r),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let h=0;h<t.colorTextures.length;h++){const c=t.colorTextures[h];this.renderer.texture.unbind(c.parentTextureArray||c)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){const h=e.width>>r,c=e.height>>r,d=h/e.width;this.setViewport(e.x*d,e.y*d,h,c)}else{const h=t.width>>r,c=t.height>>r;this.setViewport(0,0,h,c)}}else this.current&&(this.current=null,a.bindFramebuffer(a.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,e,r,a){const o=this.viewport;t=Math.round(t),e=Math.round(e),r=Math.round(r),a=Math.round(a),(o.width!==r||o.height!==a||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=r,o.height=a,this.gl.viewport(t,e,r,a))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,e,r,a,o=Xd.COLOR|Xd.DEPTH){const{gl:h}=this;h.clearColor(t,e,r,a),h.clear(o)}initFramebuffer(t){const{gl:e}=this,r=new Aw(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r}resizeFramebuffer(t){const{gl:e}=this,r=t.glFramebuffers[this.CONTEXT_UID];if(r.stencil){e.bindRenderbuffer(e.RENDERBUFFER,r.stencil);let h;this.renderer.context.webGLVersion===1?h=e.DEPTH_STENCIL:t.depth&&t.stencil?h=e.DEPTH24_STENCIL8:t.depth?h=e.DEPTH_COMPONENT24:h=e.STENCIL_INDEX8,r.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,h,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,h,t.width,t.height)}const a=t.colorTextures;let o=a.length;e.drawBuffers||(o=Math.min(o,1));for(let h=0;h<o;h++){const c=a[h],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),h===0&&r.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,e){const{gl:r}=this,a=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures;let h=o.length;r.drawBuffers||(h=Math.min(h,1)),a.multisample>1&&this.canMultisampleFramebuffer(t)?a.msaaBuffer=a.msaaBuffer||r.createRenderbuffer():a.msaaBuffer&&(r.deleteRenderbuffer(a.msaaBuffer),a.msaaBuffer=null,a.blitFramebuffer&&(a.blitFramebuffer.dispose(),a.blitFramebuffer=null));const c=[];for(let d=0;d<h;d++){const p=o[d],g=p.parentTextureArray||p;this.renderer.texture.bind(g,0),d===0&&a.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,a.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,a.multisample,g._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,a.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+d,p.target,g._glTextures[this.CONTEXT_UID].texture,e),c.push(r.COLOR_ATTACHMENT0+d))}if(c.length>1&&r.drawBuffers(c),t.depthTexture&&this.writeDepthTexture){const d=t.depthTexture;this.renderer.texture.bind(d,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,d._glTextures[this.CONTEXT_UID].texture,e)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){a.stencil=a.stencil||r.createRenderbuffer();let d,p;this.renderer.context.webGLVersion===1?(d=r.DEPTH_STENCIL_ATTACHMENT,p=r.DEPTH_STENCIL):t.depth&&t.stencil?(d=r.DEPTH_STENCIL_ATTACHMENT,p=r.DEPTH24_STENCIL8):t.depth?(d=r.DEPTH_ATTACHMENT,p=r.DEPTH_COMPONENT24):(d=r.STENCIL_ATTACHMENT,p=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,a.stencil),a.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,a.multisample,p,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,p,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,d,r.RENDERBUFFER,a.stencil)}else a.stencil&&(r.deleteRenderbuffer(a.stencil),a.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:e}=this;let r=Te.NONE;if(t<=1||e===null)return r;for(let a=0;a<e.length;a++)if(e[a]<=t){r=e[a];break}return r===1&&(r=Te.NONE),r}blit(t,e,r){const{current:a,renderer:o,gl:h,CONTEXT_UID:c}=this;if(o.context.webGLVersion!==2||!a)return;const d=a.glFramebuffers[c];if(!d)return;if(!t){if(!d.msaaBuffer)return;const g=a.colorTextures[0];if(!g)return;d.blitFramebuffer||(d.blitFramebuffer=new rp(a.width,a.height),d.blitFramebuffer.addColorTexture(0,g)),t=d.blitFramebuffer,t.colorTextures[0]!==g&&(t.colorTextures[0]=g,t.dirtyId++,t.dirtyFormat++),(t.width!==a.width||t.height!==a.height)&&(t.width=a.width,t.height=a.height,t.dirtyId++,t.dirtySize++)}e||(e=ww,e.width=a.width,e.height=a.height),r||(r=e);const p=e.width===r.width&&e.height===r.height;this.bind(t),h.bindFramebuffer(h.READ_FRAMEBUFFER,d.framebuffer),h.blitFramebuffer(e.left,e.top,e.right,e.bottom,r.left,r.top,r.right,r.bottom,h.COLOR_BUFFER_BIT,p?h.NEAREST:h.LINEAR),h.bindFramebuffer(h.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,e){const r=t.glFramebuffers[this.CONTEXT_UID],a=this.gl;if(!r)return;delete t.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(a.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&a.deleteRenderbuffer(r.msaaBuffer),r.stencil&&a.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,e)}disposeAll(t){const e=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)}forceStencil(){const t=this.current;if(!t)return;const e=t.glFramebuffers[this.CONTEXT_UID];if(!e||e.stencil&&t.stencil)return;t.stencil=!0;const r=t.width,a=t.height,o=this.gl,h=e.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,h);let c,d;this.renderer.context.webGLVersion===1?(c=o.DEPTH_STENCIL_ATTACHMENT,d=o.DEPTH_STENCIL):t.depth?(c=o.DEPTH_STENCIL_ATTACHMENT,d=o.DEPTH24_STENCIL8):(c=o.STENCIL_ATTACHMENT,d=o.STENCIL_INDEX8),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,d,r,a):o.renderbufferStorage(o.RENDERBUFFER,d,r,a),o.framebufferRenderbuffer(o.FRAMEBUFFER,c,o.RENDERBUFFER,h)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ut}destroy(){this.renderer=null}}zx.extension={type:pt.RendererSystem,name:"framebuffer"};Et.add(zx);const Ad={5126:4,5123:2,5121:1};class Xx{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;gt.PREFER_ENV===us.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=()=>r.createVertexArrayOES(),t.bindVertexArray=a=>r.bindVertexArrayOES(a),t.deleteVertexArray=a=>r.deleteVertexArrayOES(a)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(e.webGLVersion!==2){const r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=(a,o)=>r.vertexAttribDivisorANGLE(a,o),t.drawElementsInstanced=(a,o,h,c,d)=>r.drawElementsInstancedANGLE(a,o,h,c,d),t.drawArraysInstanced=(a,o,h,c)=>r.drawArraysInstancedANGLE(a,o,h,c)):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex}bind(t,e){e=e||this.renderer.shader.shader;const{gl:r}=this;let a=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;a||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=a={},o=!0);const h=a[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==h&&(this._activeVao=h,this.hasVao?r.bindVertexArray(h):this.activateVao(t,e.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,e=this.renderer.buffer;for(let r=0;r<t.buffers.length;r++){const a=t.buffers[r];e.update(a)}}checkCompatibility(t,e){const r=t.attributes,a=e.attributeData;for(const o in a)if(!r[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(t,e){const r=t.attributes,a=e.attributeData,o=["g",t.id];for(const h in r)a[h]&&o.push(h,a[h].location);return o.join("-")}initGeometryVao(t,e,r=!0){const a=this.gl,o=this.CONTEXT_UID,h=this.renderer.buffer,c=e.program;c.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,c);const d=this.getSignature(t,c),p=t.glVertexArrayObjects[this.CONTEXT_UID];let g=p[d];if(g)return p[c.id]=g,g;const y=t.buffers,v=t.attributes,_={},x={};for(const A in y)_[A]=0,x[A]=0;for(const A in v)!v[A].size&&c.attributeData[A]?v[A].size=c.attributeData[A].size:v[A].size||console.warn(`PIXI Geometry attribute '${A}' size cannot be determined (likely the bound shader does not have the attribute)`),_[v[A].buffer]+=v[A].size*Ad[v[A].type];for(const A in v){const S=v[A],T=S.size;S.stride===void 0&&(_[S.buffer]===T*Ad[S.type]?S.stride=0:S.stride=_[S.buffer]),S.start===void 0&&(S.start=x[S.buffer],x[S.buffer]+=T*Ad[S.type])}g=a.createVertexArray(),a.bindVertexArray(g);for(let A=0;A<y.length;A++){const S=y[A];h.bind(S),r&&S._glBuffers[o].refCount++}return this.activateVao(t,c),p[c.id]=g,p[d]=g,a.bindVertexArray(null),h.unbind(er.ARRAY_BUFFER),g}disposeGeometry(t,e){if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const r=t.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,o=t.buffers,h=this.renderer?.buffer;if(t.disposeRunner.remove(this),!!r){if(h)for(let c=0;c<o.length;c++){const d=o[c]._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!e&&h.dispose(o[c],e))}if(!e){for(const c in r)if(c[0]==="g"){const d=r[c];this._activeVao===d&&this.unbind(),a.deleteVertexArray(d)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const e=Object.keys(this.managedGeometries);for(let r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t)}activateVao(t,e){const r=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,h=t.buffers,c=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);let d=null;for(const p in c){const g=c[p],y=h[g.buffer],v=y._glBuffers[a];if(e.attributeData[p]){d!==v&&(o.bind(y),d=v);const _=e.attributeData[p].location;if(r.enableVertexAttribArray(_),r.vertexAttribPointer(_,g.size,g.type||r.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)r.vertexAttribDivisor(_,g.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,e,r,a){const{gl:o}=this,h=this._activeGeometry;if(h.indexBuffer){const c=h.indexBuffer.data.BYTES_PER_ELEMENT,d=c===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?h.instanced?o.drawElementsInstanced(t,e||h.indexBuffer.data.length,d,(r||0)*c,a||1):o.drawElements(t,e||h.indexBuffer.data.length,d,(r||0)*c):console.warn("unsupported index buffer type: uint32")}else h.instanced?o.drawArraysInstanced(t,r,e||h.getSize(),a||1):o.drawArrays(t,r,e||h.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Xx.extension={type:pt.RendererSystem,name:"geometry"};Et.add(Xx);const __=new le;class Vx{constructor(t,e){this._texture=t,this.mapCoord=new le,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,e){e===void 0&&(e=t);const r=this.mapCoord;for(let a=0;a<t.length;a+=2){const o=t[a],h=t[a+1];e[a]=o*r.a+h*r.c+r.tx,e[a+1]=o*r.b+h*r.d+r.ty}return e}update(t){const e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;const r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const a=e.orig,o=e.trim;o&&(__.set(a.width/o.width,0,0,a.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(__));const h=e.baseTexture,c=this.uClampFrame,d=this.clampMargin/h.resolution,p=this.clampOffset;return c[0]=(e._frame.x+d+p)/h.width,c[1]=(e._frame.y+d+p)/h.height,c[2]=(e._frame.x+e._frame.width-d+p)/h.width,c[3]=(e._frame.y+e._frame.height-d+p)/h.height,this.uClampOffset[0]=p/h.realWidth,this.uClampOffset[1]=p/h.realHeight,this.isSimple=e._frame.width===h.width&&e._frame.height===h.height&&e.rotate===0,!0}}var Rw=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Cw=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class Mw extends qe{constructor(t,e,r){let a=null;typeof t!="string"&&e===void 0&&r===void 0&&(a=t,t=void 0,e=void 0,r=void 0),super(t||Cw,e||Rw,r),this.maskSprite=a,this.maskMatrix=new le}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,e,r,a){const o=this._maskSprite,h=o._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new Vx(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,o).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,t.applyFilter(this,e,r,a))}}class Dw{constructor(t=null){this.type=Ce.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=qe.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ce.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class jx{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,e){let r=e;if(!r.isMaskData){const o=this.maskDataPool.pop()||new Dw;o.pooled=!0,o.maskObject=e,r=o}const a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(a),r._colorMask=a?a._colorMask:15,r.autoDetect&&this.detect(r),r._target=t,r.type!==Ce.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Ce.SCISSOR:this.renderer.scissor.push(r);break;case Ce.STENCIL:this.renderer.stencil.push(r);break;case Ce.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case Ce.COLOR:this.pushColorMask(r);break}r.type===Ce.SPRITE&&this.maskStack.push(r)}pop(t){const e=this.maskStack.pop();if(!(!e||e._target!==t)){if(e.enabled)switch(e.type){case Ce.SCISSOR:this.renderer.scissor.pop(e);break;case Ce.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Ce.SPRITE:this.popSpriteMask(e);break;case Ce.COLOR:this.popColorMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){const r=this.maskStack[this.maskStack.length-1];r.type===Ce.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(t){const e=t.maskObject;e?e.isSprite?t.type=Ce.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Ce.SCISSOR:t.type=Ce.STENCIL:t.type=Ce.COLOR}pushSpriteMask(t){const{maskObject:e}=t,r=t._target;let a=t._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new Mw])),a[0].resolution=t.resolution,a[0].multisample=t.multisample,a[0].maskSprite=e;const o=r.filterArea;r.filterArea=e.getBounds(!0),this.renderer.filter.push(r,a),r.filterArea=o,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const e=t._colorMask,r=t._colorMask=e&t.colorMask;r!==e&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(t){const e=t._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==e&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}}jx.extension={type:pt.RendererSystem,name:"mask"};Et.add(jx);class qx{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:e}=this.renderer,r=this.getStackLength();this.maskStack=t;const a=this.getStackLength();a!==r&&(a===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const x_=new le,b_=[],Yx=class xu extends qx{constructor(t){super(t),this.glConst=gt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:a}=this,o=a.renderTexture,h=r.getBounds(!0,b_.pop()??new Ut);this.roundFrameToPixels(h,o.current?o.current.resolution:a.resolution,o.sourceFrame,o.destinationFrame,a.projection.transform),e&&h.fit(e),t._scissorRectLocal=h}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:a,d:o}=t;return(Math.abs(r)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(o)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||xu.isMatrixRotated(e.worldTransform)||xu.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,a,o){xu.isMatrixRotated(o)||(o=o?x_.copyFrom(o):x_.identity(),o.translate(-r.x,-r.y).scale(a.width/r.width,a.height/r.height).translate(a.x,a.y),this.renderer.filter.transformAABB(o,t),t.fit(a),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&b_.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};Yx.extension={type:pt.RendererSystem,name:"scissor"};let Ow=Yx;Et.add(Ow);class $x extends qx{constructor(t){super(t),this.glConst=gt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const e=t.maskObject,{gl:r}=this.renderer,a=t._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),t._stencilCounter++;const o=t._colorMask;o!==0&&(t._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,a,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,o!==0&&(t._colorMask=o,r.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(t){const e=this.renderer.gl;if(this.getStackLength()===0)e.disable(e.STENCIL_TEST);else{const r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,a=r?r._colorMask:15;a!==0&&(r._colorMask=0,e.colorMask(!1,!1,!1,!1)),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,a!==0&&(r._colorMask=a,e.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}$x.extension={type:pt.RendererSystem,name:"stencil"};Et.add($x);class Wx{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Vt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return Vt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return Vt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const e in t)this.plugins[e]=new t[e](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}Wx.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"_plugin"};Et.add(Wx);class Zx{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new le,this.transform=null}update(t,e,r,a){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,a),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(t,e,r,a){const o=this.projectionMatrix,h=a?-1:1;o.identity(),o.a=1/e.width*2,o.d=h*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-h-e.y*o.d}setTransform(t){}destroy(){this.renderer=null}}Zx.extension={type:pt.RendererSystem,name:"projection"};Et.add(Zx);const Bw=new Fp,E_=new Ut;class Kx{constructor(t){this.renderer=t,this._tempMatrix=new le}generateTexture(t,e){const{region:r,...a}=e||{},o=r?.copyTo(E_)||t.getLocalBounds(E_,!0),h=a.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/h),o.height=Math.max(o.height,1/h),a.width=o.width,a.height=o.height,a.resolution=h,a.multisample??(a.multisample=this.renderer.multisample);const c=hs.create(a);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const d=t.transform;return t.transform=Bw,this.renderer.render(t,{renderTexture:c,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=d,c}destroy(){}}Kx.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"textureGenerator"};Et.add(Kx);const Wn=new Ut,gl=new Ut;class Qx{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ut,this.destinationFrame=new Ut,this.viewportFrame=new Ut}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,e,r){const a=this.renderer;this.current=t;let o,h,c;t?(o=t.baseTexture,c=o.resolution,e||(Wn.width=t.frame.width,Wn.height=t.frame.height,e=Wn),r||(gl.x=t.frame.x,gl.y=t.frame.y,gl.width=e.width,gl.height=e.height,r=gl),h=o.framebuffer):(c=a.resolution,e||(Wn.width=a._view.screen.width,Wn.height=a._view.screen.height,e=Wn),r||(r=Wn,r.width=e.width,r.height=e.height));const d=this.viewportFrame;d.x=r.x*c,d.y=r.y*c,d.width=r.width*c,d.height=r.height*c,t||(d.y=a.view.height-(d.y+d.height)),d.ceil(),this.renderer.framebuffer.bind(h,d),this.renderer.projection.update(r,e,c,!h),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)}clear(t,e){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,a=ae.shared.setValue(t||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&a.premultiply(a.alpha);const o=this.destinationFrame,h=this.current?this.current.baseTexture:this.renderer._view.screen,c=o.width!==h.width||o.height!==h.height;if(c){let{x:d,y:p,width:g,height:y}=this.viewportFrame;d=Math.round(d),p=Math.round(p),g=Math.round(g),y=Math.round(y),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(d,p,g,y)}this.renderer.framebuffer.clear(a.red,a.green,a.blue,a.alpha,e),c&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Qx.extension={type:pt.RendererSystem,name:"renderTexture"};Et.add(Qx);class Iw{constructor(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Nw(s,t){const e={},r=t.getProgramParameter(s,t.ACTIVE_ATTRIBUTES);for(let a=0;a<r;a++){const o=t.getActiveAttrib(s,a);if(o.name.startsWith("gl_"))continue;const h=Px(t,o.type),c={type:h,name:o.name,size:Nx(h),location:t.getAttribLocation(s,o.name)};e[o.name]=c}return e}function Pw(s,t){const e={},r=t.getProgramParameter(s,t.ACTIVE_UNIFORMS);for(let a=0;a<r;a++){const o=t.getActiveUniform(s,a),h=o.name.replace(/\[.*?\]$/,""),c=!!o.name.match(/\[.*?\]$/),d=Px(t,o.type);e[h]={name:h,index:a,type:d,size:o.size,isArray:c,value:Bx(d,o.size)}}return e}function Uw(s,t){const e=d_(s,s.VERTEX_SHADER,t.vertexSrc),r=d_(s,s.FRAGMENT_SHADER,t.fragmentSrc),a=s.createProgram();s.attachShader(a,e),s.attachShader(a,r);const o=t.extra?.transformFeedbackVaryings;if(o&&(typeof s.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):s.transformFeedbackVaryings(a,o.names,o.bufferMode==="separate"?s.SEPARATE_ATTRIBS:s.INTERLEAVED_ATTRIBS)),s.linkProgram(a),s.getProgramParameter(a,s.LINK_STATUS)||cw(s,a,e,r),t.attributeData=Nw(a,s),t.uniformData=Pw(a,s),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const c=Object.keys(t.attributeData);c.sort((d,p)=>d>p?1:-1);for(let d=0;d<c.length;d++)t.attributeData[c[d]].location=d,s.bindAttribLocation(a,d,c[d]);s.linkProgram(a)}s.deleteShader(e),s.deleteShader(r);const h={};for(const c in t.uniformData){const d=t.uniformData[c];h[c]={location:s.getUniformLocation(a,c),value:Bx(d.type,d.size)}}return new Iw(a,h)}function Lw(s,t,e,r,a){e.buffer.update(a)}const Fw={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Jx={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Gw(s){const t=s.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let e=0,r=0,a=0;for(let o=0;o<t.length;o++){const h=t[o];if(e=Jx[h.data.type],h.data.size>1&&(e=Math.max(e,16)*h.data.size),h.dataLen=e,r%e!==0&&r<16){const c=r%e%16;r+=c,a+=c}r+e>16?(a=Math.ceil(a/16)*16,h.offset=a,a+=e,r=e):(h.offset=a,r+=e,a+=e)}return a=Math.ceil(a/16)*16,{uboElements:t,size:a}}function kw(s,t){const e=[];for(const r in s)t[r]&&e.push(t[r]);return e.sort((r,a)=>r.index-a.index),e}function Hw(s,t){if(!s.autoManage)return{size:0,syncFunc:Lw};const e=kw(s.uniforms,t),{uboElements:r,size:a}=Gw(e),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let h=0;h<r.length;h++){const c=r[h],d=s.uniforms[c.data.name],p=c.data.name;let g=!1;for(let y=0;y<na.length;y++){const v=na[y];if(v.codeUbo&&v.test(c.data,d)){o.push(`offset = ${c.offset/4};`,na[y].codeUbo(c.data.name,d)),g=!0;break}}if(!g)if(c.data.size>1){const y=Nx(c.data.type),v=Math.max(Jx[c.data.type]/16,1),_=y/v,x=(4-_%4)%4;o.push(`
                cv = ud.${p}.value;
                v = uv.${p};
                offset = ${c.offset/4};

                t = 0;

                for(var i=0; i < ${c.data.size*v}; i++)
                {
                    for(var j = 0; j < ${_}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const y=Fw[c.data.type];o.push(`
                cv = ud.${p}.value;
                v = uv.${p};
                offset = ${c.offset/4};
                ${y};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let zw=0;const au={textureCount:0,uboCount:0};class tb{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=zw++}systemCheck(){if(!dw())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,e){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const r=t.program,a=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(a.program)),e||(au.textureCount=0,au.uboCount=0,this.syncUniformGroup(t.uniformGroup,au)),a}setUniforms(t){const e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)}syncUniformGroup(t,e){const r=this.getGlProgram();(!t.static||t.dirtyId!==r.uniformDirtyGroups[t.id])&&(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))}syncUniforms(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)}createSyncGroups(t){const e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=ow(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,e){const r=this.getGlProgram();if(!t.static||t.dirtyId!==0||!r.uniformGroups[t.id]){t.dirtyId=0;const a=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,e);t.buffer.update(),a(r.uniformData,t.uniforms,this.renderer,au,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[e])}createSyncBufferGroup(t,e,r){const{gl:a}=this.renderer;this.renderer.buffer.bind(t.buffer);const o=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,a.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const h=this.getSignature(t,this.shader.program.uniformData,"ubo");let c=this._uboCache[h];if(c||(c=this._uboCache[h]=Hw(t,this.shader.program.uniformData)),t.autoManage){const d=new Float32Array(c.size/4);t.buffer.update(d)}return e.uniformGroups[t.id]=c.syncFunc,e.uniformGroups[t.id]}getSignature(t,e,r){const a=t.uniforms,o=[`${r}-`];for(const h in a)o.push(h),e[h]&&o.push(e[h].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const e=this.gl,r=t.program,a=Uw(e,r);return r.glPrograms[this.renderer.CONTEXT_UID]=a,a}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}tb.extension={type:pt.RendererSystem,name:"shader"};Et.add(tb);class Nu{constructor(t){this.renderer=t}run(t){const{renderer:e}=this;e.runners.init.emit(e.options),t.hello&&console.log(`PixiJS 7.4.3 - ${e.rendererLogId} - https://pixijs.com`),e.resize(e.screen.width,e.screen.height)}destroy(){}}Nu.defaultOptions={hello:!1},Nu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"startup"};Et.add(Nu);function Xw(s,t=[]){return t[Dt.NORMAL]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.ADD]=[s.ONE,s.ONE],t[Dt.MULTIPLY]=[s.DST_COLOR,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.SCREEN]=[s.ONE,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.OVERLAY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.DARKEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.LIGHTEN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.COLOR_DODGE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.COLOR_BURN]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.HARD_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.SOFT_LIGHT]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.DIFFERENCE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.EXCLUSION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.HUE]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.SATURATION]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.COLOR]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.LUMINOSITY]=[s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.NONE]=[0,0],t[Dt.NORMAL_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_ALPHA,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.ADD_NPM]=[s.SRC_ALPHA,s.ONE,s.ONE,s.ONE],t[Dt.SCREEN_NPM]=[s.SRC_ALPHA,s.ONE_MINUS_SRC_COLOR,s.ONE,s.ONE_MINUS_SRC_ALPHA],t[Dt.SRC_IN]=[s.DST_ALPHA,s.ZERO],t[Dt.SRC_OUT]=[s.ONE_MINUS_DST_ALPHA,s.ZERO],t[Dt.SRC_ATOP]=[s.DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[Dt.DST_OVER]=[s.ONE_MINUS_DST_ALPHA,s.ONE],t[Dt.DST_IN]=[s.ZERO,s.SRC_ALPHA],t[Dt.DST_OUT]=[s.ZERO,s.ONE_MINUS_SRC_ALPHA],t[Dt.DST_ATOP]=[s.ONE_MINUS_DST_ALPHA,s.SRC_ALPHA],t[Dt.XOR]=[s.ONE_MINUS_DST_ALPHA,s.ONE_MINUS_SRC_ALPHA],t[Dt.SUBTRACT]=[s.ONE,s.ONE,s.ONE,s.ONE,s.FUNC_REVERSE_SUBTRACT,s.FUNC_ADD],t}const Vw=0,jw=1,qw=2,Yw=3,$w=4,Ww=5,eb=class np{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Dt.NONE,this._blendEq=!1,this.map=[],this.map[Vw]=this.setBlend,this.map[jw]=this.setOffset,this.map[qw]=this.setCullFace,this.map[Yw]=this.setDepthTest,this.map[$w]=this.setFrontFace,this.map[Ww]=this.setDepthMask,this.checks=[],this.defaultState=new ar,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=Xw(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(np.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(np.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};eb.extension={type:pt.RendererSystem,name:"state"};let Zw=eb;Et.add(Zw);class Kw extends Bl{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const e=(t.priority??[]).filter(a=>t.systems[a]),r=[...e,...Object.keys(t.systems).filter(a=>!e.includes(a))];for(const a of r)this.addSystem(t.systems[a],a)}addRunners(...t){t.forEach(e=>{this.runners[e]=new Pi(e)})}addSystem(t,e){const r=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=r,this._systemsHash[e]=r;for(const a in this.runners)this.runners[a].add(r);return this}emitWithCustomOptions(t,e){const r=Object.keys(this._systemsHash);t.items.forEach(a=>{const o=r.find(h=>this._systemsHash[h]===a);a[t.name](e[o])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const bl=class bu{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=bu.defaultMaxIdle,this.checkCountMax=bu.defaultCheckCountMax,this.mode=bu.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Np.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let a=0;a<e.length;a++){const o=e[a];o.resource&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[a]=null,r=!0)}if(r){let a=0;for(let o=0;o<e.length;o++)e[o]!==null&&(e[a++]=e[o]);e.length=a}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let a=t.children.length-1;a>=0;a--)this.unload(t.children[a])}destroy(){this.renderer=null}};bl.defaultMode=Np.AUTO,bl.defaultMaxIdle=60*60,bl.defaultCheckCountMax=60*10,bl.extension={type:pt.RendererSystem,name:"textureGC"};let is=bl;Et.add(is);class wd{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Rt.UNSIGNED_BYTE,this.internalFormat=ht.RGBA,this.samplerType=0}}function Qw(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[s.RGB]:mt.FLOAT,[s.RGBA]:mt.FLOAT,[s.ALPHA]:mt.FLOAT,[s.LUMINANCE]:mt.FLOAT,[s.LUMINANCE_ALPHA]:mt.FLOAT,[s.R8]:mt.FLOAT,[s.R8_SNORM]:mt.FLOAT,[s.RG8]:mt.FLOAT,[s.RG8_SNORM]:mt.FLOAT,[s.RGB8]:mt.FLOAT,[s.RGB8_SNORM]:mt.FLOAT,[s.RGB565]:mt.FLOAT,[s.RGBA4]:mt.FLOAT,[s.RGB5_A1]:mt.FLOAT,[s.RGBA8]:mt.FLOAT,[s.RGBA8_SNORM]:mt.FLOAT,[s.RGB10_A2]:mt.FLOAT,[s.RGB10_A2UI]:mt.FLOAT,[s.SRGB8]:mt.FLOAT,[s.SRGB8_ALPHA8]:mt.FLOAT,[s.R16F]:mt.FLOAT,[s.RG16F]:mt.FLOAT,[s.RGB16F]:mt.FLOAT,[s.RGBA16F]:mt.FLOAT,[s.R32F]:mt.FLOAT,[s.RG32F]:mt.FLOAT,[s.RGB32F]:mt.FLOAT,[s.RGBA32F]:mt.FLOAT,[s.R11F_G11F_B10F]:mt.FLOAT,[s.RGB9_E5]:mt.FLOAT,[s.R8I]:mt.INT,[s.R8UI]:mt.UINT,[s.R16I]:mt.INT,[s.R16UI]:mt.UINT,[s.R32I]:mt.INT,[s.R32UI]:mt.UINT,[s.RG8I]:mt.INT,[s.RG8UI]:mt.UINT,[s.RG16I]:mt.INT,[s.RG16UI]:mt.UINT,[s.RG32I]:mt.INT,[s.RG32UI]:mt.UINT,[s.RGB8I]:mt.INT,[s.RGB8UI]:mt.UINT,[s.RGB16I]:mt.INT,[s.RGB16UI]:mt.UINT,[s.RGB32I]:mt.INT,[s.RGB32UI]:mt.UINT,[s.RGBA8I]:mt.INT,[s.RGBA8UI]:mt.UINT,[s.RGBA16I]:mt.INT,[s.RGBA16UI]:mt.UINT,[s.RGBA32I]:mt.INT,[s.RGBA32UI]:mt.UINT,[s.DEPTH_COMPONENT16]:mt.FLOAT,[s.DEPTH_COMPONENT24]:mt.FLOAT,[s.DEPTH_COMPONENT32F]:mt.FLOAT,[s.DEPTH_STENCIL]:mt.FLOAT,[s.DEPTH24_STENCIL8]:mt.FLOAT,[s.DEPTH32F_STENCIL8]:mt.FLOAT}:t={[s.RGB]:mt.FLOAT,[s.RGBA]:mt.FLOAT,[s.ALPHA]:mt.FLOAT,[s.LUMINANCE]:mt.FLOAT,[s.LUMINANCE_ALPHA]:mt.FLOAT,[s.DEPTH_STENCIL]:mt.FLOAT},t}function Jw(s){let t;return"WebGL2RenderingContext"in globalThis&&s instanceof globalThis.WebGL2RenderingContext?t={[Rt.UNSIGNED_BYTE]:{[ht.RGBA]:s.RGBA8,[ht.RGB]:s.RGB8,[ht.RG]:s.RG8,[ht.RED]:s.R8,[ht.RGBA_INTEGER]:s.RGBA8UI,[ht.RGB_INTEGER]:s.RGB8UI,[ht.RG_INTEGER]:s.RG8UI,[ht.RED_INTEGER]:s.R8UI,[ht.ALPHA]:s.ALPHA,[ht.LUMINANCE]:s.LUMINANCE,[ht.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[Rt.BYTE]:{[ht.RGBA]:s.RGBA8_SNORM,[ht.RGB]:s.RGB8_SNORM,[ht.RG]:s.RG8_SNORM,[ht.RED]:s.R8_SNORM,[ht.RGBA_INTEGER]:s.RGBA8I,[ht.RGB_INTEGER]:s.RGB8I,[ht.RG_INTEGER]:s.RG8I,[ht.RED_INTEGER]:s.R8I},[Rt.UNSIGNED_SHORT]:{[ht.RGBA_INTEGER]:s.RGBA16UI,[ht.RGB_INTEGER]:s.RGB16UI,[ht.RG_INTEGER]:s.RG16UI,[ht.RED_INTEGER]:s.R16UI,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT16},[Rt.SHORT]:{[ht.RGBA_INTEGER]:s.RGBA16I,[ht.RGB_INTEGER]:s.RGB16I,[ht.RG_INTEGER]:s.RG16I,[ht.RED_INTEGER]:s.R16I},[Rt.UNSIGNED_INT]:{[ht.RGBA_INTEGER]:s.RGBA32UI,[ht.RGB_INTEGER]:s.RGB32UI,[ht.RG_INTEGER]:s.RG32UI,[ht.RED_INTEGER]:s.R32UI,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT24},[Rt.INT]:{[ht.RGBA_INTEGER]:s.RGBA32I,[ht.RGB_INTEGER]:s.RGB32I,[ht.RG_INTEGER]:s.RG32I,[ht.RED_INTEGER]:s.R32I},[Rt.FLOAT]:{[ht.RGBA]:s.RGBA32F,[ht.RGB]:s.RGB32F,[ht.RG]:s.RG32F,[ht.RED]:s.R32F,[ht.DEPTH_COMPONENT]:s.DEPTH_COMPONENT32F},[Rt.HALF_FLOAT]:{[ht.RGBA]:s.RGBA16F,[ht.RGB]:s.RGB16F,[ht.RG]:s.RG16F,[ht.RED]:s.R16F},[Rt.UNSIGNED_SHORT_5_6_5]:{[ht.RGB]:s.RGB565},[Rt.UNSIGNED_SHORT_4_4_4_4]:{[ht.RGBA]:s.RGBA4},[Rt.UNSIGNED_SHORT_5_5_5_1]:{[ht.RGBA]:s.RGB5_A1},[Rt.UNSIGNED_INT_2_10_10_10_REV]:{[ht.RGBA]:s.RGB10_A2,[ht.RGBA_INTEGER]:s.RGB10_A2UI},[Rt.UNSIGNED_INT_10F_11F_11F_REV]:{[ht.RGB]:s.R11F_G11F_B10F},[Rt.UNSIGNED_INT_5_9_9_9_REV]:{[ht.RGB]:s.RGB9_E5},[Rt.UNSIGNED_INT_24_8]:{[ht.DEPTH_STENCIL]:s.DEPTH24_STENCIL8},[Rt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ht.DEPTH_STENCIL]:s.DEPTH32F_STENCIL8}}:t={[Rt.UNSIGNED_BYTE]:{[ht.RGBA]:s.RGBA,[ht.RGB]:s.RGB,[ht.ALPHA]:s.ALPHA,[ht.LUMINANCE]:s.LUMINANCE,[ht.LUMINANCE_ALPHA]:s.LUMINANCE_ALPHA},[Rt.UNSIGNED_SHORT_5_6_5]:{[ht.RGB]:s.RGB},[Rt.UNSIGNED_SHORT_4_4_4_4]:{[ht.RGBA]:s.RGBA},[Rt.UNSIGNED_SHORT_5_5_5_1]:{[ht.RGBA]:s.RGBA}},t}class ib{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Nt,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Jw(t),this.samplerTypes=Qw(t);const e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(let a=0;a<e;a++)this.boundTextures[a]=null;this.emptyTextures={};const r=new wd(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new wd(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let a=0;a<6;a++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let a=0;a<this.boundTextures.length;a++)this.bind(null,a)}bind(t,e=0){const{gl:r}=this;if(t=t?.castToBaseTexture(),t?.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const a=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,a.texture)),a.dirtyId!==t.dirtyId?(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)):a.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:e,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let a=0;a<r.length;a++)r[a]===this.unknownTexture&&this.bind(null,a)}for(let a=0;a<r.length;a++)r[a]===t&&(this.currentLocation!==a&&(e.activeTexture(e.TEXTURE0+a),this.currentLocation=a),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[a]=null)}ensureSamplerType(t){const{boundTextures:e,hasIntegerTextures:r,CONTEXT_UID:a}=this;if(r)for(let o=t-1;o>=0;--o){const h=e[o];h&&h._glTextures[a].samplerType!==mt.FLOAT&&this.renderer.texture.unbind(h)}}initTexture(t){const e=new wd(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e}initTextureType(t,e){e.internalFormat=this.internalFormats[t.type]?.[t.format]??t.format,e.samplerType=this.samplerTypes[e.internalFormat]??mt.FLOAT,this.webGLVersion===2&&t.type===Rt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type}updateTexture(t){const e=t._glTextures[this.CONTEXT_UID];if(!e)return;const r=this.renderer;if(this.initTextureType(t,e),t.resource?.upload(r,t,e))e.samplerType!==mt.FLOAT&&(this.hasIntegerTextures=!0);else{const a=t.realWidth,o=t.realHeight,h=r.gl;(e.width!==a||e.height!==o||e.dirtyId<0)&&(e.width=a,e.height=o,h.texImage2D(t.target,0,e.internalFormat,a,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}destroyTexture(t,e){const{gl:r}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){const a=this.managedTextures.indexOf(t);a!==-1&&ra(this.managedTextures,a,1)}}updateTextureStyle(t){const e=t._glTextures[this.CONTEXT_UID];e&&((t.mipmap===nr.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?e.mipmap=!1:e.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?e.wrapMode=An.CLAMP:e.wrapMode=t.wrapMode,t.resource?.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)}setStyle(t,e){const r=this.gl;if(e.mipmap&&t.mipmap!==nr.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===Or.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const a=this.renderer.context.extensions.anisotropicFiltering;if(a&&t.anisotropicLevel>0&&t.scaleMode===Or.LINEAR){const o=Math.min(t.anisotropicLevel,r.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,a.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===Or.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===Or.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}ib.extension={type:pt.RendererSystem,name:"texture"};Et.add(ib);class rb{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:r}=this,a=t._glTransformFeedbacks[r]||this.createGLTransformFeedback(t);e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,a)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,e){const{gl:r,renderer:a}=this;e&&a.shader.bind(e),r.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:e,renderer:r,CONTEXT_UID:a}=this,o=e.createTransformFeedback();t._glTransformFeedbacks[a]=o,e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,o);for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];c&&(r.buffer.update(c),c._glBuffers[a].refCount++,e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,h,c._glBuffers[a].buffer||null))}return e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),o}disposeTransformFeedback(t,e){const r=t._glTransformFeedbacks[this.CONTEXT_UID],a=this.gl;t.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let h=0;h<t.buffers.length;h++){const c=t.buffers[h];if(!c)continue;const d=c._glBuffers[this.CONTEXT_UID];d&&(d.refCount--,d.refCount===0&&!e&&o.dispose(c,e))}r&&(e||a.deleteTransformFeedback(r),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}rb.extension={type:pt.RendererSystem,name:"transformFeedback"};Et.add(rb);class Pu{constructor(t){this.renderer=t}init(t){this.screen=new Ut(0,0,t.width,t.height),this.element=t.view||gt.ADAPTER.createCanvas(),this.resolution=t.resolution||gt.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,e){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(e*this.resolution);const r=this.element.width/this.resolution,a=this.element.height/this.resolution;this.screen.width=r,this.screen.height=a,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${a}px`),this.renderer.emit("resize",r,a),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){t&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}Pu.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Pu.extension={type:[pt.RendererSystem,pt.CanvasRendererSystem],name:"_view"};Et.add(Pu);gt.PREFER_ENV=us.WEBGL2;gt.STRICT_TEXTURE_CACHE=!1;gt.RENDER_OPTIONS={...Iu.defaultOptions,...Bu.defaultOptions,...Pu.defaultOptions,...Nu.defaultOptions};Object.defineProperties(gt,{WRAP_MODE:{get(){return Nt.defaultOptions.wrapMode},set(s){Vt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Nt.defaultOptions.wrapMode=s}},SCALE_MODE:{get(){return Nt.defaultOptions.scaleMode},set(s){Vt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Nt.defaultOptions.scaleMode=s}},MIPMAP_TEXTURES:{get(){return Nt.defaultOptions.mipmap},set(s){Vt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Nt.defaultOptions.mipmap=s}},ANISOTROPIC_LEVEL:{get(){return Nt.defaultOptions.anisotropicLevel},set(s){Vt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Nt.defaultOptions.anisotropicLevel=s}},FILTER_RESOLUTION:{get(){return Vt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),qe.defaultResolution},set(s){qe.defaultResolution=s}},FILTER_MULTISAMPLE:{get(){return Vt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),qe.defaultMultisample},set(s){qe.defaultMultisample=s}},SPRITE_MAX_TEXTURES:{get(){return es.defaultMaxTextures},set(s){Vt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),es.defaultMaxTextures=s}},SPRITE_BATCH_SIZE:{get(){return es.defaultBatchSize},set(s){Vt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),es.defaultBatchSize=s}},CAN_UPLOAD_SAME_BUFFER:{get(){return es.canUploadSameBuffer},set(s){Vt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),es.canUploadSameBuffer=s}},GC_MODE:{get(){return is.defaultMode},set(s){Vt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),is.defaultMode=s}},GC_MAX_IDLE:{get(){return is.defaultMaxIdle},set(s){Vt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),is.defaultMaxIdle=s}},GC_MAX_CHECK_COUNT:{get(){return is.defaultCheckCountMax},set(s){Vt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),is.defaultCheckCountMax=s}},PRECISION_VERTEX:{get(){return Nr.defaultVertexPrecision},set(s){Vt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Nr.defaultVertexPrecision=s}},PRECISION_FRAGMENT:{get(){return Nr.defaultFragmentPrecision},set(s){Vt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Nr.defaultFragmentPrecision=s}}});var ls=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(ls||{});class Rd{constructor(t,e=null,r=0,a=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=a}match(t,e=null){return this.fn===t&&this.context===e}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const nb=class li{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Rd(null,null,1/0),this.deltaMS=1/li.targetFPMS,this.elapsedMS=1/li.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=ls.NORMAL){return this._addListener(new Rd(t,e,r))}addOnce(t,e,r=ls.NORMAL){return this._addListener(new Rd(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const o=t-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=t-o%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*li.targetFPMS;const r=this._head;let a=r.next;for(;a;)a=a.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,li.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!li._shared){const t=li._shared=new li;t.autoStart=!0,t._protected=!0}return li._shared}static get system(){if(!li._system){const t=li._system=new li;t.autoStart=!0,t._protected=!0}return li._system}};nb.targetFPMS=.06;let oi=nb;Object.defineProperties(gt,{TARGET_FPMS:{get(){return oi.targetFPMS},set(s){Vt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),oi.targetFPMS=s}}});class sb{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,ls.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?oi.shared:new oi,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}sb.extension=pt.Application;Et.add(sb);const ab=[];Et.handleByList(pt.Renderer,ab);function tR(s){for(const t of ab)if(t.test(s))return new t(s);throw new Error("Unable to auto-detect a suitable renderer.")}var eR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iR=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const rR=eR,lb=iR;class ob{constructor(t){this.renderer=t}contextChange(t){let e;if(this.renderer.context.webGLVersion===1){const r=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,r)}else{const r=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,r)}e>=Te.HIGH?this.multisample=Te.HIGH:e>=Te.MEDIUM?this.multisample=Te.MEDIUM:e>=Te.LOW?this.multisample=Te.LOW:this.multisample=Te.NONE}destroy(){}}ob.extension={type:pt.RendererSystem,name:"_multisample"};Et.add(ob);class nR{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class ub{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:e,CONTEXT_UID:r}=this,a=t._glBuffers[r]||this.createGLBuffer(t);e.bindBuffer(t.type,a.buffer)}unbind(t){const{gl:e}=this;e.bindBuffer(t,null)}bindBufferBase(t,e){const{gl:r,CONTEXT_UID:a}=this;if(this.boundBufferBases[e]!==t){const o=t._glBuffers[a]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,o.buffer)}}bindBufferRange(t,e,r){const{gl:a,CONTEXT_UID:o}=this;r=r||0;const h=t._glBuffers[o]||this.createGLBuffer(t);a.bindBufferRange(a.UNIFORM_BUFFER,e||0,h.buffer,r*256,256)}update(t){const{gl:e,CONTEXT_UID:r}=this,a=t._glBuffers[r]||this.createGLBuffer(t);if(t._updateID!==a.updateID)if(a.updateID=t._updateID,e.bindBuffer(t.type,a.buffer),a.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{const o=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;a.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,o)}}dispose(t,e){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const r=t._glBuffers[this.CONTEXT_UID],a=this.gl;t.disposeRunner.remove(this),r&&(e||a.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const e=Object.keys(this.managedBuffers);for(let r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],t)}createGLBuffer(t){const{CONTEXT_UID:e,gl:r}=this;return t._glBuffers[e]=new nR(r.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]}}ub.extension={type:pt.RendererSystem,name:"buffer"};Et.add(ub);class hb{constructor(t){this.renderer=t}render(t,e){const r=this.renderer;let a,o,h,c;if(e&&(a=e.renderTexture,o=e.clear,h=e.transform,c=e.skipUpdateTransform),this.renderingToScreen=!a,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=h,!r.context.isLost){if(a||(this.lastObjectRendered=t),!c){const d=t.enableTempParent();t.updateTransform(),t.disableTempParent(d)}r.renderTexture.bind(a),r.batch.currentRenderer.start(),(o??r.background.clearBeforeRender)&&r.renderTexture.clear(),t.render(r),r.batch.currentRenderer.flush(),a&&(e.blit&&r.framebuffer.blit(),a.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}hb.extension={type:pt.RendererSystem,name:"objectRenderer"};Et.add(hb);const Eu=class sp extends Kw{constructor(t){super(),this.type=dx.WEBGL,t=Object.assign({},gt.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Ui({projectionMatrix:new le},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:sp.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Vt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=sp.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t?.forceCanvas?!1:RA()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Vt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Vt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Vt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Vt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Vt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Vt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Vt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Vt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};Eu.extension={type:pt.Renderer,priority:1},Eu.__plugins={},Eu.__systems={};let kp=Eu;Et.handleByMap(pt.RendererPlugin,kp.__plugins);Et.handleByMap(pt.RendererSystem,kp.__systems);Et.add(kp);class cb extends Cl{constructor(t,e){const{width:r,height:a}=e||{};super(r,a),this.items=[],this.itemDirtyIds=[];for(let o=0;o<t;o++){const h=new Nt;this.items.push(h),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,e){for(let r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof Cl?this.addResourceAt(t[r],r):this.addResourceAt(Mx(t[r],e),r))}dispose(){for(let t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,e){if(!this.items[e])throw new Error(`Index ${e} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)}unbind(t){super.unbind(t);for(let e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(t).then(()=>{const{realWidth:e,realHeight:r}=this.items[0];return this.resize(e,r),this.update(),Promise.resolve(this)}),this._load}}class sR extends cb{constructor(t,e){const{width:r,height:a}=e||{};let o,h;Array.isArray(t)?(o=t,h=t.length):h=t,super(h,{width:r,height:a}),o&&this.initFromArray(o,e)}addBaseTextureAt(t,e){if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=ia.TEXTURE_2D_ARRAY}upload(t,e,r){const{length:a,itemDirtyIds:o,items:h}=this,{gl:c}=t;r.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,a,0,e.format,r.type,null);for(let d=0;d<a;d++){const p=h[d];o[d]<p.dirtyId&&(o[d]=p.dirtyId,p.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,d,p.resource.width,p.resource.height,1,e.format,r.type,p.resource.source))}return!0}}class aR extends Fr{constructor(t){super(t)}static test(t){const{OffscreenCanvas:e}=globalThis;return e&&t instanceof e?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const fb=class El extends cb{constructor(t,e){const{width:r,height:a,autoLoad:o,linkBaseTexture:h}=e||{};if(t&&t.length!==El.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:a});for(let c=0;c<El.SIDES;c++)this.items[c].target=ia.TEXTURE_CUBE_MAP_POSITIVE_X+c;this.linkBaseTexture=h!==!1,t&&this.initFromArray(t,e),o!==!1&&this.load()}bind(t){super.bind(t),t.target=ia.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=ia.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const a=this.itemDirtyIds;for(let o=0;o<El.SIDES;o++){const h=this.items[o];(a[o]<h.dirtyId||r.dirtyId<e.dirtyId)&&(h.valid&&h.resource?(h.resource.upload(t,h,r),a[o]=h.dirtyId):a[o]<-1&&(t.gl.texImage2D(h.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),a[o]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===El.SIDES}};fb.SIDES=6;let lR=fb;class ta extends Fr{constructor(t,e){e=e||{};let r,a,o;typeof t=="string"?(r=ta.EMPTY,a=t,o=!0):(r=t,a=null,o=!1),super(r),this.url=a,this.crossOrigin=e.crossOrigin??!0,this.alphaMode=typeof e.alphaMode=="number"?e.alphaMode:null,this.ownsImageBitmap=e.ownsImageBitmap??o,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,e)=>{if(this.url===null){t(this);return}try{const r=await gt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const a=await r.blob();if(this.destroyed)return;const o=await createImageBitmap(a,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Je.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),t(this)}catch(r){if(this.destroyed)return;e(r),this.onError.emit(r)}}),this._load)}upload(t,e,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(e.alphaMode=this.alphaMode),super.upload(t,e,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return ta._EMPTY=ta._EMPTY??gt.ADAPTER.createCanvas(0,0),ta._EMPTY}}const ap=class Tu extends Fr{constructor(t,e){e=e||{},super(gt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},Tu.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Fr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let a=e*this.scale,o=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(a=this._overrideWidth||this._overrideHeight/r*e,o=this._overrideHeight||this._overrideWidth/e*r),a=Math.round(a),o=Math.round(o);const h=this.source;h.width=a,h.height=o,h._pixiId=`canvas_${as()}`,h.getContext("2d").drawImage(t,0,0,e,r,0,0,a,o),this._resolve(),this._resolve=null}}static getSize(t){const e=Tu.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Tu.SVG_XML.test(t)}};ap.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,ap.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let lp=ap;class oR extends Fr{constructor(t){super(t)}static test(t){return!!globalThis.VideoFrame&&t instanceof globalThis.VideoFrame}}const op=class up extends Fr{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");e.autoLoad!==!1&&r.setAttribute("preload","auto"),e.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),e.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),e.loop===!0&&r.setAttribute("loop",""),e.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const a=t[0].src||t[0];Fr.crossOrigin(r,a,e.crossorigin);for(let o=0;o<t.length;++o){const h=document.createElement("source");let{src:c,mime:d}=t[o];if(c=c||t[o],c.startsWith("data:"))d=c.slice(5,c.indexOf(";"));else if(!c.startsWith("blob:")){const p=c.split("?").shift().toLowerCase(),g=p.slice(p.lastIndexOf(".")+1);d=d||up.MIME_TYPES[g]||`video/${g}`}h.src=c,d&&(h.type=d),r.appendChild(h)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const e=oi.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((e,r)=>{this.valid?e(this):(this._resolve=e,this._reject=r,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!e&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(oi.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(oi.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(oi.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||up.TYPES.includes(e)}};op.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],op.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let db=op;Wd.push(ta,Fx,aR,db,oR,lp,Yu,lR,sR);class Uu{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?Ut.EMPTY:(t=t||new Ut(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,e){const{a:r,b:a,c:o,d:h,tx:c,ty:d}=t,p=r*e.x+o*e.y+c,g=a*e.x+h*e.y+d;this.minX=Math.min(this.minX,p),this.maxX=Math.max(this.maxX,p),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)}addQuad(t){let e=this.minX,r=this.minY,a=this.maxX,o=this.maxY,h=t[0],c=t[1];e=h<e?h:e,r=c<r?c:r,a=h>a?h:a,o=c>o?c:o,h=t[2],c=t[3],e=h<e?h:e,r=c<r?c:r,a=h>a?h:a,o=c>o?c:o,h=t[4],c=t[5],e=h<e?h:e,r=c<r?c:r,a=h>a?h:a,o=c>o?c:o,h=t[6],c=t[7],e=h<e?h:e,r=c<r?c:r,a=h>a?h:a,o=c>o?c:o,this.minX=e,this.minY=r,this.maxX=a,this.maxY=o}addFrame(t,e,r,a,o){this.addFrameMatrix(t.worldTransform,e,r,a,o)}addFrameMatrix(t,e,r,a,o){const h=t.a,c=t.b,d=t.c,p=t.d,g=t.tx,y=t.ty;let v=this.minX,_=this.minY,x=this.maxX,A=this.maxY,S=h*e+d*r+g,T=c*e+p*r+y;v=S<v?S:v,_=T<_?T:_,x=S>x?S:x,A=T>A?T:A,S=h*a+d*r+g,T=c*a+p*r+y,v=S<v?S:v,_=T<_?T:_,x=S>x?S:x,A=T>A?T:A,S=h*e+d*o+g,T=c*e+p*o+y,v=S<v?S:v,_=T<_?T:_,x=S>x?S:x,A=T>A?T:A,S=h*a+d*o+g,T=c*a+p*o+y,v=S<v?S:v,_=T<_?T:_,x=S>x?S:x,A=T>A?T:A,this.minX=v,this.minY=_,this.maxX=x,this.maxY=A}addVertexData(t,e,r){let a=this.minX,o=this.minY,h=this.maxX,c=this.maxY;for(let d=e;d<r;d+=2){const p=t[d],g=t[d+1];a=p<a?p:a,o=g<o?g:o,h=p>h?p:h,c=g>c?g:c}this.minX=a,this.minY=o,this.maxX=h,this.maxY=c}addVertices(t,e,r,a){this.addVerticesMatrix(t.worldTransform,e,r,a)}addVerticesMatrix(t,e,r,a,o=0,h=o){const c=t.a,d=t.b,p=t.c,g=t.d,y=t.tx,v=t.ty;let _=this.minX,x=this.minY,A=this.maxX,S=this.maxY;for(let T=r;T<a;T+=2){const I=e[T],B=e[T+1],P=c*I+p*B+y,R=g*B+d*I+v;_=Math.min(_,P-o),A=Math.max(A,P+o),x=Math.min(x,R-h),S=Math.max(S,R+h)}this.minX=_,this.minY=x,this.maxX=A,this.maxY=S}addBounds(t){const e=this.minX,r=this.minY,a=this.maxX,o=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>a?t.maxX:a,this.maxY=t.maxY>o?t.maxY:o}addBoundsMask(t,e){const r=t.minX>e.minX?t.minX:e.minX,a=t.minY>e.minY?t.minY:e.minY,o=t.maxX<e.maxX?t.maxX:e.maxX,h=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=o&&a<=h){const c=this.minX,d=this.minY,p=this.maxX,g=this.maxY;this.minX=r<c?r:c,this.minY=a<d?a:d,this.maxX=o>p?o:p,this.maxY=h>g?h:g}}addBoundsMatrix(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,e){const r=t.minX>e.x?t.minX:e.x,a=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,h=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=o&&a<=h){const c=this.minX,d=this.minY,p=this.maxX,g=this.maxY;this.minX=r<c?r:c,this.minY=a<d?a:d,this.maxX=o>p?o:p,this.maxY=h>g?h:g}}pad(t=0,e=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)}addFramePad(t,e,r,a,o,h){t-=o,e-=h,r+=o,a+=h,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>a?this.maxY:a}}class fe extends Bl{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Fp,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Uu,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const e=Object.keys(t);for(let r=0;r<e.length;++r){const a=e[r];Object.defineProperty(fe.prototype,a,Object.getOwnPropertyDescriptor(t,a))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Ut),e=this._boundsRect),this._bounds.getRectangle(e)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new Ut),t=this._localBoundsRect),this._localBounds||(this._localBounds=new Uu);const e=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=r?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const a=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const h=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=a,this._bounds.updateID+=this._boundsID-o,h}toGlobal(t,e,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)}toLocal(t,e,r,a){return e&&(t=e.toGlobal(t,r,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){this.parent?.removeChild(this)}setTransform(t=0,e=0,r=1,a=1,o=0,h=0,c=0,d=0,p=0){return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=a||1,this.rotation=o,this.skew.x=h,this.skew.y=c,this.pivot.x=d,this.pivot.y=p,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new uR),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*ew}set angle(t){this.transform.rotation=t*iw}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,e._maskRefCount===0&&(e.renderable=!0,e.isMask=!1))}if(this._mask=t,this._mask){const e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount===0&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class uR extends fe{constructor(){super(...arguments),this.sortDirty=null}}fe.prototype.displayObjectUpdateTransform=fe.prototype.updateTransform;const hR=new le;function cR(s,t){return s.zIndex===t.zIndex?s._lastSortedIndex-t._lastSortedIndex:s.zIndex-t.zIndex}const pb=class hp extends fe{constructor(){super(),this.children=[],this.sortableChildren=hp.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),a=this.getChildIndex(e);this.children[r]=e,this.children[a]=t,this.onChildrenChange(r<a?r:a)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);ra(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,ra(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,ra(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,a=e,o=a-r;let h;if(o>0&&o<=a){h=this.children.splice(r,o);for(let c=0;c<h.length;++c)h[c].parent=null,h[c].transform&&(h[c].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let c=0;c<h.length;++c)h[c].emit("removed",this),this.emit("childRemoved",h[c],this,c);return h}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const a=this.children[e];a._lastSortedIndex=e,!t&&a.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(cR),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let a=0,o=this.children.length;a<o;++a){const h=this.children[a];h.visible&&h.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,a;this.cullArea?(r=this.cullArea,a=this.worldTransform):this._render!==hp.prototype._render&&(r=this.getBounds(!0));const o=t.projection.transform;if(o&&(a?(a=hR.copyFrom(a),a.prepend(o)):a=o),r&&e.intersects(r,a))this._render(t);else if(this.cullArea)return;for(let h=0,c=this.children.length;h<c;++h){const d=this.children[h],p=d.cullable;d.cullable=p||!this.cullArea,d.render(t),d.cullable=p}}render(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters?.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}}renderAdvanced(t){const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let o=0;o<e.length;o++)e[o].enabled&&this._enabledFilters.push(e[o])}const a=e&&this._enabledFilters?.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Ce.NONE));if(a&&t.batch.flush(),e&&this._enabledFilters?.length&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let o=0,h=this.children.length;o<h;++o)this.children[o].render(t)}a&&t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters?.length&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t?.children,r=this.removeChildren(0,this.children.length);if(e)for(let a=0;a<r.length;++a)r[a].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};pb.defaultSortableChildren=!1;let Li=pb;Li.prototype.containerUpdateTransform=Li.prototype.updateTransform;Object.defineProperties(gt,{SORTABLE_CHILDREN:{get(){return Li.defaultSortableChildren},set(s){Vt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Li.defaultSortableChildren=s}}});const yl=new qt,fR=new Uint16Array([0,1,2,0,2,3]);class fa extends Li{constructor(t){super(),this._anchor=new Ir(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ae(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Dt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||bt.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=fR,this.pluginName="batch",this.isSprite=!0,this._roundPixels=gt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Tn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Tn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const e=this.transform.worldTransform,r=e.a,a=e.b,o=e.c,h=e.d,c=e.tx,d=e.ty,p=this.vertexData,g=t.trim,y=t.orig,v=this._anchor;let _=0,x=0,A=0,S=0;if(g?(x=g.x-v._x*y.width,_=x+g.width,S=g.y-v._y*y.height,A=S+g.height):(x=-v._x*y.width,_=x+y.width,S=-v._y*y.height,A=S+y.height),p[0]=r*x+o*S+c,p[1]=h*S+a*x+d,p[2]=r*_+o*S+c,p[3]=h*S+a*_+d,p[4]=r*_+o*A+c,p[5]=h*A+a*_+d,p[6]=r*x+o*A+c,p[7]=h*A+a*x+d,this._roundPixels){const T=gt.RESOLUTION;for(let I=0;I<p.length;++I)p[I]=Math.round(p[I]*T)/T}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,e=this.vertexTrimmedData,r=t.orig,a=this._anchor,o=this.transform.worldTransform,h=o.a,c=o.b,d=o.c,p=o.d,g=o.tx,y=o.ty,v=-a._x*r.width,_=v+r.width,x=-a._y*r.height,A=x+r.height;if(e[0]=h*v+d*x+g,e[1]=p*x+c*v+y,e[2]=h*_+d*x+g,e[3]=p*x+c*_+y,e[4]=h*_+d*A+g,e[5]=p*A+c*_+y,e[6]=h*v+d*A+g,e[7]=p*A+c*v+y,this._roundPixels){const S=gt.RESOLUTION;for(let T=0;T<e.length;++T)e[T]=Math.round(e[T]*S)/S}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new Uu),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Ut),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,yl);const e=this._texture.orig.width,r=this._texture.orig.height,a=-e*this.anchor.x;let o=0;return yl.x>=a&&yl.x<a+e&&(o=-r*this.anchor.y,yl.y>=o&&yl.y<o+r)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t?.texture){const e=typeof t=="boolean"?t:t?.baseTexture;this._texture.destroy(!!e)}this._texture=null}static from(t,e){const r=t instanceof bt?t:bt.from(t,e);return new fa(r)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const e=Tn(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const e=Tn(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||bt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const mb=new le;fe.prototype._cacheAsBitmap=!1;fe.prototype._cacheData=null;fe.prototype._cacheAsBitmapResolution=null;fe.prototype._cacheAsBitmapMultisample=null;class dR{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(fe.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(s){s!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(s){s!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=s,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(s){if(this._cacheAsBitmap===s)return;this._cacheAsBitmap=s;let t;s?(this._cacheData||(this._cacheData=new dR),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}});fe.prototype._renderCached=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(s),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(s))};fe.prototype._initCachedDisplayObject=function(s){if(this._cacheData?.sprite)return;const t=this.alpha;this.alpha=1,s.batch.flush();const e=this.getLocalBounds(new Ut,!0);if(this.filters?.length){const v=this.filters[0].padding;e.pad(v)}const r=this.cacheAsBitmapResolution||s.resolution;e.ceil(r),e.width=Math.max(e.width,1/r),e.height=Math.max(e.height,1/r);const a=s.renderTexture.current,o=s.renderTexture.sourceFrame.clone(),h=s.renderTexture.destinationFrame.clone(),c=s.projection.transform,d=hs.create({width:e.width,height:e.height,resolution:r,multisample:this.cacheAsBitmapMultisample??s.multisample}),p=`cacheAsBitmap_${as()}`;this._cacheData.textureCacheId=p,Nt.addToCache(d.baseTexture,p),bt.addToCache(d,p);const g=this.transform.localTransform.copyTo(mb).invert().translate(-e.x,-e.y);this.render=this._cacheData.originalRender,s.render(this,{renderTexture:d,clear:!0,transform:g,skipUpdateTransform:!1}),s.framebuffer.blit(),s.projection.transform=c,s.renderTexture.bind(a,o,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const y=new fa(d);y.transform.worldTransform=this.transform.worldTransform,y.anchor.x=-(e.x/e.width),y.anchor.y=-(e.y/e.height),y.alpha=t,y._bounds=this._bounds,this._cacheData.sprite=y,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=y.containsPoint.bind(y)};fe.prototype._renderCachedCanvas=function(s){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(s),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(s))};fe.prototype._initCachedDisplayObjectCanvas=function(s){if(this._cacheData?.sprite)return;const t=this.getLocalBounds(new Ut,!0),e=this.alpha;this.alpha=1;const r=s.canvasContext.activeContext,a=s._projTransform,o=this.cacheAsBitmapResolution||s.resolution;t.ceil(o),t.width=Math.max(t.width,1/o),t.height=Math.max(t.height,1/o);const h=hs.create({width:t.width,height:t.height,resolution:o}),c=`cacheAsBitmap_${as()}`;this._cacheData.textureCacheId=c,Nt.addToCache(h.baseTexture,c),bt.addToCache(h,c);const d=mb;this.transform.localTransform.copyTo(d),d.invert(),d.tx-=t.x,d.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,s.render(this,{renderTexture:h,clear:!0,transform:d,skipUpdateTransform:!1}),s.canvasContext.activeContext=r,s._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const p=new fa(h);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(t.x/t.width),p.anchor.y=-(t.y/t.height),p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=s._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)};fe.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};fe.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};fe.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Nt.removeFromCache(this._cacheData.textureCacheId),bt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};fe.prototype._cacheAsBitmapDestroy=function(s){this.cacheAsBitmap=!1,this.destroy(s)};fe.prototype.name=null;Li.prototype.getChildByName=function(s,t){for(let e=0,r=this.children.length;e<r;e++)if(this.children[e].name===s)return this.children[e];if(t)for(let e=0,r=this.children.length;e<r;e++){const a=this.children[e];if(!a.getChildByName)continue;const o=a.getChildByName(s,!0);if(o)return o}return null};fe.prototype.getGlobalPosition=function(s=new qt,t=!1){return this.parent?this.parent.toGlobal(this.position,s,t):(s.x=this.position.x,s.y=this.position.y),s};var pR=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class mR extends qe{constructor(t=1){super(rR,pR,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const gR={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},yR=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function vR(s){const t=gR[s],e=t.length;let r=yR,a="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let h;for(let c=0;c<s;c++){let d=o.replace("%index%",c.toString());h=c,c>=e&&(h=s-c-1),d=d.replace("%value%",t[h].toString()),a+=d,a+=`
`}return r=r.replace("%blur%",a),r=r.replace("%size%",s.toString()),r}const _R=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function xR(s,t){const e=Math.ceil(s/2);let r=_R,a="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let h=0;h<s;h++){let c=o.replace("%index%",h.toString());c=c.replace("%sampleIndex%",`${h-(e-1)}.0`),a+=c,a+=`
`}return r=r.replace("%blur%",a),r=r.replace("%size%",s.toString()),r}class cp extends qe{constructor(t,e=8,r=4,a=qe.defaultResolution,o=5){const h=xR(o,t),c=vR(o);super(h,c),this.horizontal=t,this.resolution=a,this._quality=0,this.quality=r,this.blur=e}apply(t,e,r,a){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,e,r,a);else{const o=t.getFilterTexture(),h=t.renderer;let c=e,d=o;this.state.blend=!1,t.applyFilter(this,c,d,Ji.CLEAR);for(let p=1;p<this.passes-1;p++){t.bindAndClear(c,Ji.BLIT),this.uniforms.uSampler=d;const g=d;d=c,c=g,h.shader.bind(this),h.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,d,r,a),t.returnFilterTexture(o)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class bR extends qe{constructor(t=8,e=4,r=qe.defaultResolution,a=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new cp(!0,t,e,r,a),this.blurYFilter=new cp(!1,t,e,r,a),this.resolution=r,this.quality=e,this.blur=t,this.repeatEdgePixels=!1}apply(t,e,r,a){const o=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(o&&h){const c=t.getFilterTexture();this.blurXFilter.apply(t,e,c,Ji.CLEAR),this.blurYFilter.apply(t,c,r,a),t.returnFilterTexture(c)}else h?this.blurYFilter.apply(t,e,r,a):this.blurXFilter.apply(t,e,r,a)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var ER=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class fp extends qe{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(lb,ER,t),this.alpha=1}_loadMatrix(t,e=!1){let r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t}_colorMatrix(t){const e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){const r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}tint(t,e){const[r,a,o]=ae.shared.setValue(t).toArray(),h=[r,0,0,0,0,0,a,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(h,e)}greyscale(t,e){const r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}blackAndWhite(t){const e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)}hue(t,e){t=(t||0)/180*Math.PI;const r=Math.cos(t),a=Math.sin(t),o=Math.sqrt,h=1/3,c=o(h),d=r+(1-r)*h,p=h*(1-r)-c*a,g=h*(1-r)+c*a,y=h*(1-r)+c*a,v=r+h*(1-r),_=h*(1-r)-c*a,x=h*(1-r)-c*a,A=h*(1-r)+c*a,S=r+h*(1-r),T=[d,p,g,0,0,y,v,_,0,0,x,A,S,0,0,0,0,0,1,0];this._loadMatrix(T,e)}contrast(t,e){const r=(t||0)+1,a=-.5*(r-1),o=[r,0,0,0,a,0,r,0,0,a,0,0,r,0,a,0,0,0,1,0];this._loadMatrix(o,e)}saturate(t=0,e){const r=t*2/3+1,a=(r-1)*-.5,o=[r,a,a,0,0,a,r,a,0,0,a,a,r,0,0,0,0,0,1,0];this._loadMatrix(o,e)}desaturate(){this.saturate(-1)}negative(t){const e=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(e,t)}sepia(t){const e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)}technicolor(t){const e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)}polaroid(t){const e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)}toBGR(t){const e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)}kodachrome(t){const e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)}browni(t){const e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)}vintage(t){const e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)}colorTone(t,e,r,a,o){t=t||.2,e=e||.15,r=r||16770432,a=a||3375104;const h=ae.shared,[c,d,p]=h.setValue(r).toArray(),[g,y,v]=h.setValue(a).toArray(),_=[.3,.59,.11,0,0,c,d,p,t,0,g,y,v,e,0,c-g,d-y,p-v,0,0];this._loadMatrix(_,o)}night(t,e){t=t||.1;const r=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(r,e)}predator(t,e){const r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)}lsd(t){const e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}fp.prototype.grayscale=fp.prototype.greyscale;var TR=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,SR=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class AR extends qe{constructor(t,e){const r=new le;t.renderable=!1,super(SR,TR,{mapSampler:t._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=r,e==null&&(e=20),this.scale=new qt(e,e)}apply(t,e,r,a){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,h=Math.sqrt(o.a*o.a+o.b*o.b),c=Math.sqrt(o.c*o.c+o.d*o.d);h!==0&&c!==0&&(this.uniforms.rotation[0]=o.a/h,this.uniforms.rotation[1]=o.b/h,this.uniforms.rotation[2]=o.c/c,this.uniforms.rotation[3]=o.d/c),t.applyFilter(this,e,r,a)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var wR=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,RR=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class CR extends qe{constructor(){super(RR,wR)}}var MR=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class DR extends qe{constructor(t=.5,e=Math.random()){super(lb,MR,{uNoise:0,uSeed:0}),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const T_={AlphaFilter:mR,BlurFilter:bR,BlurFilterPass:cp,ColorMatrixFilter:fp,DisplacementFilter:AR,FXAAFilter:CR,NoiseFilter:DR};Object.entries(T_).forEach(([s,t])=>{Object.defineProperty(T_,s,{get(){return Vt("7.1.0",`filters.${s} has moved to ${s}`),t}})});class OR{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(oi.system.add(this.tickerUpdate,this,ls.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(oi.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const En=new OR;class Il{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Il.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new qt,this.page=new qt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,r){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,r,a,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Lu extends Il{constructor(){super(...arguments),this.client=new qt,this.movement=new qt,this.offset=new qt,this.global=new qt,this.screen=new qt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,r,a,o,h,c,d,p,g,y,v,_,x,A){throw new Error("Method not implemented.")}}class Bi extends Lu{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class sa extends Lu{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}sa.DOM_DELTA_PIXEL=0,sa.DOM_DELTA_LINE=1,sa.DOM_DELTA_PAGE=2;const BR=2048,IR=new qt,Cd=new qt;class NR{constructor(t){this.dispatch=new Bl,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((r,a)=>r.priority-a.priority)}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let r=0,a=e.length;r<a;r++)e[r].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){En.pauseUpdate=!0;const r=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",a=this[r](this.rootTarget,this.rootTarget.eventMode,IR.set(t,e),this.hitTestFn,this.hitPruneFn);return a&&a[0]}propagate(t,e){if(!t.target)return;const r=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let a=0,o=r.length-1;a<o;a++)if(t.currentTarget=r[a],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let a=r.length-2;a>=0;a--)if(t.currentTarget=r[a],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,r=this._allInteractiveElements){if(r.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const a=Array.isArray(e)?e:[e];for(let o=r.length-1;o>=0;o--)a.forEach(h=>{t.currentTarget=r[o],this.notifyTarget(t,h)})}propagationPath(t){const e=[t];for(let r=0;r<BR&&t!==this.rootTarget;r++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,r,a,o,h=!1){let c=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(En.pauseUpdate=!1),t.interactiveChildren&&t.children){const g=t.children;for(let y=g.length-1;y>=0;y--){const v=g[y],_=this.hitTestMoveRecursive(v,this._isInteractive(e)?e:v.eventMode,r,a,o,h||o(t,r));if(_){if(_.length>0&&!_[_.length-1].parent)continue;const x=t.isInteractive();(_.length>0||x)&&(x&&this._allInteractiveElements.push(t),_.push(t)),this._hitElements.length===0&&(this._hitElements=_),c=!0}}}const d=this._isInteractive(e),p=t.isInteractive();return d&&p&&this._allInteractiveElements.push(t),h||this._hitElements.length>0?null:c?this._hitElements:d&&!o(t,r)&&a(t,r)?p?[t]:[]:null}hitTestRecursive(t,e,r,a,o){if(this._interactivePrune(t)||o(t,r))return null;if((t.eventMode==="dynamic"||e==="dynamic")&&(En.pauseUpdate=!1),t.interactiveChildren&&t.children){const d=t.children;for(let p=d.length-1;p>=0;p--){const g=d[p],y=this.hitTestRecursive(g,this._isInteractive(e)?e:g.eventMode,r,a,o);if(y){if(y.length>0&&!y[y.length-1].parent)continue;const v=t.isInteractive();return(y.length>0||v)&&y.push(t),y}}}const h=this._isInteractive(e),c=t.isInteractive();return h&&a(t,r)?c?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,e){if(t.hitArea&&(t.worldTransform.applyInverse(e,Cd),!t.hitArea.contains(Cd.x,Cd.y)))return!0;if(t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;if(r&&!r.containsPoint?.(e))return!0}return!1}hitTestFn(t,e){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(e):!1}notifyTarget(t,e){e=e??t.type;const r=`on${e}`;t.currentTarget[r]?.(t);const a=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,a),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof Bi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),e.pointerType==="touch")this.dispatchEvent(e,"touchstart");else if(e.pointerType==="mouse"||e.pointerType==="pen"){const a=e.button===2;this.dispatchEvent(e,a?"rightdown":"mousedown")}const r=this.trackingData(t.pointerId);r.pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){if(!(t instanceof Bi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const r=e.pointerType==="mouse"||e.pointerType==="pen",a=this.trackingData(t.pointerId),o=this.findMountedTarget(a.overTargets);if(a.overTargets?.length>0&&o!==e.target){const d=t.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(t,d,o);if(this.dispatchEvent(p,"pointerout"),r&&this.dispatchEvent(p,"mouseout"),!e.composedPath().includes(o)){const g=this.createPointerEvent(t,"pointerleave",o);for(g.eventPhase=g.AT_TARGET;g.target&&!e.composedPath().includes(g.target);)g.currentTarget=g.target,this.notifyTarget(g),r&&this.notifyTarget(g,"mouseleave"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(p)}if(o!==e.target){const d=t.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(e,d);this.dispatchEvent(p,"pointerover"),r&&this.dispatchEvent(p,"mouseover");let g=o?.parent;for(;g&&g!==this.rootTarget.parent&&g!==e.target;)g=g.parent;if(!g||g===this.rootTarget.parent){const y=this.clonePointerEvent(e,"pointerenter");for(y.eventPhase=y.AT_TARGET;y.target&&y.target!==o&&y.target!==this.rootTarget.parent;)y.currentTarget=y.target,this.notifyTarget(y),r&&this.notifyTarget(y,"mouseenter"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(p)}const h=[],c=this.enableGlobalMoveEvents??!0;this.moveOnAll?h.push("pointermove"):this.dispatchEvent(e,"pointermove"),c&&h.push("globalpointermove"),e.pointerType==="touch"&&(this.moveOnAll?h.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),c&&h.push("globaltouchmove")),r&&(this.moveOnAll?h.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),c&&h.push("globalmousemove"),this.cursor=e.target?.cursor),h.length>0&&this.all(e,h),this._allInteractiveElements.length=0,this._hitElements.length=0,a.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){if(!(t instanceof Bi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),r=this.createPointerEvent(t),a=r.pointerType==="mouse"||r.pointerType==="pen";this.dispatchEvent(r,"pointerover"),a&&this.dispatchEvent(r,"mouseover"),r.pointerType==="mouse"&&(this.cursor=r.target?.cursor);const o=this.clonePointerEvent(r,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),a&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;e.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(o)}mapPointerOut(t){if(!(t instanceof Bi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId);if(e.overTargets){const r=t.pointerType==="mouse"||t.pointerType==="pen",a=this.findMountedTarget(e.overTargets),o=this.createPointerEvent(t,"pointerout",a);this.dispatchEvent(o),r&&this.dispatchEvent(o,"mouseout");const h=this.createPointerEvent(t,"pointerleave",a);for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==this.rootTarget.parent;)h.currentTarget=h.target,this.notifyTarget(h),r&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;e.overTargets=null,this.freeEvent(o),this.freeEvent(h)}this.cursor=null}mapPointerUp(t){if(!(t instanceof Bi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=performance.now(),r=this.createPointerEvent(t);if(this.dispatchEvent(r,"pointerup"),r.pointerType==="touch")this.dispatchEvent(r,"touchend");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const c=r.button===2;this.dispatchEvent(r,c?"rightup":"mouseup")}const a=this.trackingData(t.pointerId),o=this.findMountedTarget(a.pressTargetsByButton[t.button]);let h=o;if(o&&!r.composedPath().includes(o)){let c=o;for(;c&&!r.composedPath().includes(c);){if(r.currentTarget=c,this.notifyTarget(r,"pointerupoutside"),r.pointerType==="touch")this.notifyTarget(r,"touchendoutside");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const d=r.button===2;this.notifyTarget(r,d?"rightupoutside":"mouseupoutside")}c=c.parent}delete a.pressTargetsByButton[t.button],h=c}if(h){const c=this.clonePointerEvent(r,"click");c.target=h,c.path=null,a.clicksByButton[t.button]||(a.clicksByButton[t.button]={clickCount:0,target:c.target,timeStamp:e});const d=a.clicksByButton[t.button];if(d.target===c.target&&e-d.timeStamp<200?++d.clickCount:d.clickCount=1,d.target=c.target,d.timeStamp=e,c.detail=d.clickCount,c.pointerType==="mouse"){const p=c.button===2;this.dispatchEvent(c,p?"rightclick":"click")}else c.pointerType==="touch"&&this.dispatchEvent(c,"tap");this.dispatchEvent(c,"pointertap"),this.freeEvent(c)}this.freeEvent(r)}mapPointerUpOutside(t){if(!(t instanceof Bi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const e=this.trackingData(t.pointerId),r=this.findMountedTarget(e.pressTargetsByButton[t.button]),a=this.createPointerEvent(t);if(r){let o=r;for(;o;)a.currentTarget=o,this.notifyTarget(a,"pointerupoutside"),a.pointerType==="touch"?this.notifyTarget(a,"touchendoutside"):(a.pointerType==="mouse"||a.pointerType==="pen")&&this.notifyTarget(a,a.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(a)}mapWheel(t){if(!(t instanceof sa)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let r=1;r<t.length&&t[r].parent===e;r++)e=t[r];return e}createPointerEvent(t,e,r){const a=this.allocateEvent(Bi);return this.copyPointerData(t,a),this.copyMouseData(t,a),this.copyData(t,a),a.nativeEvent=t.nativeEvent,a.originalEvent=t,a.target=r??this.hitTest(a.global.x,a.global.y)??this._hitElements[0],typeof e=="string"&&(a.type=e),a}createWheelEvent(t){const e=this.allocateEvent(sa);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const r=this.allocateEvent(Bi);return r.nativeEvent=t.nativeEvent,r.originalEvent=t.originalEvent,this.copyPointerData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.target=t.target,r.path=t.composedPath().slice(),r.type=e??r.type,r}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof Bi&&e instanceof Bi&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof Lu&&e instanceof Lu&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}notifyListeners(t,e){const r=t.currentTarget._events[e];if(r&&t.currentTarget.isInteractive())if("fn"in r)r.once&&t.currentTarget.removeListener(e,r.fn,void 0,!0),r.fn.call(r.context,t);else for(let a=0,o=r.length;a<o&&!t.propagationImmediatelyStopped;a++)r[a].once&&t.currentTarget.removeListener(e,r[a].fn,void 0,!0),r[a].fn.call(r[a].context,t)}}const PR=1,UR={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},dp=class pp{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new NR(null),En.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Bi(null),this.rootWheelEvent=new sa(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...pp.defaultEventFeatures},{set:(e,r,a)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=a),e[r]=a,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,pp._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,a=e.length;r<a;r++){const o=e[r],h=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,En.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,a=e.length;r<a;r++){const o=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",a=this.normalizeToPointerData(t);for(let o=0,h=a.length;o<h;o++){const c=this.bootstrapEvent(this.rootPointerEvent,a[o]);c.type+=r,this.rootBoundary.mapEvent(c)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);for(let r=0,a=e.length;r<a;r++){const o=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,En.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;En.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;En.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){const a=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;t.x=(e-a.left)*(this.domElement.width/a.width)*o,t.y=(r-a.top)*(this.domElement.height/a.height)*o}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,a=t.changedTouches.length;r<a;r++){const o=t.changedTouches[r];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=t.type,e.push(o)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=PR),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=UR[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};dp.extension={name:"events",type:[pt.RendererSystem,pt.CanvasRendererSystem]},dp.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let mp=dp;Et.add(mp);function S_(s){return s==="dynamic"||s==="static"}const LR={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??S_(mp.defaultEventMode)},set interactive(s){Vt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=s,this.eventMode=s?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??mp.defaultEventMode},set eventMode(s){this._internalInteractive=S_(s),this._internalEventMode=s},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(s,t,e){const r=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,a=typeof e=="object"?e.signal:void 0,o=typeof e=="object"?e.once===!0:!1,h=typeof t=="function"?void 0:t;s=r?`${s}capture`:s;const c=typeof t=="function"?t:t.handleEvent,d=this;a&&a.addEventListener("abort",()=>{d.off(s,c,h)}),o?d.once(s,c,h):d.on(s,c,h)},removeEventListener(s,t,e){const r=typeof e=="boolean"&&e||typeof e=="object"&&e.capture,a=typeof t=="function"?void 0:t;s=r?`${s}capture`:s,t=typeof t=="function"?t:t.handleEvent,this.off(s,t,a)},dispatchEvent(s){if(!(s instanceof Il))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return s.defaultPrevented=!1,s.path=null,s.target=this,s.manager.dispatchEvent(s),!s.defaultPrevented}};fe.mixin(LR);const FR={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};fe.mixin(FR);const GR=9,lu=100,kR=0,HR=0,A_=2,w_=1,zR=-1e3,XR=-1e3,VR=2;class gb{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Br.tablet||Br.phone)&&this.createTouchHook();const e=document.createElement("div");e.style.width=`${lu}px`,e.style.height=`${lu}px`,e.style.position="absolute",e.style.top=`${kR}px`,e.style.left=`${HR}px`,e.style.zIndex=A_.toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${w_}px`,t.style.height=`${w_}px`,t.style.position="absolute",t.style.top=`${zR}px`,t.style.left=`${XR}px`,t.style.zIndex=VR.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const e=t.children;if(e)for(let r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}update(){const t=performance.now();if(Br.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:e,y:r,width:a,height:o}=this.renderer.view.getBoundingClientRect(),{width:h,height:c,resolution:d}=this.renderer,p=a/h*d,g=o/c*d;let y=this.div;y.style.left=`${e}px`,y.style.top=`${r}px`,y.style.width=`${h}px`,y.style.height=`${c}px`;for(let v=0;v<this.children.length;v++){const _=this.children[v];if(_.renderId!==this.renderId)_._accessibleActive=!1,ra(this.children,v,1),this.div.removeChild(_._accessibleDiv),this.pool.push(_._accessibleDiv),_._accessibleDiv=null,v--;else{y=_._accessibleDiv;let x=_.hitArea;const A=_.worldTransform;_.hitArea?(y.style.left=`${(A.tx+x.x*A.a)*p}px`,y.style.top=`${(A.ty+x.y*A.d)*g}px`,y.style.width=`${x.width*A.a*p}px`,y.style.height=`${x.height*A.d*g}px`):(x=_.getBounds(),this.capHitArea(x),y.style.left=`${x.x*p}px`,y.style.top=`${x.y*g}px`,y.style.width=`${x.width*p}px`,y.style.height=`${x.height*g}px`,y.title!==_.accessibleTitle&&_.accessibleTitle!==null&&(y.title=_.accessibleTitle),y.getAttribute("aria-label")!==_.accessibleHint&&_.accessibleHint!==null&&y.setAttribute("aria-label",_.accessibleHint)),(_.accessibleTitle!==y.title||_.tabIndex!==y.tabIndex)&&(y.title=_.accessibleTitle,y.tabIndex=_.tabIndex,this.debug&&this.updateDebugHTML(y))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:r}=this.renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>r&&(t.height=r-t.y)}addChild(t){let e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=`${lu}px`,e.style.height=`${lu}px`,e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=A_.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?e.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(e.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{displayObject:r}=t.target,a=this.renderer.events.rootBoundary,o=Object.assign(new Il(a),{target:r});a.rootTarget=this.renderer.lastObjectRendered,e.forEach(h=>a.dispatchEvent(o,h))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===GR&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}gb.extension={name:"accessibility",type:[pt.RendererPlugin,pt.CanvasRendererPlugin]};Et.add(gb);const yb=class gp{constructor(t){this.stage=new Li,t=Object.assign({forceCanvas:!1},t),this.renderer=tR(t),gp._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(t,e){const r=gp._plugins.slice(0);r.reverse(),r.forEach(a=>{a.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};yb._plugins=[];let Hp=yb;Et.handleByList(pt.Application,Hp._plugins);class vb{static init(t){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let e,r;if(this._resizeTo===globalThis.window)e=globalThis.innerWidth,r=globalThis.innerHeight;else{const{clientWidth:a,clientHeight:o}=this._resizeTo;e=a,r=o}this.renderer.resize(e,r),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}vb.extension=pt.Application;Et.add(vb);const R_={loader:pt.LoadParser,resolver:pt.ResolveParser,cache:pt.CacheParser,detection:pt.DetectionParser};Et.handle(pt.Asset,s=>{const t=s.ref;Object.entries(R_).filter(([e])=>!!t[e]).forEach(([e,r])=>Et.add(Object.assign(t[e],{extension:t[e].extension??r})))},s=>{const t=s.ref;Object.keys(R_).filter(e=>!!t[e]).forEach(e=>Et.remove(t[e]))});class jR{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<e;r++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function da(s,t){if(Array.isArray(t)){for(const e of t)if(s.startsWith(`data:${e}`))return!0;return!1}return s.startsWith(`data:${t}`)}function Rn(s,t){const e=s.split("?")[0],r=Ie.extname(e).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}const Ni=(s,t,e=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(r=>typeof r=="string"||e?t(r):r):s),yp=(s,t)=>{const e=t.split("?")[1];return e&&(s+=`?${e}`),s};function _b(s,t,e,r,a){const o=t[e];for(let h=0;h<o.length;h++){const c=o[h];e<t.length-1?_b(s.replace(r[e],c),t,e+1,r,a):a.push(s.replace(r[e],c))}}function qR(s){const t=/\{(.*?)\}/g,e=s.match(t),r=[];if(e){const a=[];e.forEach(o=>{const h=o.substring(1,o.length-1).split(",");a.push(h)}),_b(s,a,0,e,r)}else r.push(s);return r}const Fu=s=>!Array.isArray(s);class YR{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const r=Ni(t);let a;for(let c=0;c<this.parsers.length;c++){const d=this.parsers[c];if(d.test(e)){a=d.getCacheableAssets(r,e);break}}a||(a={},r.forEach(c=>{a[c]=e}));const o=Object.keys(a),h={cacheKeys:o,keys:r};if(r.forEach(c=>{this._cacheMap.set(c,h)}),o.forEach(c=>{const d=a?a[c]:e;this._cache.has(c)&&this._cache.get(c)!==d&&console.warn("[Cache] already has key:",c),this._cache.set(c,a[c])}),e instanceof bt){const c=e;r.forEach(d=>{c.baseTexture!==bt.EMPTY.baseTexture&&Nt.addToCache(c.baseTexture,d),bt.addToCache(c,d)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(r=>{this._cache.delete(r)}),e.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}}const rs=new YR;class $R{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,r)=>(this._parsersValidated=!1,t[e]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const r={promise:null,parser:null};return r.promise=(async()=>{let a=null,o=null;if(e.loadParser&&(o=this._parserHash[e.loadParser],o||console.warn(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!o){for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];if(c.load&&c.test?.(t,e,this)){o=c;break}}if(!o)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}a=await o.load(t,e,this),r.parser=o;for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];c.parse&&c.parse&&await c.testParse?.(a,e,this)&&(a=await c.parse(a,e,this)||a,r.parser=c)}return a})(),r}async load(t,e){this._parsersValidated||this._validateParsers();let r=0;const a={},o=Fu(t),h=Ni(t,p=>({alias:[p],src:p})),c=h.length,d=h.map(async p=>{const g=Ie.toAbsolute(p.src);if(!a[p.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,p)),a[p.src]=await this.promiseCache[g].promise,e&&e(++r/c)}catch(y){throw delete this.promiseCache[g],delete a[p.src],new Error(`[Loader.load] Failed to load ${g}.
${y}`)}});return await Promise.all(d),o?a[h[0].src]:a}async unload(t){const e=Ni(t,r=>({alias:[r],src:r})).map(async r=>{const a=Ie.toAbsolute(r.src),o=this.promiseCache[a];if(o){const h=await o.promise;delete this.promiseCache[a],o.parser?.unload?.(h,r,this)}});await Promise.all(e)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(t[e.name]&&console.warn(`[Assets] loadParser name conflict "${e.name}"`),{...t,[e.name]:e}),{})}}var Fi=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(Fi||{});const WR=".json",ZR="application/json",KR={extension:{type:pt.LoadParser,priority:Fi.Low},name:"loadJson",test(s){return da(s,ZR)||Rn(s,WR)},async load(s){return await(await gt.ADAPTER.fetch(s)).json()}};Et.add(KR);const QR=".txt",JR="text/plain",tC={name:"loadTxt",extension:{type:pt.LoadParser,priority:Fi.Low},test(s){return da(s,JR)||Rn(s,QR)},async load(s){return await(await gt.ADAPTER.fetch(s)).text()}};Et.add(tC);const eC=["normal","bold","100","200","300","400","500","600","700","800","900"],iC=[".ttf",".otf",".woff",".woff2"],rC=["font/ttf","font/otf","font/woff","font/woff2"],nC=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function sC(s){const t=Ie.extname(s),e=Ie.basename(s,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let r=e.length>0;for(const o of e)if(!o.match(nC)){r=!1;break}let a=e.join(" ");return r||(a=`"${a.replace(/[\\"]/g,"\\$&")}"`),a}const aC=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function lC(s){return aC.test(s)?s:encodeURI(s)}const oC={extension:{type:pt.LoadParser,priority:Fi.Low},name:"loadWebFont",test(s){return da(s,rC)||Rn(s,iC)},async load(s,t){const e=gt.ADAPTER.getFontFaceSet();if(e){const r=[],a=t.data?.family??sC(s),o=t.data?.weights?.filter(c=>eC.includes(c))??["normal"],h=t.data??{};for(let c=0;c<o.length;c++){const d=o[c],p=new FontFace(a,`url(${lC(s)})`,{...h,weight:d});await p.load(),e.add(p),r.push(p)}return r.length===1?r[0]:r}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(s){(Array.isArray(s)?s:[s]).forEach(t=>gt.ADAPTER.getFontFaceSet().delete(t))}};Et.add(oC);const uC=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let aa=null,vp=class{constructor(){aa||(aa=URL.createObjectURL(new Blob([uC],{type:"application/javascript"}))),this.worker=new Worker(aa)}};vp.revokeObjectURL=function(){aa&&(URL.revokeObjectURL(aa),aa=null)};const hC=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let la=null;class xb{constructor(){la||(la=URL.createObjectURL(new Blob([hC],{type:"application/javascript"}))),this.worker=new Worker(la)}}xb.revokeObjectURL=function(){la&&(URL.revokeObjectURL(la),la=null)};let C_=0,Md;class cC{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new vp;e.addEventListener("message",r=>{e.terminate(),vp.revokeObjectURL(),t(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Md===void 0&&(Md=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<Md&&(this._createdWorkers++,t=new xb().worker,t.addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const r=new Promise((a,o)=>{this.queue.push({id:t,arguments:e,resolve:a,reject:o})});return this.next(),r}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const e=this.queue.pop(),r=e.id;this.resolveHash[C_]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:C_++,id:r})}}const M_=new cC;function Nl(s,t,e){s.resource.internal=!0;const r=new bt(s),a=()=>{delete t.promiseCache[e],rs.has(e)&&rs.remove(e)};return r.baseTexture.once("destroyed",()=>{e in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),a())}),r.once("destroyed",()=>{s.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),a())}),r}const fC=[".jpeg",".jpg",".png",".webp",".avif"],dC=["image/jpeg","image/png","image/webp","image/avif"];async function pC(s){const t=await gt.ADAPTER.fetch(s);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${s}: ${t.status} ${t.statusText}`);const e=await t.blob();return await createImageBitmap(e)}const Qu={name:"loadTextures",extension:{type:pt.LoadParser,priority:Fi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(s){return da(s,dC)||Rn(s,fC)},async load(s,t,e){const r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let a;r?this.config.preferWorkers&&await M_.isImageBitmapSupported()?a=await M_.loadImageBitmap(s):a=await pC(s):a=await new Promise((c,d)=>{const p=new Image;p.crossOrigin=this.config.crossOrigin,p.src=s,p.complete?c(p):(p.onload=()=>c(p),p.onerror=g=>d(g))});const o={...t.data};o.resolution??(o.resolution=Lr(s)),r&&o.resourceOptions?.ownsImageBitmap===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const h=new Nt(a,o);return h.resource.src=s,Nl(h,e,s)},unload(s){s.destroy(!0)}};Et.add(Qu);const mC=".svg",gC="image/svg+xml",yC={extension:{type:pt.LoadParser,priority:Fi.High},name:"loadSVG",test(s){return da(s,gC)||Rn(s,mC)},async testParse(s){return lp.test(s)},async parse(s,t,e){const r=new lp(s,t?.data?.resourceOptions);await r.load();const a=new Nt(r,{resolution:Lr(s),...t?.data});return a.resource.src=t.src,Nl(a,e,t.src)},async load(s,t){return(await gt.ADAPTER.fetch(s)).text()},unload:Qu.unload};Et.add(yC);const vC=[".mp4",".m4v",".webm",".ogv"],_C=["video/mp4","video/webm","video/ogg"],xC={name:"loadVideo",extension:{type:pt.LoadParser,priority:Fi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(s){return da(s,_C)||Rn(s,vC)},async load(s,t,e){let r;const a=await(await gt.ADAPTER.fetch(s)).blob(),o=URL.createObjectURL(a);try{const h={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...t?.data?.resourceOptions,autoLoad:!0},c=new db(o,h);await c.load();const d=new Nt(c,{alphaMode:await wA(),resolution:Lr(s),...t?.data});d.resource.src=s,r=Nl(d,e,s),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(h){throw URL.revokeObjectURL(o),h}return r},unload(s){s.destroy(!0)}};Et.add(xC);class bC{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`).join("&")}}getAlias(t){const{alias:e,name:r,src:a,srcs:o}=t;return Ni(e||r||a||o,h=>typeof h=="string"?h:Array.isArray(h)?h.map(c=>c?.src??c?.srcs??c):h?.src||h?.srcs?h.src??h.srcs:h,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const r=[];Array.isArray(e)?e.forEach(a=>{const o=a.src??a.srcs,h=a.alias??a.name;let c;if(typeof h=="string"){const d=this._createBundleAssetId(t,h);r.push(d),c=[h,d]}else{const d=h.map(p=>this._createBundleAssetId(t,p));r.push(...d),c=[...h,...d]}this.add({...a,alias:c,src:o})}):Object.keys(e).forEach(a=>{const o=[a,this._createBundleAssetId(t,a)];if(typeof e[a]=="string")this.add({alias:o,src:e[a]});else if(Array.isArray(e[a]))this.add({alias:o,src:e[a]});else{const h=e[a],c=h.src??h.srcs;this.add({...h,alias:o,src:Array.isArray(c)?c:[c]})}r.push(...o)}),this._bundles[t]=r}add(t,e,r,a,o){const h=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(Vt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),h.push({alias:t,src:e,data:r,format:a,loadParser:o})):Array.isArray(t)?h.push(...t):h.push(t);let c;c=d=>{this.hasKey(d)&&console.warn(`[Resolver] already has key: ${d} overwriting`)},Ni(h).forEach(d=>{const{src:p,srcs:g}=d;let{data:y,format:v,loadParser:_}=d;const x=Ni(p||g).map(T=>typeof T=="string"?qR(T):Array.isArray(T)?T:[T]),A=this.getAlias(d);Array.isArray(A)?A.forEach(c):c(A);const S=[];x.forEach(T=>{T.forEach(I=>{let B={};if(typeof I!="object"){B.src=I;for(let P=0;P<this._parsers.length;P++){const R=this._parsers[P];if(R.test(I)){B=R.parse(I);break}}}else y=I.data??y,v=I.format??v,_=I.loadParser??_,B={...B,...I};if(!A)throw new Error(`[Resolver] alias is undefined for this asset: ${B.src}`);B=this.buildResolvedAsset(B,{aliases:A,data:y,format:v,loadParser:_}),S.push(B)})}),A.forEach(T=>{this._assetMap[T]=S})})}resolveBundle(t){const e=Fu(t);t=Ni(t);const r={};return t.forEach(a=>{const o=this._bundles[a];if(o){const h=this.resolve(o),c={};for(const d in h){const p=h[d];c[this._extractAssetIdFromBundle(a,d)]=p}r[a]=c}}),e?r[t[0]]:r}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const r={};for(const a in e)r[a]=e[a].src;return r}return e.src}resolve(t){const e=Fu(t);t=Ni(t);const r={};return t.forEach(a=>{if(!this._resolverHash[a])if(this._assetMap[a]){let o=this._assetMap[a];const h=o[0],c=this._getPreferredOrder(o);c?.priority.forEach(d=>{c.params[d].forEach(p=>{const g=o.filter(y=>y[d]?y[d]===p:!1);g.length&&(o=g)})}),this._resolverHash[a]=o[0]??h}else this._resolverHash[a]=this.buildResolvedAsset({alias:[a],src:a},{});r[a]=this._resolverHash[a]}),e?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const r=t[0],a=this._preferredOrder.find(o=>o.params.format.includes(r.format));if(a)return a}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}buildResolvedAsset(t,e){const{aliases:r,data:a,loadParser:o,format:h}=e;return(this._basePath||this._rootPath)&&(t.src=Ie.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=r??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...a||{},...t.data},t.loadParser=o??t.loadParser,t.format=h??t.format??Ie.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}class EC{constructor(){this._detections=[],this._initialized=!1,this.resolver=new bC,this.loader=new $R,this.cache=rs,this._backgroundLoader=new jR(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let o=t.manifest;typeof o=="string"&&(o=await this.load(o)),this.resolver.addManifest(o)}const e=t.texturePreference?.resolution??1,r=typeof e=="number"?[e]:e,a=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:a,resolution:r}}),t.preferences&&this.setPreferences(t.preferences)}add(t,e,r,a,o){this.resolver.add(t,e,r,a,o)}async load(t,e){this._initialized||await this.init();const r=Fu(t),a=Ni(t).map(c=>{if(typeof c!="string"){const d=this.resolver.getAlias(c);return d.some(p=>!this.resolver.hasKey(p))&&this.add(c),Array.isArray(d)?d[0]:d}return this.resolver.hasKey(c)||this.add({alias:c,src:c}),c}),o=this.resolver.resolve(a),h=await this._mapLoadToResolve(o,e);return r?h[a[0]]:h}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let r=!1;typeof t=="string"&&(r=!0,t=[t]);const a=this.resolver.resolveBundle(t),o={},h=Object.keys(a);let c=0,d=0;const p=()=>{e?.(++c/d)},g=h.map(y=>{const v=a[y];return d+=Object.keys(v).length,this._mapLoadToResolve(v,p).then(_=>{o[y]=_})});return await Promise.all(g),r?o[t[0]]:o}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return rs.get(t);const e={};for(let r=0;r<t.length;r++)e[r]=rs.get(t[r]);return e}async _mapLoadToResolve(t,e){const r=Object.values(t),a=Object.keys(t);this._backgroundLoader.active=!1;const o=await this.loader.load(r,e);this._backgroundLoader.active=!0;const h={};return r.forEach((c,d)=>{const p=o[c.src],g=[c.src];c.alias&&g.push(...c.alias),h[a[d]]=p,rs.set(g,p)}),h}async unload(t){this._initialized||await this.init();const e=Ni(t).map(a=>typeof a!="string"?a.src:a),r=this.resolver.resolve(e);await this._unloadFromResolved(r)}async unloadBundle(t){this._initialized||await this.init(),t=Ni(t);const e=this.resolver.resolveBundle(t),r=Object.keys(e).map(a=>this._unloadFromResolved(e[a]));await Promise.all(r)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(r=>{rs.remove(r.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const r of t.detections)t.skipDetections||await r.test()?e=await r.add(e):t.skipDetections||(e=await r.remove(e));return e=e.filter((r,a)=>e.indexOf(r)===a),e}get detections(){return this._detections}get preferWorkers(){return Qu.config.preferWorkers}set preferWorkers(t){Vt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(r=>r in t).forEach(r=>{e.config[r]=t[r]})})}}const ou=new EC;Et.handleByList(pt.LoadParser,ou.loader.parsers).handleByList(pt.ResolveParser,ou.resolver.parsers).handleByList(pt.CacheParser,ou.cache.parsers).handleByList(pt.DetectionParser,ou.detections);const TC={extension:pt.CacheParser,test:s=>Array.isArray(s)&&s.every(t=>t instanceof bt),getCacheableAssets:(s,t)=>{const e={};return s.forEach(r=>{t.forEach((a,o)=>{e[r+(o===0?"":o+1)]=a})}),e}};Et.add(TC);async function bb(s){if("Image"in globalThis)return new Promise(t=>{const e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=s});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(s)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const SC={extension:{type:pt.DetectionParser,priority:1},test:async()=>bb("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async s=>[...s,"avif"],remove:async s=>s.filter(t=>t!=="avif")};Et.add(SC);const AC={extension:{type:pt.DetectionParser,priority:0},test:async()=>bb("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async s=>[...s,"webp"],remove:async s=>s.filter(t=>t!=="webp")};Et.add(AC);const D_=["png","jpg","jpeg"],wC={extension:{type:pt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async s=>[...s,...D_],remove:async s=>s.filter(t=>!D_.includes(t))};Et.add(wC);const RC="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function zp(s){return RC?!1:document.createElement("video").canPlayType(s)!==""}const CC={extension:{type:pt.DetectionParser,priority:0},test:async()=>zp("video/webm"),add:async s=>[...s,"webm"],remove:async s=>s.filter(t=>t!=="webm")};Et.add(CC);const MC={extension:{type:pt.DetectionParser,priority:0},test:async()=>zp("video/mp4"),add:async s=>[...s,"mp4","m4v"],remove:async s=>s.filter(t=>t!=="mp4"&&t!=="m4v")};Et.add(MC);const DC={extension:{type:pt.DetectionParser,priority:0},test:async()=>zp("video/ogg"),add:async s=>[...s,"ogv"],remove:async s=>s.filter(t=>t!=="ogv")};Et.add(DC);const OC={extension:pt.ResolveParser,test:Qu.test,parse:s=>({resolution:parseFloat(gt.RETINA_PREFIX.exec(s)?.[1]??"1"),format:Ie.extname(s).slice(1),src:s})};Et.add(OC);var Fe=(s=>(s[s.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",s[s.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",s[s.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",s[s.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",s[s.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",s[s.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",s[s.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",s[s.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",s[s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",s[s.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",s[s.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",s[s.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",s[s.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",s[s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",s[s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",s[s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",s))(Fe||{});const Gu={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Zi,Ks;function O_(){Ks={bptc:Zi.getExtension("EXT_texture_compression_bptc"),astc:Zi.getExtension("WEBGL_compressed_texture_astc"),etc:Zi.getExtension("WEBGL_compressed_texture_etc"),s3tc:Zi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Zi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Zi.getExtension("WEBGL_compressed_texture_pvrtc")||Zi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Zi.getExtension("WEBGL_compressed_texture_etc1"),atc:Zi.getExtension("WEBGL_compressed_texture_atc")}}const BC={extension:{type:pt.DetectionParser,priority:2},test:async()=>{const s=gt.ADAPTER.createCanvas().getContext("webgl");return s?(Zi=s,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async s=>{Ks||O_();const t=[];for(const e in Ks)Ks[e]&&t.push(e);return[...t,...s]},remove:async s=>(Ks||O_(),s.filter(t=>!(t in Ks)))};Et.add(BC);class IC extends Yu{constructor(t,e={width:1,height:1,autoLoad:!0}){let r,a;typeof t=="string"?(r=t,a=new Uint8Array):(r=null,a=t),super(a,e),this.origin=r,this.buffer=a?new $d(a):null,this._load=null,this.loaded=!1,this.origin!==null&&e.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new $d(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class ss extends IC{constructor(t,e){super(t,e),this.format=e.format,this.levels=e.levels||1,this._width=e.width,this._height=e.height,this._extension=ss._formatToExtension(this.format),(e.levelBuffers||this.buffer)&&(this._levelBuffers=e.levelBuffers||ss._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,e,r){const a=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;a.pixelStorei(a.UNPACK_ALIGNMENT,4);for(let o=0,h=this.levels;o<h;o++){const{levelID:c,levelWidth:d,levelHeight:p,levelBuffer:g}=this._levelBuffers[o];a.compressedTexImage2D(a.TEXTURE_2D,c,this.format,d,p,0,g)}return!0}onBlobLoaded(){this._levelBuffers=ss._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t===36196)return"etc1";if(t===35986||t===35987||t===34798)return"atc";if(t>=36492&&t<=36495)return"bptc";if(t===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${t}`)}static _createLevelBuffers(t,e,r,a,o,h,c){const d=new Array(r);let p=t.byteOffset,g=h,y=c,v=g+a-1&~(a-1),_=y+o-1&~(o-1),x=v*_*Gu[e];for(let A=0;A<r;A++)d[A]={levelID:A,levelWidth:r>1?g:v,levelHeight:r>1?y:_,levelBuffer:new Uint8Array(t.buffer,p,x)},p+=x,g=g>>1||1,y=y>>1||1,v=g+a-1&~(a-1),_=y+o-1&~(o-1),x=v*_*Gu[e];return d}}const Dd=4,uu=124,NC=32,B_=20,PC=542327876,hu={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},UC={FOURCC:2},cu={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},LC=1,FC=2,GC=4,kC=64,HC=512,zC=131072,XC=827611204,VC=861165636,jC=894720068,qC=808540228,YC=4,$C={[XC]:Fe.COMPRESSED_RGBA_S3TC_DXT1_EXT,[VC]:Fe.COMPRESSED_RGBA_S3TC_DXT3_EXT,[jC]:Fe.COMPRESSED_RGBA_S3TC_DXT5_EXT},WC={70:Fe.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Fe.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Fe.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Fe.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Fe.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Fe.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Fe.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Fe.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Fe.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Fe.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Fe.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Fe.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Fe.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function ZC(s){const t=new Uint32Array(s);if(t[0]!==PC)throw new Error("Invalid DDS file magic word");const e=new Uint32Array(s,0,uu/Uint32Array.BYTES_PER_ELEMENT),r=e[hu.HEIGHT],a=e[hu.WIDTH],o=e[hu.MIPMAP_COUNT],h=new Uint32Array(s,hu.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,NC/Uint32Array.BYTES_PER_ELEMENT),c=h[LC];if(c&GC){const d=h[UC.FOURCC];if(d!==qC){const I=$C[d],B=Dd+uu,P=new Uint8Array(s,B);return[new ss(P,{format:I,width:a,height:r,levels:o})]}const p=Dd+uu,g=new Uint32Array(t.buffer,p,B_/Uint32Array.BYTES_PER_ELEMENT),y=g[cu.DXGI_FORMAT],v=g[cu.RESOURCE_DIMENSION],_=g[cu.MISC_FLAG],x=g[cu.ARRAY_SIZE],A=WC[y];if(A===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${y}`);if(_===YC)throw new Error("DDSParser does not support cubemap textures");if(v===6)throw new Error("DDSParser does not supported 3D texture data");const S=new Array,T=Dd+uu+B_;if(x===1)S.push(new Uint8Array(s,T));else{const I=Gu[A];let B=0,P=a,R=r;for(let M=0;M<o;M++){const z=Math.max(1,P+3&-4),Z=Math.max(1,R+3&-4),rt=z*Z*I;B+=rt,P=P>>>1,R=R>>>1}let k=T;for(let M=0;M<x;M++)S.push(new Uint8Array(s,k,B)),k+=B}return S.map(I=>new ss(I,{format:A,width:a,height:r,levels:o}))}throw c&kC?new Error("DDSParser does not support uncompressed texture data."):c&HC?new Error("DDSParser does not supported YUV uncompressed texture data."):c&zC?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&FC?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const I_=[171,75,84,88,32,49,49,187,13,10,26,10],KC=67305985,Di={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},_p=64,N_={[Rt.UNSIGNED_BYTE]:1,[Rt.UNSIGNED_SHORT]:2,[Rt.INT]:4,[Rt.UNSIGNED_INT]:4,[Rt.FLOAT]:4,[Rt.HALF_FLOAT]:8},QC={[ht.RGBA]:4,[ht.RGB]:3,[ht.RG]:2,[ht.RED]:1,[ht.LUMINANCE]:1,[ht.LUMINANCE_ALPHA]:2,[ht.ALPHA]:1},JC={[Rt.UNSIGNED_SHORT_4_4_4_4]:2,[Rt.UNSIGNED_SHORT_5_5_5_1]:2,[Rt.UNSIGNED_SHORT_5_6_5]:2};function tM(s,t,e=!1){const r=new DataView(t);if(!eM(s,r))return null;const a=r.getUint32(Di.ENDIANNESS,!0)===KC,o=r.getUint32(Di.GL_TYPE,a),h=r.getUint32(Di.GL_FORMAT,a),c=r.getUint32(Di.GL_INTERNAL_FORMAT,a),d=r.getUint32(Di.PIXEL_WIDTH,a),p=r.getUint32(Di.PIXEL_HEIGHT,a)||1,g=r.getUint32(Di.PIXEL_DEPTH,a)||1,y=r.getUint32(Di.NUMBER_OF_ARRAY_ELEMENTS,a)||1,v=r.getUint32(Di.NUMBER_OF_FACES,a),_=r.getUint32(Di.NUMBER_OF_MIPMAP_LEVELS,a),x=r.getUint32(Di.BYTES_OF_KEY_VALUE_DATA,a);if(p===0||g!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(y!==1)throw new Error("WebGL does not support array textures");const A=4,S=4,T=d+3&-4,I=p+3&-4,B=new Array(y);let P=d*p;o===0&&(P=T*I);let R;if(o!==0?N_[o]?R=N_[o]*QC[h]:R=JC[o]:R=Gu[c],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const k=e?rM(r,x,a):null;let M=P*R,z=d,Z=p,rt=T,tt=I,G=_p+x;for(let J=0;J<_;J++){const et=r.getUint32(G,a);let dt=G+4;for(let w=0;w<y;w++){let D=B[w];D||(D=B[w]=new Array(_)),D[J]={levelID:J,levelWidth:_>1||o!==0?z:rt,levelHeight:_>1||o!==0?Z:tt,levelBuffer:new Uint8Array(t,dt,M)},dt+=M}G+=et+4,G=G%4!==0?G+4-G%4:G,z=z>>1||1,Z=Z>>1||1,rt=z+A-1&-4,tt=Z+S-1&-4,M=rt*tt*R}return o!==0?{uncompressed:B.map(J=>{let et=J[0].levelBuffer,dt=!1;return o===Rt.FLOAT?et=new Float32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4):o===Rt.UNSIGNED_INT?(dt=!0,et=new Uint32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4)):o===Rt.INT&&(dt=!0,et=new Int32Array(J[0].levelBuffer.buffer,J[0].levelBuffer.byteOffset,J[0].levelBuffer.byteLength/4)),{resource:new Yu(et,{width:J[0].levelWidth,height:J[0].levelHeight}),type:o,format:dt?iM(h):h}}),kvData:k}:{compressed:B.map(J=>new ss(null,{format:c,width:d,height:p,levels:_,levelBuffers:J})),kvData:k}}function eM(s,t){for(let e=0;e<I_.length;e++)if(t.getUint8(e)!==I_[e])return console.error(`${s} is not a valid *.ktx file!`),!1;return!0}function iM(s){switch(s){case ht.RGBA:return ht.RGBA_INTEGER;case ht.RGB:return ht.RGB_INTEGER;case ht.RG:return ht.RG_INTEGER;case ht.RED:return ht.RED_INTEGER;default:return s}}function rM(s,t,e){const r=new Map;let a=0;for(;a<t;){const o=s.getUint32(_p+a,e),h=_p+a+4,c=3-(o+3)%4;if(o===0||o>t-a){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let d=0;for(;d<o&&s.getUint8(h+d)!==0;d++);if(d===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const p=new TextDecoder().decode(new Uint8Array(s.buffer,h,d)),g=new DataView(s.buffer,h+d+1,o-d-1);r.set(p,g),a+=4+o+c}return r}const nM={extension:{type:pt.LoadParser,priority:Fi.High},name:"loadDDS",test(s){return Rn(s,".dds")},async load(s,t,e){const r=await(await gt.ADAPTER.fetch(s)).arrayBuffer(),a=ZC(r).map(o=>{const h=new Nt(o,{mipmap:nr.OFF,alphaMode:Je.NO_PREMULTIPLIED_ALPHA,resolution:Lr(s),...t.data});return Nl(h,e,s)});return a.length===1?a[0]:a},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};Et.add(nM);const sM={extension:{type:pt.LoadParser,priority:Fi.High},name:"loadKTX",test(s){return Rn(s,".ktx")},async load(s,t,e){const r=await(await gt.ADAPTER.fetch(s)).arrayBuffer(),{compressed:a,uncompressed:o,kvData:h}=tM(s,r),c=a??o,d={mipmap:nr.OFF,alphaMode:Je.NO_PREMULTIPLIED_ALPHA,resolution:Lr(s),...t.data},p=c.map(g=>{c===o&&Object.assign(d,{type:g.type,format:g.format});const y=g.resource??g,v=new Nt(y,d);return v.ktxKeyValueData=h,Nl(v,e,s)});return p.length===1?p[0]:p},unload(s){Array.isArray(s)?s.forEach(t=>t.destroy(!0)):s.destroy(!0)}};Et.add(sM);const aM=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],lM={extension:pt.ResolveParser,test:s=>{const t=Ie.extname(s).slice(1);return["basis","ktx","dds"].includes(t)},parse:s=>{const t=s.split("."),e=t.pop();if(["ktx","dds"].includes(e)){const r=t.pop();if(aM.includes(r))return{resolution:parseFloat(gt.RETINA_PREFIX.exec(s)?.[1]??"1"),format:r,src:s}}return{resolution:parseFloat(gt.RETINA_PREFIX.exec(s)?.[1]??"1"),format:e,src:s}}};Et.add(lM);const fu=new Ut,oM=4,Eb=class Tl{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,e,r,a){const o=new Image;return o.src=await this.base64(t,e,r,a),o}async base64(t,e,r,a){const o=this.canvas(t,a);if(o.toBlob!==void 0)return new Promise((h,c)=>{o.toBlob(d=>{if(!d){c(new Error("ICanvas.toBlob failed!"));return}const p=new FileReader;p.onload=()=>h(p.result),p.onerror=c,p.readAsDataURL(d)},e,r)});if(o.toDataURL!==void 0)return o.toDataURL(e,r);if(o.convertToBlob!==void 0){const h=await o.convertToBlob({type:e,quality:r});return new Promise((c,d)=>{const p=new FileReader;p.onload=()=>c(p.result),p.onerror=d,p.readAsDataURL(h)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:a,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,e);h&&Tl._flipY(r,a,o),c&&Tl._unpremultiplyAlpha(r);const d=new zA(a,o,1),p=new ImageData(new Uint8ClampedArray(r.buffer),a,o);return d.context.putImageData(p,0,0),d.canvas}pixels(t,e){const{pixels:r,width:a,height:o,flipY:h,premultipliedAlpha:c}=this._rawPixels(t,e);return h&&Tl._flipY(r,a,o),c&&Tl._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let a,o=!1,h=!1,c,d=!1;t&&(t instanceof hs?c=t:(c=r.generateTexture(t,{region:e,resolution:r.resolution,multisample:r.multisample}),d=!0,e&&(fu.width=e.width,fu.height=e.height,e=fu)));const p=r.gl;if(c){if(a=c.baseTexture.resolution,e=e??c.frame,o=!1,h=c.baseTexture.alphaMode>0&&c.baseTexture.format===ht.RGBA,!d){r.renderTexture.bind(c);const _=c.framebuffer.glFramebuffers[r.CONTEXT_UID];_.blitFramebuffer&&r.framebuffer.bind(_.blitFramebuffer)}}else a=r.resolution,e||(e=fu,e.width=r.width/a,e.height=r.height/a),o=!0,h=this._rendererPremultipliedAlpha,r.renderTexture.bind();const g=Math.max(Math.round(e.width*a),1),y=Math.max(Math.round(e.height*a),1),v=new Uint8Array(oM*g*y);return p.readPixels(Math.round(e.x*a),Math.round(e.y*a),g,y,p.RGBA,p.UNSIGNED_BYTE,v),d&&c?.destroy(!0),{pixels:v,width:g,height:y,flipY:o,premultipliedAlpha:h}}destroy(){this.renderer=null}static _flipY(t,e,r){const a=e<<2,o=r>>1,h=new Uint8Array(a);for(let c=0;c<o;c++){const d=c*a,p=(r-c-1)*a;h.set(t.subarray(d,d+a)),t.copyWithin(d,p,p+a),t.set(h,p)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const a=t[r+3];if(a!==0){const o=255.001/a;t[r]=t[r]*o+.5,t[r+1]=t[r+1]*o+.5,t[r+2]=t[r+2]*o+.5}}}};Eb.extension={name:"extract",type:pt.RendererSystem};let uM=Eb;Et.add(uM);const ku={build(s){const t=s.points;let e,r,a,o,h,c;if(s.type===Ge.CIRC){const x=s.shape;e=x.x,r=x.y,h=c=x.radius,a=o=0}else if(s.type===Ge.ELIP){const x=s.shape;e=x.x,r=x.y,h=x.width,c=x.height,a=o=0}else{const x=s.shape,A=x.width/2,S=x.height/2;e=x.x+A,r=x.y+S,h=c=Math.max(0,Math.min(x.radius,Math.min(A,S))),a=A-h,o=S-c}if(!(h>=0&&c>=0&&a>=0&&o>=0)){t.length=0;return}const d=Math.ceil(2.3*Math.sqrt(h+c)),p=d*8+(a?4:0)+(o?4:0);if(t.length=p,p===0)return;if(d===0){t.length=8,t[0]=t[6]=e+a,t[1]=t[3]=r+o,t[2]=t[4]=e-a,t[5]=t[7]=r-o;return}let g=0,y=d*4+(a?2:0)+2,v=y,_=p;{const x=a+h,A=o,S=e+x,T=e-x,I=r+A;if(t[g++]=S,t[g++]=I,t[--y]=I,t[--y]=T,o){const B=r-A;t[v++]=T,t[v++]=B,t[--_]=B,t[--_]=S}}for(let x=1;x<d;x++){const A=Math.PI/2*(x/d),S=a+Math.cos(A)*h,T=o+Math.sin(A)*c,I=e+S,B=e-S,P=r+T,R=r-T;t[g++]=I,t[g++]=P,t[--y]=P,t[--y]=B,t[v++]=B,t[v++]=R,t[--_]=R,t[--_]=I}{const x=a,A=o+c,S=e+x,T=e-x,I=r+A,B=r-A;t[g++]=S,t[g++]=I,t[--_]=B,t[--_]=S,a&&(t[g++]=T,t[g++]=I,t[--_]=B,t[--_]=T)}},triangulate(s,t){const e=s.points,r=t.points,a=t.indices;if(e.length===0)return;let o=r.length/2;const h=o;let c,d;if(s.type!==Ge.RREC){const g=s.shape;c=g.x,d=g.y}else{const g=s.shape;c=g.x+g.width/2,d=g.y+g.height/2}const p=s.matrix;r.push(s.matrix?p.a*c+p.c*d+p.tx:c,s.matrix?p.b*c+p.d*d+p.ty:d),o++,r.push(e[0],e[1]);for(let g=2;g<e.length;g+=2)r.push(e[g],e[g+1]),a.push(o++,h,o);a.push(h+1,h,o)}};function P_(s,t=!1){const e=s.length;if(e<6)return;let r=0;for(let a=0,o=s[e-2],h=s[e-1];a<e;a+=2){const c=s[a],d=s[a+1];r+=(c-o)*(d+h),o=c,h=d}if(!t&&r>0||t&&r<=0){const a=e/2;for(let o=a+a%2;o<e;o+=2){const h=e-o-2,c=e-o-1,d=o,p=o+1;[s[h],s[d]]=[s[d],s[h]],[s[c],s[p]]=[s[p],s[c]]}}}const Tb={build(s){s.points=s.shape.points.slice()},triangulate(s,t){let e=s.points;const r=s.holes,a=t.points,o=t.indices;if(e.length>=6){P_(e,!1);const h=[];for(let p=0;p<r.length;p++){const g=r[p];P_(g.points,!0),h.push(e.length/2),e=e.concat(g.points)}const c=kS(e,h,2);if(!c)return;const d=a.length/2;for(let p=0;p<c.length;p+=3)o.push(c[p]+d),o.push(c[p+1]+d),o.push(c[p+2]+d);for(let p=0;p<e.length;p++)a.push(e[p])}}},hM={build(s){const t=s.shape,e=t.x,r=t.y,a=t.width,o=t.height,h=s.points;h.length=0,a>=0&&o>=0&&h.push(e,r,e+a,r,e+a,r+o,e,r+o)},triangulate(s,t){const e=s.points,r=t.points;if(e.length===0)return;const a=r.length/2;r.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(a,a+1,a+2,a+1,a+2,a+3)}},cM={build(s){ku.build(s)},triangulate(s,t){ku.triangulate(s,t)}};var _i=(s=>(s.MITER="miter",s.BEVEL="bevel",s.ROUND="round",s))(_i||{}),Sn=(s=>(s.BUTT="butt",s.ROUND="round",s.SQUARE="square",s))(Sn||{});const oa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(s,t=20){if(!this.adaptive||!s||isNaN(s))return t;let e=Math.ceil(s/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}};class U_{static curveTo(t,e,r,a,o,h){const c=h[h.length-2],d=h[h.length-1]-e,p=c-t,g=a-e,y=r-t,v=Math.abs(d*y-p*g);if(v<1e-8||o===0)return(h[h.length-2]!==t||h[h.length-1]!==e)&&h.push(t,e),null;const _=d*d+p*p,x=g*g+y*y,A=d*g+p*y,S=o*Math.sqrt(_)/v,T=o*Math.sqrt(x)/v,I=S*A/_,B=T*A/x,P=S*y+T*p,R=S*g+T*d,k=p*(T+I),M=d*(T+I),z=y*(S+B),Z=g*(S+B),rt=Math.atan2(M-R,k-P),tt=Math.atan2(Z-R,z-P);return{cx:P+t,cy:R+e,radius:o,startAngle:rt,endAngle:tt,anticlockwise:p*g>y*d}}static arc(t,e,r,a,o,h,c,d,p){const g=c-h,y=oa._segmentsCount(Math.abs(g)*o,Math.ceil(Math.abs(g)/Ou)*40),v=g/(y*2),_=v*2,x=Math.cos(v),A=Math.sin(v),S=y-1,T=S%1/S;for(let I=0;I<=S;++I){const B=I+T*I,P=v+h+_*B,R=Math.cos(P),k=-Math.sin(P);p.push((x*R+A*k)*o+r,(x*-k+A*R)*o+a)}}}class fM{constructor(){this.reset()}begin(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r}end(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Xp{static curveLength(t,e,r,a,o,h,c,d){let p=0,g=0,y=0,v=0,_=0,x=0,A=0,S=0,T=0,I=0,B=0,P=t,R=e;for(let k=1;k<=10;++k)g=k/10,y=g*g,v=y*g,_=1-g,x=_*_,A=x*_,S=A*t+3*x*g*r+3*_*y*o+v*c,T=A*e+3*x*g*a+3*_*y*h+v*d,I=P-S,B=R-T,P=S,R=T,p+=Math.sqrt(I*I+B*B);return p}static curveTo(t,e,r,a,o,h,c){const d=c[c.length-2],p=c[c.length-1];c.length-=2;const g=oa._segmentsCount(Xp.curveLength(d,p,t,e,r,a,o,h));let y=0,v=0,_=0,x=0,A=0;c.push(d,p);for(let S=1,T=0;S<=g;++S)T=S/g,y=1-T,v=y*y,_=v*y,x=T*T,A=x*T,c.push(_*d+3*v*T*t+3*y*x*r+A*o,_*p+3*v*T*e+3*y*x*a+A*h)}}function L_(s,t,e,r,a,o,h,c){const d=s-e*a,p=t-r*a,g=s+e*o,y=t+r*o;let v,_;h?(v=r,_=-e):(v=-r,_=e);const x=d+v,A=p+_,S=g+v,T=y+_;return c.push(x,A,S,T),2}function Zn(s,t,e,r,a,o,h,c){const d=e-s,p=r-t;let g=Math.atan2(d,p),y=Math.atan2(a-s,o-t);c&&g<y?g+=Math.PI*2:!c&&g>y&&(y+=Math.PI*2);let v=g;const _=y-g,x=Math.abs(_),A=Math.sqrt(d*d+p*p),S=(15*x*Math.sqrt(A)/Math.PI>>0)+1,T=_/S;if(v+=T,c){h.push(s,t,e,r);for(let I=1,B=v;I<S;I++,B+=T)h.push(s,t,s+Math.sin(B)*A,t+Math.cos(B)*A);h.push(s,t,a,o)}else{h.push(e,r,s,t);for(let I=1,B=v;I<S;I++,B+=T)h.push(s+Math.sin(B)*A,t+Math.cos(B)*A,s,t);h.push(a,o,s,t)}return S*2}function dM(s,t){const e=s.shape;let r=s.points||e.points.slice();const a=t.closePointEps;if(r.length===0)return;const o=s.lineStyle,h=new qt(r[0],r[1]),c=new qt(r[r.length-2],r[r.length-1]),d=e.type!==Ge.POLY||e.closeStroke,p=Math.abs(h.x-c.x)<a&&Math.abs(h.y-c.y)<a;if(d){r=r.slice(),p&&(r.pop(),r.pop(),c.set(r[r.length-2],r[r.length-1]));const D=(h.x+c.x)*.5,O=(c.y+h.y)*.5;r.unshift(D,O),r.push(D,O)}const g=t.points,y=r.length/2;let v=r.length;const _=g.length/2,x=o.width/2,A=x*x,S=o.miterLimit*o.miterLimit;let T=r[0],I=r[1],B=r[2],P=r[3],R=0,k=0,M=-(I-P),z=T-B,Z=0,rt=0,tt=Math.sqrt(M*M+z*z);M/=tt,z/=tt,M*=x,z*=x;const G=o.alignment,J=(1-G)*2,et=G*2;d||(o.cap===Sn.ROUND?v+=Zn(T-M*(J-et)*.5,I-z*(J-et)*.5,T-M*J,I-z*J,T+M*et,I+z*et,g,!0)+2:o.cap===Sn.SQUARE&&(v+=L_(T,I,M,z,J,et,!0,g))),g.push(T-M*J,I-z*J,T+M*et,I+z*et);for(let D=1;D<y-1;++D){T=r[(D-1)*2],I=r[(D-1)*2+1],B=r[D*2],P=r[D*2+1],R=r[(D+1)*2],k=r[(D+1)*2+1],M=-(I-P),z=T-B,tt=Math.sqrt(M*M+z*z),M/=tt,z/=tt,M*=x,z*=x,Z=-(P-k),rt=B-R,tt=Math.sqrt(Z*Z+rt*rt),Z/=tt,rt/=tt,Z*=x,rt*=x;const O=B-T,X=I-P,E=B-R,N=k-P,F=O*E+X*N,L=X*E-N*O,$=L<0;if(Math.abs(L)<.001*Math.abs(F)){g.push(B-M*J,P-z*J,B+M*et,P+z*et),F>=0&&(o.join===_i.ROUND?v+=Zn(B,P,B-M*J,P-z*J,B-Z*J,P-rt*J,g,!1)+4:v+=2,g.push(B-Z*et,P-rt*et,B+Z*J,P+rt*J));continue}const st=(-M+T)*(-z+P)-(-M+B)*(-z+I),lt=(-Z+R)*(-rt+P)-(-Z+B)*(-rt+k),ft=(O*lt-E*st)/L,ct=(N*st-X*lt)/L,yt=(ft-B)*(ft-B)+(ct-P)*(ct-P),ut=B+(ft-B)*J,vt=P+(ct-P)*J,xt=B-(ft-B)*et,Bt=P-(ct-P)*et,Gt=Math.min(O*O+X*X,E*E+N*N),Tt=$?J:et,At=Gt+Tt*Tt*A,$t=yt<=At;let ge=o.join;if(ge===_i.MITER&&yt/A>S&&(ge=_i.BEVEL),$t)switch(ge){case _i.MITER:{g.push(ut,vt,xt,Bt);break}case _i.BEVEL:{$?g.push(ut,vt,B+M*et,P+z*et,ut,vt,B+Z*et,P+rt*et):g.push(B-M*J,P-z*J,xt,Bt,B-Z*J,P-rt*J,xt,Bt),v+=2;break}case _i.ROUND:{$?(g.push(ut,vt,B+M*et,P+z*et),v+=Zn(B,P,B+M*et,P+z*et,B+Z*et,P+rt*et,g,!0)+4,g.push(ut,vt,B+Z*et,P+rt*et)):(g.push(B-M*J,P-z*J,xt,Bt),v+=Zn(B,P,B-M*J,P-z*J,B-Z*J,P-rt*J,g,!1)+4,g.push(B-Z*J,P-rt*J,xt,Bt));break}}else{switch(g.push(B-M*J,P-z*J,B+M*et,P+z*et),ge){case _i.MITER:{$?g.push(xt,Bt,xt,Bt):g.push(ut,vt,ut,vt),v+=2;break}case _i.ROUND:{$?v+=Zn(B,P,B+M*et,P+z*et,B+Z*et,P+rt*et,g,!0)+2:v+=Zn(B,P,B-M*J,P-z*J,B-Z*J,P-rt*J,g,!1)+2;break}}g.push(B-Z*J,P-rt*J,B+Z*et,P+rt*et),v+=2}}T=r[(y-2)*2],I=r[(y-2)*2+1],B=r[(y-1)*2],P=r[(y-1)*2+1],M=-(I-P),z=T-B,tt=Math.sqrt(M*M+z*z),M/=tt,z/=tt,M*=x,z*=x,g.push(B-M*J,P-z*J,B+M*et,P+z*et),d||(o.cap===Sn.ROUND?v+=Zn(B-M*(J-et)*.5,P-z*(J-et)*.5,B-M*J,P-z*J,B+M*et,P+z*et,g,!1)+2:o.cap===Sn.SQUARE&&(v+=L_(B,P,M,z,J,et,!1,g)));const dt=t.indices,w=oa.epsilon*oa.epsilon;for(let D=_;D<v+_-2;++D)T=g[D*2],I=g[D*2+1],B=g[(D+1)*2],P=g[(D+1)*2+1],R=g[(D+2)*2],k=g[(D+2)*2+1],!(Math.abs(T*(P-k)+B*(k-I)+R*(I-P))<w)&&dt.push(D,D+1,D+2)}function pM(s,t){let e=0;const r=s.shape,a=s.points||r.points,o=r.type!==Ge.POLY||r.closeStroke;if(a.length===0)return;const h=t.points,c=t.indices,d=a.length/2,p=h.length/2;let g=p;for(h.push(a[0],a[1]),e=1;e<d;e++)h.push(a[e*2],a[e*2+1]),c.push(g,g+1),g++;o&&c.push(g,p)}function F_(s,t){s.lineStyle.native?pM(s,t):dM(s,t)}class Vp{static curveLength(t,e,r,a,o,h){const c=t-2*r+o,d=e-2*a+h,p=2*r-2*t,g=2*a-2*e,y=4*(c*c+d*d),v=4*(c*p+d*g),_=p*p+g*g,x=2*Math.sqrt(y+v+_),A=Math.sqrt(y),S=2*y*A,T=2*Math.sqrt(_),I=v/A;return(S*x+A*v*(x-T)+(4*_*y-v*v)*Math.log((2*A+I+x)/(I+T)))/(4*S)}static curveTo(t,e,r,a,o){const h=o[o.length-2],c=o[o.length-1],d=oa._segmentsCount(Vp.curveLength(h,c,t,e,r,a));let p=0,g=0;for(let y=1;y<=d;++y){const v=y/d;p=h+(t-h)*v,g=c+(e-c)*v,o.push(p+(t+(r-t)*v-p)*v,g+(e+(a-e)*v-g)*v)}}}const Od={[Ge.POLY]:Tb,[Ge.CIRC]:ku,[Ge.ELIP]:ku,[Ge.RECT]:hM,[Ge.RREC]:cM},G_=[],du=[];class Hu{constructor(t,e=null,r=null,a=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=a,this.type=t.type}clone(){return new Hu(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Ys=new qt,Sb=class Ab extends Dx{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Uu,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),du.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),G_.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,a=null){const o=new Hu(t,e,r,a);return this.graphicsData.push(o),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new Hu(t,null,null,e),a=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=a.lineStyle,a.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const a=e[r];if(a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(t,Ys):Ys.copyFrom(t),a.shape.contains(Ys.x,Ys.y))){let o=!1;if(a.holes){for(let h=0;h<a.holes.length;h++)if(a.holes[h].shape.contains(Ys.x,Ys.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,a=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],a=r.style);for(let d=this.shapeIndex;d<e.length;d++){this.shapeIndex++;const p=e[d],g=p.fillStyle,y=p.lineStyle;Od[p.type].build(p),p.matrix&&this.transformPoints(p.points,p.matrix),(g.visible||y.visible)&&this.processHoles(p.holes);for(let v=0;v<2;v++){const _=v===0?g:y;if(!_.visible)continue;const x=_.texture.baseTexture,A=this.indices.length,S=this.points.length/2;x.wrapMode=An.REPEAT,v===0?this.processFill(p):this.processLine(p);const T=this.points.length/2-S;T!==0&&(r&&!this._compareStyles(a,_)&&(r.end(A,S),r=null),r||(r=G_.pop()||new fM,r.begin(_,A,S),this.batches.push(r),a=_),this.addUvs(this.points,t,_.texture,S,T,_.matrix))}}const o=this.indices.length,h=this.points.length/2;if(r&&r.end(o,h),this.batches.length===0){this.batchable=!0;return}const c=h>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&c===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=c?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],a=r.fillStyle,o=r.lineStyle;if(a&&!a.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const a=t[e];for(let o=0;o<a.size;o++){const h=a.start+o;this.indicesUint16[h]=this.indicesUint16[h]-a.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<Ab.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Nt._globalBatch;for(let y=0;y<this.drawCalls.length;y++)this.drawCalls[y].texArray.clear(),du.push(this.drawCalls[y]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let a=du.pop();a||(a=new Kd,a.texArray=new ep),a.texArray.count=0,a.start=0,a.size=0,a.type=tr.TRIANGLES;let o=0,h=null,c=0,d=!1,p=tr.TRIANGLES,g=0;this.drawCalls.push(a);for(let y=0;y<this.batches.length;y++){const v=this.batches[y],_=8,x=v.style,A=x.texture.baseTexture;d!==!!x.native&&(d=!!x.native,p=d?tr.LINES:tr.TRIANGLES,h=null,o=_,t++),h!==A&&(h=A,A._batchEnabled!==t&&(o===_&&(t++,o=0,a.size>0&&(a=du.pop(),a||(a=new Kd,a.texArray=new ep),this.drawCalls.push(a)),a.start=g,a.size=0,a.texArray.count=0,a.type=p),A.touched=1,A._batchEnabled=t,A._batchLocation=o,A.wrapMode=An.REPEAT,a.texArray.elements[a.texArray.count++]=A,o++)),a.size+=v.size,g+=v.size,c=A._batchLocation,this.addColors(e,x.color,x.alpha,v.attribSize,v.attribStart),this.addTextureIds(r,c,v.attribSize,v.attribStart)}Nt._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,a=this.textureIds,o=new ArrayBuffer(t.length*3*4),h=new Float32Array(o),c=new Uint32Array(o);let d=0;for(let p=0;p<t.length/2;p++)h[d++]=t[p*2],h[d++]=t[p*2+1],h[d++]=e[p*2],h[d++]=e[p*2+1],c[d++]=r[p],h[d++]=a[p];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Tb.triangulate(t,this):Od[t.type].triangulate(t,this)}processLine(t){F_(t,this);for(let e=0;e<t.holes.length;e++)F_(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Od[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const a=t[r*2],o=t[r*2+1];t[r*2]=e.a*a+e.c*o+e.tx,t[r*2+1]=e.b*a+e.d*o+e.ty}}addColors(t,e,r,a,o=0){const h=ae.shared.setValue(e).toLittleEndianNumber(),c=ae.shared.setValue(h).toPremultiplied(r);t.length=Math.max(t.length,o+a);for(let d=0;d<a;d++)t[o+d]=c}addTextureIds(t,e,r,a=0){t.length=Math.max(t.length,a+r);for(let o=0;o<r;o++)t[a+o]=e}addUvs(t,e,r,a,o,h=null){let c=0;const d=e.length,p=r.frame;for(;c<o;){let y=t[(a+c)*2],v=t[(a+c)*2+1];if(h){const _=h.a*y+h.c*v+h.tx;v=h.b*y+h.d*v+h.ty,y=_}c++,e.push(y/p.width,v/p.height)}const g=r.baseTexture;(p.width<g.width||p.height<g.height)&&this.adjustUvs(e,r,d,o)}adjustUvs(t,e,r,a){const o=e.baseTexture,h=1e-6,c=r+a*2,d=e.frame,p=d.width/o.width,g=d.height/o.height;let y=d.x/d.width,v=d.y/d.height,_=Math.floor(t[r]+h),x=Math.floor(t[r+1]+h);for(let A=r+2;A<c;A+=2)_=Math.min(_,Math.floor(t[A]+h)),x=Math.min(x,Math.floor(t[A+1]+h));y-=_,v-=x;for(let A=r;A<c;A+=2)t[A]=(t[A]+y)*p,t[A+1]=(t[A+1]+v)*g}};Sb.BATCHABLE_SIZE=100;let mM=Sb;class Ju{constructor(){this.color=16777215,this.alpha=1,this.texture=bt.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Ju;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=bt.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class jp extends Ju{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Sn.BUTT,this.join=_i.MITER,this.miterLimit=10}clone(){const t=new jp;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Sn.BUTT,this.join=_i.MITER,this.miterLimit=10}}const Bd={},xp=class Su extends Li{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Ju,this._lineStyle=new jp,this._matrix=null,this._holeMode=!1,this.state=ar.for2d(),this._geometry=t||new mM,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ae(16777215),this.blendMode=Dt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Su(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,a=.5,o=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:a,native:o}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:bt.WHITE,color:t?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Sn.BUTT,join:_i.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new ns,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new ns,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,a=r[r.length-2],o=r[r.length-1];return(a!==t||o!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,a){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),Vp.curveTo(t,e,r,a,o),this}bezierCurveTo(t,e,r,a,o,h){return this._initCurve(),Xp.curveTo(t,e,r,a,o,h,this.currentPath.points),this}arcTo(t,e,r,a,o){this._initCurve(t,e);const h=this.currentPath.points,c=U_.curveTo(t,e,r,a,o,h);if(c){const{cx:d,cy:p,radius:g,startAngle:y,endAngle:v,anticlockwise:_}=c;this.arc(d,p,g,y,v,_)}return this}arc(t,e,r,a,o,h=!1){if(a===o)return this;if(!h&&o<=a?o+=Ou:h&&a<=o&&(a+=Ou),o-a===0)return this;const c=t+Math.cos(a)*r,d=e+Math.sin(a)*r,p=this._geometry.closePointEps;let g=this.currentPath?this.currentPath.points:null;if(g){const y=Math.abs(g[g.length-2]-c),v=Math.abs(g[g.length-1]-d);y<p&&v<p||g.push(c,d)}else this.moveTo(c,d),g=this.currentPath.points;return U_.arc(c,d,t,e,r,a,o,h,g),this}beginFill(t=0,e){return this.beginTextureFill({texture:bt.WHITE,color:t,alpha:e})}normalizeColor(t){const e=ae.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:bt.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,a){return this.drawShape(new Ut(t,e,r,a))}drawRoundedRect(t,e,r,a,o){return this.drawShape(new Zu(t,e,r,a,o))}drawCircle(t,e,r){return this.drawShape(new $u(t,e,r))}drawEllipse(t,e,r,a){return this.drawShape(new Wu(t,e,r,a))}drawPolygon(...t){let e,r=!0;const a=t[0];a.points?(r=a.closeStroke,e=a.points):Array.isArray(t[0])?e=t[0]:e=t;const o=new ns(e);return o.closeStroke=r,this.drawShape(o),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Ge.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let a=0;a<r;a++){const o=t.batches[a],h=o.style.color,c=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),d=new Float32Array(t.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),p=new Uint16Array(t.indicesUint16.buffer,o.start*2,o.size),g={vertexData:c,blendMode:e,indices:p,uvs:d,_batchRGB:ae.shared.setValue(h).toRgbArray(),_tintRGB:h,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[a]=g}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const a=this.batches[e];a.worldAlpha=this.worldAlpha*a.alpha,t.plugins[this.pluginName].render(a)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,a=this.worldAlpha,o=e.uniforms,h=r.drawCalls;o.translationMatrix=this.transform.worldTransform,ae.shared.setValue(this._tintColor).premultiply(a).toArray(o.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let c=0,d=h.length;c<d;c++)this._renderDrawCallDirect(t,r.drawCalls[c])}_renderDrawCallDirect(t,e){const{texArray:r,type:a,size:o,start:h}=e,c=r.count;for(let d=0;d<c;d++)t.texture.bind(r.elements[d],d);t.geometry.draw(a,o,h)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!Bd[r]){const{maxTextures:a}=t.plugins[r],o=new Int32Array(a);for(let d=0;d<a;d++)o[d]=d;const h={tint:new Float32Array([1,1,1,1]),translationMatrix:new le,default:Ui.from({uSamplers:o},!0)},c=t.plugins[r]._shader.program;Bd[r]=new ir(c,h)}e=Bd[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:a,maxY:o}=t.bounds;this._bounds.addFrame(this.transform,e,r,a,o)}containsPoint(t){return this.worldTransform.applyInverse(t,Su._TEMP_POINT),this._geometry.containsPoint(Su._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=ae.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,a=e.b,o=e.c,h=e.d,c=e.tx,d=e.ty,p=this._geometry.points,g=this.vertexData;let y=0;for(let v=0;v<p.length;v+=2){const _=p[v],x=p[v+1];g[y++]=r*_+o*x+c,g[y++]=h*x+a*_+d}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};xp.curves=oa,xp._TEMP_POINT=new qt;let Ii=xp;class gM{constructor(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}}const Id=new qt,k_=new ns,wb=class Rb extends Li{constructor(t,e,r,a=tr.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||ar.for2d(),this.drawMode=a,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=gt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===tr.TRIANGLES&&e.length<Rb.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const a=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[a]),t.plugins[a].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const a=this.transform.worldTransform,o=a.a,h=a.b,c=a.c,d=a.d,p=a.tx,g=a.ty,y=this.vertexData;for(let v=0;v<y.length/2;v++){const _=e[v*2],x=e[v*2+1];y[v*2]=o*_+c*x+p,y[v*2+1]=h*_+d*x+g}if(this._roundPixels){const v=gt.RESOLUTION;for(let _=0;_<y.length;++_)y[_]=Math.round(y[_]*v)/v}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new gM(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Id);const e=this.geometry.getBuffer("aVertexPosition").data,r=k_.points,a=this.geometry.getIndex().data,o=a.length,h=this.drawMode===4?3:1;for(let c=0;c+2<o;c+=h){const d=a[c]*2,p=a[c+1]*2,g=a[c+2]*2;if(r[0]=e[d],r[1]=e[d+1],r[2]=e[p],r[3]=e[p+1],r[4]=e[g],r[5]=e[g+1],k_.contains(Id.x,Id.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};wb.BATCHABLE_SIZE=100;let H_=wb;class yM extends wn{constructor(t,e,r){super();const a=new _e(t),o=new _e(e,!0),h=new _e(r,!0,!0);this.addAttribute("aVertexPosition",a,2,!1,Rt.FLOAT).addAttribute("aTextureCoord",o,2,!1,Rt.FLOAT).addIndex(h),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var vM=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,_M=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class z_ extends ir{constructor(t,e){const r={uSampler:t,alpha:1,uTextureMatrix:le.IDENTITY,uColor:new Float32Array([1,1,1,1])};e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e),e.uniforms&&Object.assign(r,e.uniforms),super(e.program||Nr.from(_M,vM),r),this._colorDirty=!1,this.uvMatrix=new Vx(t),this.batchable=e.program===void 0,this.pluginName=e.pluginName,this._tintColor=new ae(e.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=e.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;ae.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class X_{constructor(t,e,r){this.geometry=new wn,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let a=0;a<t.length;++a){let o=t[a];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Rt.FLOAT,offset:o.offset},e[a]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let e=0;this.indexBuffer=new _e(kA(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];c.offset=e,e+=c.size,this.dynamicStride+=c.size}const r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new _e(this.dynamicData,!1,!1);let a=0;this.staticStride=0;for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];c.offset=a,a+=c.size,this.staticStride+=c.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new _e(this.staticData,!0,!1);for(let h=0;h<this.dynamicProperties.length;++h){const c=this.dynamicProperties[h];t.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===Rt.UNSIGNED_BYTE,c.type,this.dynamicStride*4,c.offset*4)}for(let h=0;h<this.staticProperties.length;++h){const c=this.staticProperties[h];t.addAttribute(c.attributeName,this.staticBuffer,0,c.type===Rt.UNSIGNED_BYTE,c.type,this.staticStride*4,c.offset*4)}}uploadDynamic(t,e,r){for(let a=0;a<this.dynamicProperties.length;a++){const o=this.dynamicProperties[a];o.uploadFunction(t,e,r,o.type===Rt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,e,r){for(let a=0;a<this.staticProperties.length;a++){const o=this.staticProperties[a];o.uploadFunction(t,e,r,o.type===Rt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var xM=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,bM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Cb extends Ku{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new le,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Rt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ir.from(bM,xM,{}),this.state=ar.for2d()}render(t){const e=t.children,r=t._maxSize,a=t._batchSize,o=this.renderer;let h=e.length;if(h===0)return;h>r&&!t.autoResize&&(h=r);let c=t._buffers;c||(c=t._buffers=this.generateBuffers(t));const d=e[0]._texture.baseTexture,p=d.alphaMode>0;this.state.blendMode=Rx(t.blendMode,p),o.state.set(this.state);const g=o.gl,y=t.worldTransform.copyTo(this.tempMatrix);y.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=ae.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,p).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=d,this.renderer.shader.bind(this.shader);let v=!1;for(let _=0,x=0;_<h;_+=a,x+=1){let A=h-_;A>a&&(A=a),x>=c.length&&c.push(this._generateOneMoreBuffer(t));const S=c[x];S.uploadDynamic(e,_,A);const T=t._bufferUpdateIDs[x]||0;v=v||S._updateID<T,v&&(S._updateID=t._updateID,S.uploadStatic(e,_,A)),o.geometry.bind(S.geometry),g.drawElements(g.TRIANGLES,A*6,g.UNSIGNED_SHORT,0)}}generateBuffers(t){const e=[],r=t._maxSize,a=t._batchSize,o=t._properties;for(let h=0;h<r;h+=a)e.push(new X_(this.properties,o,a));return e}_generateOneMoreBuffer(t){const e=t._batchSize,r=t._properties;return new X_(this.properties,r,e)}uploadVertices(t,e,r,a,o,h){let c=0,d=0,p=0,g=0;for(let y=0;y<r;++y){const v=t[e+y],_=v._texture,x=v.scale.x,A=v.scale.y,S=_.trim,T=_.orig;S?(d=S.x-v.anchor.x*T.width,c=d+S.width,g=S.y-v.anchor.y*T.height,p=g+S.height):(c=T.width*(1-v.anchor.x),d=T.width*-v.anchor.x,p=T.height*(1-v.anchor.y),g=T.height*-v.anchor.y),a[h]=d*x,a[h+1]=g*A,a[h+o]=c*x,a[h+o+1]=g*A,a[h+o*2]=c*x,a[h+o*2+1]=p*A,a[h+o*3]=d*x,a[h+o*3+1]=p*A,h+=o*4}}uploadPosition(t,e,r,a,o,h){for(let c=0;c<r;c++){const d=t[e+c].position;a[h]=d.x,a[h+1]=d.y,a[h+o]=d.x,a[h+o+1]=d.y,a[h+o*2]=d.x,a[h+o*2+1]=d.y,a[h+o*3]=d.x,a[h+o*3+1]=d.y,h+=o*4}}uploadRotation(t,e,r,a,o,h){for(let c=0;c<r;c++){const d=t[e+c].rotation;a[h]=d,a[h+o]=d,a[h+o*2]=d,a[h+o*3]=d,h+=o*4}}uploadUvs(t,e,r,a,o,h){for(let c=0;c<r;++c){const d=t[e+c]._texture._uvs;d?(a[h]=d.x0,a[h+1]=d.y0,a[h+o]=d.x1,a[h+o+1]=d.y1,a[h+o*2]=d.x2,a[h+o*2+1]=d.y2,a[h+o*3]=d.x3,a[h+o*3+1]=d.y3,h+=o*4):(a[h]=0,a[h+1]=0,a[h+o]=0,a[h+o+1]=0,a[h+o*2]=0,a[h+o*2+1]=0,a[h+o*3]=0,a[h+o*3+1]=0,h+=o*4)}}uploadTint(t,e,r,a,o,h){for(let c=0;c<r;++c){const d=t[e+c],p=ae.shared.setValue(d._tintRGB).toPremultiplied(d.alpha,d.texture.baseTexture.alphaMode>0);a[h]=p,a[h+o]=p,a[h+o*2]=p,a[h+o*3]=p,h+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Cb.extension={name:"particle",type:pt.RendererPlugin};Et.add(Cb);var th=(s=>(s[s.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",s[s.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",s))(th||{});const pu={willReadFrequently:!0},Ki=class St{static get experimentalLetterSpacingSupported(){let t=St._experimentalLetterSpacingSupported;if(t!==void 0){const e=gt.ADAPTER.getCanvasRenderingContext2D().prototype;t=St._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,a,o,h,c,d,p){this.text=t,this.style=e,this.width=r,this.height=a,this.lines=o,this.lineWidths=h,this.lineHeight=c,this.maxLineWidth=d,this.fontProperties=p}static measureText(t,e,r,a=St._canvas){r=r??e.wordWrap;const o=e.toFontString(),h=St.measureFont(o);h.fontSize===0&&(h.fontSize=e.fontSize,h.ascent=e.fontSize);const c=a.getContext("2d",pu);c.font=o;const d=(r?St.wordWrap(t,e,a):t).split(/(?:\r\n|\r|\n)/),p=new Array(d.length);let g=0;for(let x=0;x<d.length;x++){const A=St._measureText(d[x],e.letterSpacing,c);p[x]=A,g=Math.max(g,A)}let y=g+e.strokeThickness;e.dropShadow&&(y+=e.dropShadowDistance);const v=e.lineHeight||h.fontSize+e.strokeThickness;let _=Math.max(v,h.fontSize+e.strokeThickness*2)+e.leading+(d.length-1)*(v+e.leading);return e.dropShadow&&(_+=e.dropShadowDistance),new St(t,e,y,_,d,p,v+e.leading,g,h)}static _measureText(t,e,r){let a=!1;St.experimentalLetterSpacingSupported&&(St.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,a=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let o=r.measureText(t).width;return o>0&&(a?o-=e:o+=(St.graphemeSegmenter(t).length-1)*e),o}static wordWrap(t,e,r=St._canvas){const a=r.getContext("2d",pu);let o=0,h="",c="";const d=Object.create(null),{letterSpacing:p,whiteSpace:g}=e,y=St.collapseSpaces(g),v=St.collapseNewlines(g);let _=!y;const x=e.wordWrapWidth+p,A=St.tokenize(t);for(let S=0;S<A.length;S++){let T=A[S];if(St.isNewline(T)){if(!v){c+=St.addLine(h),_=!y,h="",o=0;continue}T=" "}if(y){const B=St.isBreakingSpace(T),P=St.isBreakingSpace(h[h.length-1]);if(B&&P)continue}const I=St.getFromCache(T,p,d,a);if(I>x)if(h!==""&&(c+=St.addLine(h),h="",o=0),St.canBreakWords(T,e.breakWords)){const B=St.wordWrapSplit(T);for(let P=0;P<B.length;P++){let R=B[P],k=R,M=1;for(;B[P+M];){const Z=B[P+M];if(!St.canBreakChars(k,Z,T,P,e.breakWords))R+=Z;else break;k=Z,M++}P+=M-1;const z=St.getFromCache(R,p,d,a);z+o>x&&(c+=St.addLine(h),_=!1,h="",o=0),h+=R,o+=z}}else{h.length>0&&(c+=St.addLine(h),h="",o=0);const B=S===A.length-1;c+=St.addLine(T,!B),_=!1,h="",o=0}else I+o>x&&(_=!1,c+=St.addLine(h),h="",o=0),(h.length>0||!St.isBreakingSpace(T)||_)&&(h+=T,o+=I)}return c+=St.addLine(h,!1),c}static addLine(t,e=!0){return t=St.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,a){let o=r[t];return typeof o!="number"&&(o=St._measureText(t,e,a)+e,r[t]=o),o}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!St.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:St._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:St._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let a=0;a<t.length;a++){const o=t[a],h=t[a+1];if(St.isBreakingSpace(o,h)||St.isNewline(o)){r!==""&&(e.push(r),r=""),e.push(o);continue}r+=o}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,a,o){return!0}static wordWrapSplit(t){return St.graphemeSegmenter(t)}static measureFont(t){if(St._fonts[t])return St._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=St._canvas,a=St._context;a.font=t;const o=St.METRICS_STRING+St.BASELINE_SYMBOL,h=Math.ceil(a.measureText(o).width);let c=Math.ceil(a.measureText(St.BASELINE_SYMBOL).width);const d=Math.ceil(St.HEIGHT_MULTIPLIER*c);if(c=c*St.BASELINE_MULTIPLIER|0,h===0||d===0)return St._fonts[t]=e,e;r.width=h,r.height=d,a.fillStyle="#f00",a.fillRect(0,0,h,d),a.font=t,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(o,0,c);const p=a.getImageData(0,0,h,d).data,g=p.length,y=h*4;let v=0,_=0,x=!1;for(v=0;v<c;++v){for(let A=0;A<y;A+=4)if(p[_+A]!==255){x=!0;break}if(!x)_+=y;else break}for(e.ascent=c-v,_=g-y,x=!1,v=d;v>c;--v){for(let A=0;A<y;A+=4)if(p[_+A]!==255){x=!0;break}if(!x)_-=y;else break}return e.descent=v-c,e.fontSize=e.ascent+e.descent,St._fonts[t]=e,e}static clearMetrics(t=""){t?delete St._fonts[t]:St._fonts={}}static get _canvas(){if(!St.__canvas){let t;try{const e=new OffscreenCanvas(0,0);if(e.getContext("2d",pu)?.measureText)return St.__canvas=e,e;t=gt.ADAPTER.createCanvas()}catch{t=gt.ADAPTER.createCanvas()}t.width=t.height=10,St.__canvas=t}return St.__canvas}static get _context(){return St.__context||(St.__context=St._canvas.getContext("2d",pu)),St.__context}};Ki.METRICS_STRING="|ÉqÅ",Ki.BASELINE_SYMBOL="M",Ki.BASELINE_MULTIPLIER=1.4,Ki.HEIGHT_MULTIPLIER=2,Ki.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const s=new Intl.Segmenter;return t=>[...s.segment(t)].map(e=>e.segment)}return s=>[...s]})(),Ki.experimentalLetterSpacing=!1,Ki._fonts={},Ki._newlines=[10,13],Ki._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let bn=Ki;const EM=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Mb=class Sl{constructor(t){this.styleID=0,this.reset(),Pd(this,t,t)}clone(){const t={};return Pd(t,this,Sl.defaultStyle),new Sl(t)}reset(){Pd(this,Sl.defaultStyle,Sl.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Nd(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Nd(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){TM(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Nd(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let a=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(a)&&!EM.includes(a)&&(a=`"${a}"`),e[r]=a}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};Mb.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:th.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Gr=Mb;function Nd(s){const t=ae.shared,e=r=>{const a=t.setValue(r);return a.alpha===1?a.toHex():a.toRgbaString()};return Array.isArray(s)?s.map(e):e(s)}function TM(s,t){if(!Array.isArray(s)||!Array.isArray(t)||s.length!==t.length)return!1;for(let e=0;e<s.length;++e)if(s[e]!==t[e])return!1;return!0}function Pd(s,t,e){for(const r in e)Array.isArray(t[r])?s[r]=t[r].slice():s[r]=t[r]}const SM={texture:!0,children:!1,baseTexture:!0},Db=class bp extends fa{constructor(t,e,r){let a=!1;r||(r=gt.ADAPTER.createCanvas(),a=!0),r.width=3,r.height=3;const o=bt.from(r);o.orig=new Ut,o.trim=new Ut,super(o),this._ownCanvas=a,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=bp.defaultResolution??gt.RESOLUTION,this._autoResolution=bp.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return bn.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Vt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),bn.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,a=bn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,h=a.height,c=a.lines,d=a.lineHeight,p=a.lineWidths,g=a.maxLineWidth,y=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let v,_;const x=e.dropShadow?2:1;for(let A=0;A<x;++A){const S=e.dropShadow&&A===0,T=S?Math.ceil(Math.max(1,h)+e.padding*2):0,I=T*this._resolution;if(S){r.fillStyle="black",r.strokeStyle="black";const P=e.dropShadowColor,R=e.dropShadowBlur*this._resolution,k=e.dropShadowDistance*this._resolution;r.shadowColor=ae.shared.setValue(P).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=R,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*k,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*k+I}else r.fillStyle=this._generateFillStyle(e,c,a),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let B=(d-y.fontSize)/2;d-y.fontSize<0&&(B=0);for(let P=0;P<c.length;P++)v=e.strokeThickness/2,_=e.strokeThickness/2+P*d+y.ascent+B,e.align==="right"?v+=g-p[P]:e.align==="center"&&(v+=(g-p[P])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(c[P],v+e.padding,_+e.padding-T,!0),e.fill&&this.drawLetterSpacing(c[P],v+e.padding,_+e.padding-T)}this.updateTexture()}drawLetterSpacing(t,e,r,a=!1){const o=this._style.letterSpacing;let h=!1;if(bn.experimentalLetterSpacingSupported&&(bn.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,h=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||h){a?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let c=e;const d=bn.graphemeSegmenter(t);let p=this.context.measureText(t).width,g=0;for(let y=0;y<d.length;++y){const v=d[y];a?this.context.strokeText(v,c,r):this.context.fillText(v,c,r);let _="";for(let x=y+1;x<d.length;++x)_+=d[x];g=this.context.measureText(_).width,c+=p-g+o,p=g}}updateTexture(){const t=this.canvas;if(this._style.trim){const h=VA(t);h.data&&(t.width=h.width,t.height=h.height,this.context.putImageData(h.data,0,0))}const e=this._texture,r=this._style,a=r.trim?0:r.padding,o=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-a,e.trim.y=-a,e.orig.width=e._frame.width-a*2,e.orig.height=e._frame.height-a*2,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const a=t.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let o;const h=t.dropShadow?t.dropShadowDistance:0,c=t.padding||0,d=this.canvas.width/this._resolution-h-c*2,p=this.canvas.height/this._resolution-h-c*2,g=a.slice(),y=t.fillGradientStops.slice();if(!y.length){const v=g.length+1;for(let _=1;_<v;++_)y.push(_/v)}if(g.unshift(a[0]),y.unshift(0),g.push(a[a.length-1]),y.push(1),t.fillGradientType===th.LINEAR_VERTICAL){o=this.context.createLinearGradient(d/2,c,d/2,p+c);const v=r.fontProperties.fontSize+t.strokeThickness;for(let _=0;_<e.length;_++){const x=r.lineHeight*(_-1)+v,A=r.lineHeight*_;let S=A;_>0&&x>A&&(S=(A+x)/2);const T=A+v,I=r.lineHeight*(_+1);let B=T;_+1<e.length&&I<T&&(B=(T+I)/2);const P=(B-S)/p;for(let R=0;R<g.length;R++){let k=0;typeof y[R]=="number"?k=y[R]:k=R/g.length;let M=Math.min(1,Math.max(0,S/p+k*P));M=Number(M.toFixed(5)),o.addColorStop(M,g[R])}}}else{o=this.context.createLinearGradient(c,p/2,d+c,p/2);const v=g.length+1;let _=1;for(let x=0;x<g.length;x++){let A;typeof y[x]=="number"?A=y[x]:A=_/v,o.addColorStop(A,g[x]),_++}}return o}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},SM,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Tn(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Tn(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Gr?this._style=t:this._style=new Gr(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};Db.defaultAutoResolution=!0;let ea=Db;class AM{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function wM(s,t){let e=!1;if(s?._textures?.length){for(let r=0;r<s._textures.length;r++)if(s._textures[r]instanceof bt){const a=s._textures[r].baseTexture;t.includes(a)||(t.push(a),e=!0)}}return e}function RM(s,t){if(s.baseTexture instanceof Nt){const e=s.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function CM(s,t){if(s._texture&&s._texture instanceof bt){const e=s._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function MM(s,t){return t instanceof ea?(t.updateText(!0),!0):!1}function DM(s,t){if(t instanceof Gr){const e=t.toFontString();return bn.measureFont(e),!0}return!1}function OM(s,t){if(s instanceof ea){t.includes(s.style)||t.push(s.style),t.includes(s)||t.push(s);const e=s._texture.baseTexture;return t.includes(e)||t.push(e),!0}return!1}function BM(s,t){return s instanceof Gr?(t.includes(s)||t.push(s),!0):!1}const Ob=class Bb{constructor(t){this.limiter=new AM(Bb.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(OM),this.registerFindHook(BM),this.registerFindHook(wM),this.registerFindHook(RM),this.registerFindHook(CM),this.registerUploadHook(MM),this.registerUploadHook(DM)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,oi.system.addOnce(this.tick,this,ls.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,a=this.uploadHooks.length;r<a;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)oi.system.addOnce(this.tick,this,ls.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Li)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&oi.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};Ob.uploadsPerFrame=4;let Ep=Ob;Object.defineProperties(gt,{UPLOADS_PER_FRAME:{get(){return Ep.uploadsPerFrame},set(s){Vt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Ep.uploadsPerFrame=s}}});function Ib(s,t){return t instanceof Nt?(t._glTextures[s.CONTEXT_UID]||s.texture.bind(t),!0):!1}function IM(s,t){if(!(t instanceof Ii))return!1;const{geometry:e}=t;t.finishPoly(),e.updateBatches();const{batches:r}=e;for(let a=0;a<r.length;a++){const{texture:o}=r[a].style;o&&Ib(s,o.baseTexture)}return e.batchable||s.geometry.bind(e,t._resolveDirectShader(s)),!0}function NM(s,t){return s instanceof Ii?(t.push(s),!0):!1}class Nb extends Ep{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(NM),this.registerUploadHook(Ib),this.registerUploadHook(IM)}}Nb.extension={name:"prepare",type:pt.RendererSystem};Et.add(Nb);var PM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,UM=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,LM=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,V_=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,FM=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const mu=new le;class Pb extends Ku{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new kx,this.state=ar.for2d()}contextChange(){const t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=ir.from(V_,FM,e),this.shader=t.context.webGLVersion>1?ir.from(UM,PM,e):ir.from(V_,LM,e)}render(t){const e=this.renderer,r=this.quad;let a=r.vertices;a[0]=a[6]=t._width*-t.anchor.x,a[1]=a[3]=t._height*-t.anchor.y,a[2]=a[4]=t._width*(1-t.anchor.x),a[5]=a[7]=t._height*(1-t.anchor.y);const o=t.uvRespectAnchor?t.anchor.x:0,h=t.uvRespectAnchor?t.anchor.y:0;a=r.uvs,a[0]=a[6]=-o,a[1]=a[3]=-h,a[2]=a[4]=1-o,a[5]=a[7]=1-h,r.invalidate();const c=t._texture,d=c.baseTexture,p=d.alphaMode>0,g=t.tileTransform.localTransform,y=t.uvMatrix;let v=d.isPowerOfTwo&&c.frame.width===d.width&&c.frame.height===d.height;v&&(d._glTextures[e.CONTEXT_UID]?v=d.wrapMode!==An.CLAMP:d.wrapMode===An.CLAMP&&(d.wrapMode=An.REPEAT));const _=v?this.simpleShader:this.shader,x=c.width,A=c.height,S=t._width,T=t._height;mu.set(g.a*x/S,g.b*x/T,g.c*A/S,g.d*A/T,g.tx/S,g.ty/T),mu.invert(),v?mu.prepend(y.mapCoord):(_.uniforms.uMapCoord=y.mapCoord.toArray(!0),_.uniforms.uClampFrame=y.uClampFrame,_.uniforms.uClampOffset=y.uClampOffset),_.uniforms.uTransform=mu.toArray(!0),_.uniforms.uColor=ae.shared.setValue(t.tint).premultiply(t.worldAlpha,p).toArray(_.uniforms.uColor),_.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),_.uniforms.uSampler=c,e.shader.bind(_),e.geometry.bind(r),this.state.blendMode=Rx(t.blendMode,p),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Pb.extension={name:"tilingSprite",type:pt.RendererPlugin};Et.add(Pb);const Ub=class Al{constructor(t,e,r){this.linkedSheets=[],(t instanceof Nt||t instanceof bt)&&(t={texture:t,data:e,resolutionFilename:r});const{texture:a,data:o,resolutionFilename:h=null,cachePrefix:c=""}=t;this.cachePrefix=c,this._texture=a instanceof bt?a:null,this.baseTexture=a instanceof Nt?a:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const d=this.baseTexture.resource;this.resolution=this._updateResolution(h||(d?d.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=Lr(t,null);return r===null&&(r=typeof e=="number"?e:parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Al.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=Al.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const a=this._frameKeys[e],o=this._frames[a],h=o.frame;if(h){let c=null,d=null;const p=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,g=new Ut(0,0,Math.floor(p.w)/this.resolution,Math.floor(p.h)/this.resolution);o.rotated?c=new Ut(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):c=new Ut(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(d=new Ut(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[a]=new bt(this.baseTexture,c,g,d,o.rotated?2:0,o.anchor,o.borders),bt.addToCache(this.textures[a],this.cachePrefix+a.toString())}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const a=t[e][r];this.animations[e].push(this.textures[a])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Al.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Al.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Ub.BATCH_SIZE=1e3;let j_=Ub;const GM=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function Lb(s,t,e){const r={};if(s.forEach(a=>{r[a]=t}),Object.keys(t.textures).forEach(a=>{r[`${t.cachePrefix}${a}`]=t.textures[a]}),!e){const a=Ie.dirname(s[0]);t.linkedSheets.forEach((o,h)=>{Object.assign(r,Lb([`${a}/${t.data.meta.related_multi_packs[h]}`],o,!0))})}return r}const kM={extension:pt.Asset,cache:{test:s=>s instanceof j_,getCacheableAssets:(s,t)=>Lb(s,t,!1)},resolver:{test:s=>{const t=s.split("?")[0].split("."),e=t.pop(),r=t.pop();return e==="json"&&GM.includes(r)},parse:s=>{const t=s.split(".");return{resolution:parseFloat(gt.RETINA_PREFIX.exec(s)?.[1]??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",extension:{type:pt.LoadParser,priority:Fi.Normal},async testParse(s,t){return Ie.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,e){const{texture:r,imageFilename:a,cachePrefix:o}=t?.data??{};let h=Ie.dirname(t.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let c;if(r&&r.baseTexture)c=r;else{const g=yp(h+(a??s.meta.image),t.src);c=(await e.load([g]))[g]}const d=new j_({texture:c.baseTexture,data:s,resolutionFilename:t.src,cachePrefix:o});await d.parse();const p=s?.meta?.related_multi_packs;if(Array.isArray(p)){const g=[];for(const v of p){if(typeof v!="string")continue;let _=h+v;t.data?.ignoreMultiPack||(_=yp(_,t.src),g.push(e.load({src:_,data:{ignoreMultiPack:!0}})))}const y=await Promise.all(g);d.linkedSheets=y,y.forEach(v=>{v.linkedSheets=[d].concat(d.linkedSheets.filter(_=>_!==v))})}return d},unload(s){s.destroy(!0)}}};Et.add(kM);class zu{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Au{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in e){const h=e[o].match(/^[a-z]+/gm)[0],c=e[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),d={};for(const p in c){const g=c[p].split("="),y=g[0],v=g[1].replace(/"/gm,""),_=parseFloat(v),x=isNaN(_)?v:_;d[y]=x}r[h].push(d)}const a=new zu;return r.info.forEach(o=>a.info.push({face:o.face,size:parseInt(o.size,10)})),r.common.forEach(o=>a.common.push({lineHeight:parseInt(o.lineHeight,10)})),r.page.forEach(o=>a.page.push({id:parseInt(o.id,10),file:o.file})),r.char.forEach(o=>a.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),r.kerning.forEach(o=>a.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),r.distanceField.forEach(o=>a.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),a}}class Tp{static test(t){const e=t;return typeof t!="string"&&"getElementsByTagName"in t&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const e=new zu,r=t.getElementsByTagName("info"),a=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),h=t.getElementsByTagName("char"),c=t.getElementsByTagName("kerning"),d=t.getElementsByTagName("distanceField");for(let p=0;p<r.length;p++)e.info.push({face:r[p].getAttribute("face"),size:parseInt(r[p].getAttribute("size"),10)});for(let p=0;p<a.length;p++)e.common.push({lineHeight:parseInt(a[p].getAttribute("lineHeight"),10)});for(let p=0;p<o.length;p++)e.page.push({id:parseInt(o[p].getAttribute("id"),10)||0,file:o[p].getAttribute("file")});for(let p=0;p<h.length;p++){const g=h[p];e.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(let p=0;p<c.length;p++)e.kerning.push({first:parseInt(c[p].getAttribute("first"),10),second:parseInt(c[p].getAttribute("second"),10),amount:parseInt(c[p].getAttribute("amount"),10)});for(let p=0;p<d.length;p++)e.distanceField.push({fieldType:d[p].getAttribute("fieldType"),distanceRange:parseInt(d[p].getAttribute("distanceRange"),10)});return e}}class Sp{static test(t){return typeof t=="string"&&t.includes("<font>")?Tp.test(gt.ADAPTER.parseXML(t)):!1}static parse(t){return Tp.parse(gt.ADAPTER.parseXML(t))}}const Ud=[Au,Tp,Sp];function HM(s){for(let t=0;t<Ud.length;t++)if(Ud[t].test(s))return Ud[t];return null}function zM(s,t,e,r,a,o){const h=e.fill;if(Array.isArray(h)){if(h.length===1)return h[0]}else return h;let c;const d=e.dropShadow?e.dropShadowDistance:0,p=e.padding||0,g=s.width/r-d-p*2,y=s.height/r-d-p*2,v=h.slice(),_=e.fillGradientStops.slice();if(!_.length){const x=v.length+1;for(let A=1;A<x;++A)_.push(A/x)}if(v.unshift(h[0]),_.unshift(0),v.push(h[h.length-1]),_.push(1),e.fillGradientType===th.LINEAR_VERTICAL){c=t.createLinearGradient(g/2,p,g/2,y+p);let x=0;const A=(o.fontProperties.fontSize+e.strokeThickness)/y;for(let S=0;S<a.length;S++){const T=o.lineHeight*S;for(let I=0;I<v.length;I++){let B=0;typeof _[I]=="number"?B=_[I]:B=I/v.length;const P=T/y+B*A;let R=Math.max(x,P);R=Math.min(R,1),c.addColorStop(R,v[I]),x=R}}}else{c=t.createLinearGradient(p,y/2,g+p,y/2);const x=v.length+1;let A=1;for(let S=0;S<v.length;S++){let T;typeof _[S]=="number"?T=_[S]:T=A/x,c.addColorStop(T,v[S]),A++}}return c}function XM(s,t,e,r,a,o,h){const c=e.text,d=e.fontProperties;t.translate(r,a),t.scale(o,o);const p=h.strokeThickness/2,g=-(h.strokeThickness/2);if(t.font=h.toFontString(),t.lineWidth=h.strokeThickness,t.textBaseline=h.textBaseline,t.lineJoin=h.lineJoin,t.miterLimit=h.miterLimit,t.fillStyle=zM(s,t,h,o,[c],e),t.strokeStyle=h.stroke,h.dropShadow){const y=h.dropShadowColor,v=h.dropShadowBlur*o,_=h.dropShadowDistance*o;t.shadowColor=ae.shared.setValue(y).setAlpha(h.dropShadowAlpha).toRgbaString(),t.shadowBlur=v,t.shadowOffsetX=Math.cos(h.dropShadowAngle)*_,t.shadowOffsetY=Math.sin(h.dropShadowAngle)*_}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;h.stroke&&h.strokeThickness&&t.strokeText(c,p,g+e.lineHeight-d.descent),h.fill&&t.fillText(c,p,g+e.lineHeight-d.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function wu(s){return s.codePointAt?s.codePointAt(0):s.charCodeAt(0)}function Fb(s){return Array.from?Array.from(s):s.split("")}function VM(s){typeof s=="string"&&(s=[s]);const t=[];for(let e=0,r=s.length;e<r;e++){const a=s[e];if(Array.isArray(a)){if(a.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${a.length}.`);const o=a[0].charCodeAt(0),h=a[1].charCodeAt(0);if(h<o)throw new Error("[BitmapFont]: Invalid character range.");for(let c=o,d=h;c<=d;c++)t.push(String.fromCharCode(c))}else t.push(...Fb(a))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const _n=class Qi{constructor(t,e,r){const[a]=t.info,[o]=t.common,[h]=t.page,[c]=t.distanceField,d=Lr(h.file),p={};this._ownsTextures=r,this.font=a.face,this.size=a.size,this.lineHeight=o.lineHeight/d,this.chars={},this.pageTextures=p;for(let g=0;g<t.page.length;g++){const{id:y,file:v}=t.page[g];p[y]=e instanceof Array?e[g]:e[v],c?.fieldType&&c.fieldType!=="none"&&(p[y].baseTexture.alphaMode=Je.NO_PREMULTIPLIED_ALPHA,p[y].baseTexture.mipmap=nr.OFF)}for(let g=0;g<t.char.length;g++){const{id:y,page:v}=t.char[g];let{x:_,y:x,width:A,height:S,xoffset:T,yoffset:I,xadvance:B}=t.char[g];_/=d,x/=d,A/=d,S/=d,T/=d,I/=d,B/=d;const P=new Ut(_+p[v].frame.x/d,x+p[v].frame.y/d,A,S);this.chars[y]={xOffset:T,yOffset:I,xAdvance:B,kerning:{},texture:new bt(p[v].baseTexture,P),page:v}}for(let g=0;g<t.kerning.length;g++){let{first:y,second:v,amount:_}=t.kerning[g];y/=d,v/=d,_/=d,this.chars[v]&&(this.chars[v].kerning[y]=_)}this.distanceFieldRange=c?.distanceRange,this.distanceFieldType=c?.fieldType?.toLowerCase()??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let a;if(t instanceof zu)a=t;else{const h=HM(t);if(!h)throw new Error("Unrecognized data format for font.");a=h.parse(t)}e instanceof bt&&(e=[e]);const o=new Qi(a,e,r);return Qi.available[o.font]=o,o}static uninstall(t){const e=Qi.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Qi.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:a,padding:o,resolution:h,textureWidth:c,textureHeight:d,...p}=Object.assign({},Qi.defaultOptions,r),g=VM(a),y=e instanceof Gr?e:new Gr(e),v=c,_=new zu;_.info[0]={face:y.fontFamily,size:y.fontSize},_.common[0]={lineHeight:y.fontSize};let x=0,A=0,S,T,I,B=0;const P=[];for(let k=0;k<g.length;k++){S||(S=gt.ADAPTER.createCanvas(),S.width=c,S.height=d,T=S.getContext("2d"),I=new Nt(S,{resolution:h,...p}),P.push(new bt(I)),_.page.push({id:P.length-1,file:""}));const M=g[k],z=bn.measureText(M,y,!1,S),Z=z.width,rt=Math.ceil(z.height),tt=Math.ceil((y.fontStyle==="italic"?2:1)*Z);if(A>=d-rt*h){if(A===0)throw new Error(`[BitmapFont] textureHeight ${d}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${M}')`);--k,S=null,T=null,I=null,A=0,x=0,B=0;continue}if(B=Math.max(rt+z.fontProperties.descent,B),tt*h+x>=v){if(x===0)throw new Error(`[BitmapFont] textureWidth ${c}px is too small (fontFamily: '${y.fontFamily}', fontSize: ${y.fontSize}px, char: '${M}')`);--k,A+=B*h,A=Math.ceil(A),x=0,B=0;continue}XM(S,T,z,x,A,h,y);const G=wu(z.text);_.char.push({id:G,page:P.length-1,x:x/h,y:A/h,width:tt,height:rt,xoffset:0,yoffset:0,xadvance:Z-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0)}),x+=(tt+2*o)*h,x=Math.ceil(x)}if(!r?.skipKerning)for(let k=0,M=g.length;k<M;k++){const z=g[k];for(let Z=0;Z<M;Z++){const rt=g[Z],tt=T.measureText(z).width,G=T.measureText(rt).width,J=T.measureText(z+rt).width-(tt+G);J&&_.kerning.push({first:wu(z),second:wu(rt),amount:J})}}const R=new Qi(_,P,!0);return Qi.available[t]!==void 0&&Qi.uninstall(t),Qi.available[t]=R,R}};_n.ALPHA=[["a","z"],["A","Z"]," "],_n.NUMERIC=[["0","9"]],_n.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],_n.ASCII=[[" ","~"]],_n.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:_n.ALPHANUMERIC},_n.available={};let xn=_n;var jM=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,qM=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const q_=[],Y_=[],$_=[],YM=class Gb extends Li{constructor(t,e={}){super();const{align:r,tint:a,maxWidth:o,letterSpacing:h,fontName:c,fontSize:d}=Object.assign({},Gb.styleDefaults,e);if(!xn.available[c])throw new Error(`Missing BitmapFont "${c}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new ae(a),this._font=void 0,this._fontName=c,this._fontSize=d,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=h,this._anchor=new Ir(()=>{this.dirty=!0},this,0,0),this._roundPixels=gt.ROUND_PIXELS,this.dirty=!0,this._resolution=gt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const t=xn.available[this._fontName],e=this.fontSize,r=e/t.size,a=new qt,o=[],h=[],c=[],d=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",p=Fb(d),g=this._maxWidth*t.size/e,y=t.distanceFieldType==="none"?q_:Y_;let v=null,_=0,x=0,A=0,S=-1,T=0,I=0,B=0,P=0;for(let tt=0;tt<p.length;tt++){const G=p[tt],J=wu(G);if(/(?:\s)/.test(G)&&(S=tt,T=_,P++),G==="\r"||G===`
`){h.push(_),c.push(-1),x=Math.max(x,_),++A,++I,a.x=0,a.y+=t.lineHeight,v=null,P=0;continue}const et=t.chars[J];if(!et)continue;v&&et.kerning[v]&&(a.x+=et.kerning[v]);const dt=$_.pop()||{texture:bt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new qt};dt.texture=et.texture,dt.line=A,dt.charCode=J,dt.position.x=Math.round(a.x+et.xOffset+this._letterSpacing/2),dt.position.y=Math.round(a.y+et.yOffset),dt.prevSpaces=P,o.push(dt),_=dt.position.x+Math.max(et.xAdvance-et.xOffset,et.texture.orig.width),a.x+=et.xAdvance+this._letterSpacing,B=Math.max(B,et.yOffset+et.texture.height),v=J,S!==-1&&g>0&&a.x>g&&(++I,ra(o,1+S-I,1+tt-S),tt=S,S=-1,h.push(T),c.push(o.length>0?o[o.length-1].prevSpaces:0),x=Math.max(x,T),A++,a.x=0,a.y+=t.lineHeight,v=null,P=0)}const R=p[p.length-1];R!=="\r"&&R!==`
`&&(/(?:\s)/.test(R)&&(_=T),h.push(_),x=Math.max(x,_),c.push(-1));const k=[];for(let tt=0;tt<=A;tt++){let G=0;this._align==="right"?G=x-h[tt]:this._align==="center"?G=(x-h[tt])/2:this._align==="justify"&&(G=c[tt]<0?0:(x-h[tt])/c[tt]),k.push(G)}const M=o.length,z={},Z=[],rt=this._activePagesMeshData;y.push(...rt);for(let tt=0;tt<M;tt++){const G=o[tt].texture,J=G.baseTexture.uid;if(!z[J]){let et=y.pop();if(!et){const w=new yM;let D,O;t.distanceFieldType==="none"?(D=new z_(bt.EMPTY),O=Dt.NORMAL):(D=new z_(bt.EMPTY,{program:Nr.from(qM,jM),uniforms:{uFWidth:0}}),O=Dt.NORMAL_NPM);const X=new H_(w,D);X.blendMode=O,et={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:X,vertices:null,uvs:null,indices:null}}et.index=0,et.indexCount=0,et.vertexCount=0,et.uvsCount=0,et.total=0;const{_textureCache:dt}=this;dt[J]=dt[J]||new bt(G.baseTexture),et.mesh.texture=dt[J],et.mesh.tint=this._tintColor.value,Z.push(et),z[J]=et}z[J].total++}for(let tt=0;tt<rt.length;tt++)Z.includes(rt[tt])||this.removeChild(rt[tt].mesh);for(let tt=0;tt<Z.length;tt++)Z[tt].mesh.parent!==this&&this.addChild(Z[tt].mesh);this._activePagesMeshData=Z;for(const tt in z){const G=z[tt],J=G.total;if(!(G.indices?.length>6*J)||G.vertices.length<H_.BATCHABLE_SIZE*2)G.vertices=new Float32Array(4*2*J),G.uvs=new Float32Array(4*2*J),G.indices=new Uint16Array(6*J);else{const et=G.total,dt=G.vertices;for(let w=et*4*2;w<dt.length;w++)dt[w]=0}G.mesh.size=6*J}for(let tt=0;tt<M;tt++){const G=o[tt];let J=G.position.x+k[G.line]*(this._align==="justify"?G.prevSpaces:1);this._roundPixels&&(J=Math.round(J));const et=J*r,dt=G.position.y*r,w=G.texture,D=z[w.baseTexture.uid],O=w.frame,X=w._uvs,E=D.index++;D.indices[E*6+0]=0+E*4,D.indices[E*6+1]=1+E*4,D.indices[E*6+2]=2+E*4,D.indices[E*6+3]=0+E*4,D.indices[E*6+4]=2+E*4,D.indices[E*6+5]=3+E*4,D.vertices[E*8+0]=et,D.vertices[E*8+1]=dt,D.vertices[E*8+2]=et+O.width*r,D.vertices[E*8+3]=dt,D.vertices[E*8+4]=et+O.width*r,D.vertices[E*8+5]=dt+O.height*r,D.vertices[E*8+6]=et,D.vertices[E*8+7]=dt+O.height*r,D.uvs[E*8+0]=X.x0,D.uvs[E*8+1]=X.y0,D.uvs[E*8+2]=X.x1,D.uvs[E*8+3]=X.y1,D.uvs[E*8+4]=X.x2,D.uvs[E*8+5]=X.y2,D.uvs[E*8+6]=X.x3,D.uvs[E*8+7]=X.y3}this._textWidth=x*r,this._textHeight=(a.y+t.lineHeight)*r;for(const tt in z){const G=z[tt];if(this.anchor.x!==0||this.anchor.y!==0){let w=0;const D=this._textWidth*this.anchor.x,O=this._textHeight*this.anchor.y;for(let X=0;X<G.total;X++)G.vertices[w++]-=D,G.vertices[w++]-=O,G.vertices[w++]-=D,G.vertices[w++]-=O,G.vertices[w++]-=D,G.vertices[w++]-=O,G.vertices[w++]-=D,G.vertices[w++]-=O}this._maxLineHeight=B*r;const J=G.mesh.geometry.getBuffer("aVertexPosition"),et=G.mesh.geometry.getBuffer("aTextureCoord"),dt=G.mesh.geometry.getIndex();J.data=G.vertices,et.data=G.uvs,dt.data=G.indices,J.update(),et.update(),dt.update()}for(let tt=0;tt<o.length;tt++)$_.push(o[tt]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:a}=xn.available[this._fontName];if(r!=="none"){const{a:o,b:h,c,d}=this.worldTransform,p=Math.sqrt(o*o+h*h),g=Math.sqrt(c*c+d*d),y=(Math.abs(p)+Math.abs(g))/2,v=this.fontSize/a,_=t._view.resolution;for(const x of this._activePagesMeshData)x.mesh.shader.uniforms.uFWidth=y*e*v*_}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=xn.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!xn.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??xn.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=xn.available[this._fontName].distanceFieldType==="none"?q_:Y_;r.push(...this._activePagesMeshData);for(const a of this._activePagesMeshData)this.removeChild(a.mesh);this._activePagesMeshData=[],r.filter(a=>e[a.mesh.texture.baseTexture.uid]).forEach(a=>{a.mesh.texture=bt.EMPTY});for(const a in e)e[a].destroy(),delete e[a];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};YM.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const $M=[".xml",".fnt"],WM={extension:{type:pt.LoadParser,priority:Fi.Normal},name:"loadBitmapFont",test(s){return $M.includes(Ie.extname(s).toLowerCase())},async testParse(s){return Au.test(s)||Sp.test(s)},async parse(s,t,e){const r=Au.test(s)?Au.parse(s):Sp.parse(s),{src:a}=t,{page:o}=r,h=[];for(let p=0;p<o.length;++p){const g=o[p].file;let y=Ie.join(Ie.dirname(a),g);y=yp(y,a),h.push(y)}const c=await e.load(h),d=h.map(p=>c[p]);return xn.install(r,d,!0)},async load(s,t){return(await gt.ADAPTER.fetch(s)).text()},unload(s){s.destroy()}};Et.add(WM);const Ap=class Qs extends Gr{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Qs(Object.keys(Qs.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Qs.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=Qs;if(r[t]){const a=r[t];return this._fonts.push(a),a.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return gt.ADAPTER.fetch(t).then(a=>a.blob()).then(async a=>new Promise((o,h)=>{const c=URL.createObjectURL(a),d=new FileReader;d.onload=()=>o([c,d.result]),d.onerror=h,d.readAsDataURL(a)})).then(async([a,o])=>{const h=Object.assign({family:Ie.basename(t,Ie.extname(t)),weight:"normal",style:"normal",display:"auto",src:a,dataSrc:o,refs:1,originalUrl:t,fontFace:null},e);r[t]=h,this._fonts.push(h),this.styleID++;const c=new FontFace(h.family,`url(${h.src})`,{weight:h.weight,style:h.style,display:h.display});h.fontFace=c,await c.load(),document.fonts.add(c),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style};
                font-display: ${e.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=FA(t)),typeof t=="number"?LA(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),a=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const o=`${r}px ${a}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${o} ${t}`}reset(){Object.assign(this,Qs.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=gt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};Ap.availableFonts={},Ap.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Ld=Ap;const gu=class Js extends fa{constructor(t="",e={}){super(bt.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const r=new Image,a=bt.from(r,{scaleMode:gt.SCALE_MODE,resourceOptions:{autoLoad:!1}});a.orig=new Ut,a.trim=new Ut,this.texture=a;const o="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xhtml",c=document.createElementNS(o,"svg"),d=document.createElementNS(o,"foreignObject"),p=document.createElementNS(h,"div"),g=document.createElementNS(h,"style");d.setAttribute("width","10000"),d.setAttribute("height","10000"),d.style.overflow="hidden",c.appendChild(d),this.maxWidth=Js.defaultMaxWidth,this.maxHeight=Js.defaultMaxHeight,this._domElement=p,this._styleElement=g,this._svgRoot=c,this._foreignObject=d,this._foreignObject.appendChild(g),this._foreignObject.appendChild(p),this._image=r,this._loadImage=new Image,this._autoResolution=Js.defaultAutoResolution,this._resolution=Js.defaultResolution??gt.RESOLUTION,this.text=t,this.style=e}measureText(t){const{text:e,style:r,resolution:a}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(a)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:h,height:c}=o;(h>this.maxWidth||c>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const d=Math.min(this.maxWidth,Math.ceil(h)),p=Math.min(this.maxHeight,Math.ceil(c));return this._svgRoot.setAttribute("width",d.toString()),this._svgRoot.setAttribute("height",p.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(a)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:d+r.padding*2,height:p+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:a}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:o,height:h}=this.measureText();r.width=a.width=Math.ceil(Math.max(1,o)),r.height=a.height=Math.ceil(Math.max(1,h)),this._updateID++;const c=this._updateID;await new Promise(d=>{a.onload=async()=>{if(c<this._updateID){d();return}await e.onBeforeDraw(),r.src=a.src,a.onload=null,a.src="",this.updateTexture(),d()};const p=new XMLSerializer().serializeToString(this._svgRoot);a.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(p)}`})}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:a}=this,{padding:o}=t,{baseTexture:h}=e;e.trim.width=e._frame.width=r.width/a,e.trim.height=e._frame.height=r.height/a,e.trim.x=-o,e.trim.y=-o,e.orig.width=e._frame.width-o*2,e.orig.height=e._frame.height-o*2,this._onTextureUpdate(),h.setRealSize(r.width,r.height,a),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Js.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=e,this._svgRoot?.remove(),this._svgRoot=e,this._domElement?.remove(),this._domElement=e,this._foreignObject?.remove(),this._foreignObject=e,this._styleElement?.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Tn(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Tn(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Ld?(this.ownsStyle=!1,this._style=t):t instanceof Gr?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Ld.from(t)):(this.ownsStyle=!0,this._style=new Ld(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};gu.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},gu.defaultMaxWidth=2024,gu.defaultMaxHeight=2024,gu.defaultAutoResolution=!0;const ZM=()=>{const s=it.useRef(null);return it.useEffect(()=>{const t=new Hp({width:800,height:600,backgroundColor:2236962});s.current&&t.view instanceof Node&&s.current.appendChild(t.view);const e=new Ii;e.beginFill(16777215),e.drawRect(-10,-50,20,100),e.endFill(),e.x=30,e.y=300,t.stage.addChild(e);const r=new Ii;r.beginFill(16777215),r.drawRect(-10,-50,20,100),r.endFill(),r.x=770,r.y=300,t.stage.addChild(r);const a=new Ii;a.beginFill(16711680),a.drawCircle(0,0,12),a.endFill(),a.x=400,a.y=300,t.stage.addChild(a);let o={x:4,y:3},h=!1,c=!1,d=!1,p=!1;const g=v=>{v.key.toLowerCase()==="w"&&(h=!0),v.key.toLowerCase()==="s"&&(c=!0),v.key==="ArrowUp"&&(d=!0),v.key==="ArrowDown"&&(p=!0)},y=v=>{v.key.toLowerCase()==="w"&&(h=!1),v.key.toLowerCase()==="s"&&(c=!1),v.key==="ArrowUp"&&(d=!1),v.key==="ArrowDown"&&(p=!1)};return window.addEventListener("keydown",g),window.addEventListener("keyup",y),t.ticker.add(()=>{h&&(e.y-=6),c&&(e.y+=6),d&&(r.y-=6),p&&(r.y+=6),e.y=Math.max(50,Math.min(550,e.y)),r.y=Math.max(50,Math.min(550,r.y)),a.x+=o.x,a.y+=o.y,(a.y<12||a.y>588)&&(o.y*=-1),a.x-12<e.x+10&&a.y>e.y-50&&a.y<e.y+50&&(o.x*=-1,a.x=e.x+22),a.x+12>r.x-10&&a.y>r.y-50&&a.y<r.y+50&&(o.x*=-1,a.x=r.x-22),(a.x<0||a.x>800)&&(a.x=400,a.y=300,o={x:Math.random()>.5?4:-4,y:Math.random()>.5?3:-3})}),()=>{window.removeEventListener("keydown",g),window.removeEventListener("keyup",y),t.destroy(!0,{children:!0})}},[]),Ot.jsx("div",{ref:s,style:{width:800,height:600,margin:"auto"}})},Fd=12,Gd=8,Ft=48,vn=[{x:0,y:3},{x:1,y:3},{x:2,y:3},{x:3,y:3},{x:4,y:3},{x:5,y:3},{x:6,y:3},{x:7,y:3},{x:8,y:3},{x:8,y:4},{x:9,y:4},{x:10,y:4},{x:11,y:4}],KM=.02,QM=3,JM=60,kd=.06,t2=()=>{const s=it.useRef(null),[t,e]=it.useState(10),[r,a]=it.useState(1),[o,h]=it.useState(!1),[c,d]=it.useState(""),p=it.useRef({enemies:[],towers:[],shots:[],pendingEnemies:[],spawnTimer:0});it.useEffect(()=>{const y=new Hp({width:Fd*Ft,height:Gd*Ft,backgroundColor:2237226});s.current&&y.view instanceof Node&&s.current.appendChild(y.view);let v=!1;function _(){if(!v){for(let R=0;R<Gd;R++)for(let k=0;k<Fd;k++){const M=new Ii;M.lineStyle(1,4473924),M.beginFill(2237226),M.drawRect(0,0,Ft,Ft),M.endFill(),M.x=k*Ft,M.y=R*Ft,M.name="static",y.stage.addChild(M)}vn.forEach((R,k)=>{const M=new Ii;M.beginFill(11184810),M.drawRect(0,0,Ft,Ft),M.endFill(),M.x=R.x*Ft,M.y=R.y*Ft,M.name="static",y.stage.addChild(M)}),p.current.towers.forEach(R=>{const k=new Ii;k.beginFill(1668818),k.drawCircle(Ft/2,Ft/2,Ft/2-6),k.endFill(),k.lineStyle(2,16777215),k.drawCircle(Ft/2,Ft/2,(Ft/2-6)*(1+R.level*.2)),k.x=R.x*Ft,k.y=R.y*Ft,k.name="tower",y.stage.addChild(k)}),v=!0}}function x(){y.stage.children=y.stage.children.filter(R=>R.name==="static"||R.name==="tower")}function A(){x(),p.current.enemies.forEach((z,Z)=>{if(!z.alive)return;const rt=vn[Math.floor(z.pos)];if(!rt)return;const tt=new Ii;tt.beginFill(16724787),tt.drawCircle(Ft/2,Ft/2,Ft/2-8),tt.endFill(),tt.x=rt.x*Ft,tt.y=rt.y*Ft,tt.name="enemy",y.stage.addChild(tt);const G=new Ii;G.beginFill(65280);const J=Math.max(0,z.hp);G.drawRect(0,0,(Ft-8)*(J/z.maxHp),6),G.endFill(),G.x=rt.x*Ft+4,G.y=rt.y*Ft+Ft-12,G.name="hp",y.stage.addChild(G)}),p.current.shots.forEach(z=>{const Z=new Ii;Z.beginFill(16776960),Z.drawCircle(0,0,7),Z.endFill(),Z.x=z.x,Z.y=z.y,Z.name="shot",y.stage.addChild(Z)});const R=new Gr({fill:16777215,fontSize:20,fontWeight:"bold"}),k=new ea(`Oro: ${t}`,R);k.x=12,k.y=8,k.name="ui",y.stage.addChild(k);const M=new ea(`Oleada: ${r}`,R);if(M.x=12,M.y=32,M.name="ui",y.stage.addChild(M),o){const z=new ea("Haz clic en una celda junto al camino para poner torre (5 oro)",{fill:16773494,fontSize:16});z.x=12,z.y=56,z.name="ui",y.stage.addChild(z)}if(c){const z=new ea(c,{fill:16724787,fontSize:18});z.x=12,z.y=80,z.name="ui",y.stage.addChild(z)}}_(),A();let S;function T(){if(p.current.pendingEnemies.length>0&&(p.current.spawnTimer--,p.current.spawnTimer<=0)){const R=p.current.pendingEnemies.shift();R&&p.current.enemies.push(R),p.current.spawnTimer=40}p.current.enemies.forEach(R=>{if(!R.alive)return;let k=R.pos+KM;if(k>=vn.length){R.alive=!1,d("¡Un enemigo ha llegado al final!");return}R.pos=k}),p.current.towers.forEach((R,k)=>{if(R.cooldown=Math.max(0,R.cooldown-1),R.cooldown===0){const M=p.current.enemies.findIndex(z=>z.alive&&I(R.x,R.y,vn[Math.floor(z.pos)].x,vn[Math.floor(z.pos)].y)<=QM);if(M!==-1){const z=p.current.enemies[M],Z=vn[Math.floor(z.pos)].x*Ft+Ft/2,rt=vn[Math.floor(z.pos)].y*Ft+Ft/2;p.current.shots.push({x:R.x*Ft+Ft/2,y:R.y*Ft+Ft/2,tx:Z,ty:rt,progress:0,damage:Math.pow(2,R.level),target:M}),R.cooldown=JM}}}),p.current.shots=p.current.shots.filter(R=>{R.progress+=kd;const k=R.tx-R.x,M=R.ty-R.y;if(R.x+=k*kd,R.y+=M*kd,Math.abs(k)<8&&Math.abs(M)<8){const z=p.current.enemies[R.target];return z&&z.alive&&(z.hp-=R.damage),!1}return!0}),p.current.enemies.forEach(R=>{R.hp<=0&&R.alive&&(e(k=>k+r),R.alive=!1)}),A(),S=requestAnimationFrame(T)}S=requestAnimationFrame(T);function I(R,k,M,z){return Math.sqrt((R-M)**2+(k-z)**2)}function B(R){if(!o||!(y.view instanceof HTMLCanvasElement))return;const k=y.view.getBoundingClientRect(),M=R.clientX-k.left,z=R.clientY-k.top,Z=Math.floor(M/Ft),rt=Math.floor(z/Ft);if(!vn.some(G=>Math.abs(G.x-Z)+Math.abs(G.y-rt)===1)){d("Solo puedes poner torres junto al camino");return}if(p.current.towers.some(G=>G.x===Z&&G.y===rt)){d("Ya hay una torre ahí");return}if(t<5){d("No tienes suficiente oro");return}p.current.towers.push({x:Z,y:rt,level:1,cooldown:0}),e(G=>G-5),d(""),h(!1)}function P(R){if(!(y.view instanceof HTMLCanvasElement))return;const k=y.view.getBoundingClientRect(),M=R.clientX-k.left,z=R.clientY-k.top,Z=Math.floor(M/Ft),rt=Math.floor(z/Ft),tt=p.current.towers.findIndex(G=>G.x===Z&&G.y===rt);if(tt!==-1){const G=Math.pow(2,p.current.towers[tt].level)*5;if(t<G){d("No tienes suficiente oro para mejorar");return}p.current.towers[tt].level+=1,e(J=>J-G),d("Torre mejorada")}}return y.view instanceof HTMLCanvasElement&&(y.view.addEventListener("pointerdown",B),y.view.addEventListener("pointerup",P)),()=>{y.view instanceof HTMLCanvasElement&&(y.view.removeEventListener("pointerdown",B),y.view.removeEventListener("pointerup",P)),cancelAnimationFrame(S),y.destroy(!0,{children:!0})}},[o,t,r,c]);function g(){const y=[];for(let v=0;v<r*2;v++)y.push({pos:0,hp:r+1,maxHp:r+1,alive:!0});p.current.pendingEnemies=y,p.current.spawnTimer=0,p.current.enemies=[],a(r+1),d("")}return it.useEffect(()=>{p.current.enemies.length>0&&p.current.enemies.every(y=>!y.alive)&&d("¡Oleada completada!")},[t,r]),Ot.jsxs("div",{children:[Ot.jsx("div",{ref:s,style:{width:Fd*Ft,height:Gd*Ft,margin:"auto"}}),Ot.jsxs("div",{style:{textAlign:"center",marginTop:16},children:[Ot.jsx("button",{onClick:()=>h(!0),disabled:o||t<5,style:{marginRight:8},children:o?"Haz clic en el mapa...":"Colocar torre (5 oro)"}),Ot.jsx("button",{onClick:g,disabled:p.current.enemies.some(y=>y.alive),children:"Iniciar oleada"})]})]})},e2=it.lazy(()=>Ei(()=>import("./Arkanoid-iY8jL4MA.js"),[])),i2=it.lazy(()=>Ei(()=>import("./Tetris-CVMRHYZy.js"),[])),r2=it.lazy(()=>Ei(()=>import("./Dino-DFl4td1s.js"),[])),n2=it.lazy(()=>Ei(()=>import("./Flappy-DT-IQiw9.js"),[])),s2=it.lazy(()=>Ei(()=>import("./WhacAMole-CFxYfXF7.js"),[])),a2=it.lazy(()=>Ei(()=>import("./SpaceInvaders-CXe7f1NA.js"),[])),l2=it.lazy(()=>Ei(()=>import("./Asteroids-D9QjYGds.js"),[])),o2=it.lazy(()=>Ei(()=>import("./Minesweeper-D4vnMc2w.js"),[])),u2=it.lazy(()=>Ei(()=>import("./Frogger-KEoQOSJL.js"),[])),h2=it.lazy(()=>Ei(()=>import("./Snake-C20HrJe1.js"),[])),c2=it.lazy(()=>Ei(()=>import("./DoodleJump-C86zKuJq.js"),[])),W_=it.lazy(()=>Ei(()=>import("./UnblockMe-bAIyryQp.js"),[])),Z_={fontSize:"1.25rem",padding:"1.1rem 2rem",background:"linear-gradient(90deg, #f7b42c 0%, #fc575e 100%)",color:"#222",border:"2px solid #fff",borderRadius:"1.2rem",boxShadow:"0 2px 12px rgba(0,0,0,0.10)",cursor:"pointer",transition:"transform 0.15s, box-shadow 0.15s",fontWeight:600,fontFamily:"Segoe UI, Arial, sans-serif",outline:"none",letterSpacing:"0.03em"},f2={transform:"scale(1.06)",boxShadow:"0 6px 24px rgba(0,0,0,0.18)",background:"linear-gradient(90deg, #ffe082 0%, #81d4fa 100%)"},d2=()=>Ot.jsxs("div",{style:{textAlign:"center",marginTop:"48px",minHeight:"100vh",background:"linear-gradient(180deg, #b0b4ba 0%, #cfd8dc 100%)",fontFamily:"Segoe UI, Arial, sans-serif"},children:[Ot.jsx("h1",{style:{marginBottom:"32px",fontSize:"2.7rem",color:"#1976d2",fontWeight:700,letterSpacing:"0.04em",textShadow:"0 2px 8px #b3e5fc"},children:"Juegos Arcade"}),Ot.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",maxWidth:"820px",margin:"0 auto",justifyItems:"center",padding:"0 1rem"},children:p2.map(({to:s,label:t})=>Ot.jsx(Ip,{to:s,style:{width:"100%"},children:Ot.jsx(m2,{children:t})},s))})]}),p2=[{to:"/pong",label:"Pong"},{to:"/arkanoid",label:"Arkanoid"},{to:"/tetris",label:"Tetris"},{to:"/dino",label:"Dino"},{to:"/flappy",label:"Flappy Bird"},{to:"/whac-a-mole",label:"Whac-A-Mole"},{to:"/space-invaders",label:"Space Invaders"},{to:"/asteroids",label:"Asteroids"},{to:"/minesweeper",label:"Minesweeper"},{to:"/snake",label:"Snake"},{to:"/frogger",label:"Frogger"},{to:"/doodlejump",label:"Doodle Jump"},{to:"/unblockme",label:"Unblock Me"},{to:"/tower-defense",label:"Tower Defense"}],m2=({children:s})=>{const[t,e]=lT.useState(!1);return Ot.jsx("button",{style:t?{...Z_,...f2}:Z_,onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),children:s})},g2=()=>Ot.jsx(TS,{basename:"/phaser-test",children:Ot.jsx(it.Suspense,{fallback:Ot.jsx("div",{children:"Cargando..."}),children:Ot.jsxs(JT,{children:[Ot.jsx(Le,{path:"/unblockme",element:Ot.jsx(W_,{})}),Ot.jsx(Le,{path:"/unblockme",element:Ot.jsx(W_,{})}),Ot.jsx(Le,{path:"/tower-defense",element:Ot.jsx(t2,{})}),"import Pong from './Pong'; import TowerDefense from './TowerDefense';",Ot.jsx(Le,{path:"/",element:Ot.jsx(d2,{})}),Ot.jsx(Le,{path:"/pong",element:Ot.jsx(ZM,{})}),Ot.jsx(Le,{path:"/arkanoid",element:Ot.jsx(e2,{})}),Ot.jsx(Le,{path:"/tetris",element:Ot.jsx(i2,{})}),Ot.jsx(Le,{path:"/dino",element:Ot.jsx(r2,{})}),Ot.jsx(Le,{path:"/flappy",element:Ot.jsx(n2,{})}),Ot.jsx(Le,{path:"/whac-a-mole",element:Ot.jsx(s2,{})}),Ot.jsx(Le,{path:"/space-invaders",element:Ot.jsx(a2,{})}),Ot.jsx(Le,{path:"/asteroids",element:Ot.jsx(l2,{})}),Ot.jsx(Le,{path:"/minesweeper",element:Ot.jsx(o2,{})}),Ot.jsx(Le,{path:"/snake",element:Ot.jsx(h2,{})}),Ot.jsx(Le,{path:"/frogger",element:Ot.jsx(u2,{})}),Ot.jsx(Le,{path:"/doodlejump",element:Ot.jsx(c2,{})})]})})}),y2=document.getElementById("game");nT.createRoot(y2).render(Ot.jsx(g2,{}));export{Hp as A,Ii as G,ea as T,Ot as j,it as r};
