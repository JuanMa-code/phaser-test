import{r as c,j as n}from"./index-Dl9Mtil6.js";import{A as M,G as k}from"./HTMLText-BfyFZK-P.js";const m=20,x=15,e=32,O=150,g={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0},w:{x:0,y:-1},s:{x:0,y:1},a:{x:-1,y:0},d:{x:1,y:0}},T=()=>{const p=c.useRef(null),F=c.useRef(null),[j,u]=c.useState(0),[w,y]=c.useState(!1),[v,z]=c.useState(!1);c.useEffect(()=>{if(w||!v)return;const a=new M({width:m*e,height:x*e,backgroundColor:1710638});F.current=a,p.current&&a.view instanceof Node&&p.current.appendChild(a.view);let i=[],d=g.ArrowRight,b=d,s={x:0,y:0},S=!1,R=0,f;function A(){let r=!1;for(;!r;)s.x=Math.floor(Math.random()*m),s.y=Math.floor(Math.random()*x),r=!i.some(t=>t.x===s.x&&t.y===s.y)}function D(){i=[{x:5,y:7},{x:4,y:7},{x:3,y:7}],d=g.ArrowRight,b=d,R=0,S=!1,u(0),y(!1),A(),C(),f&&clearInterval(f),f=window.setInterval(L,O)}function L(){if(S)return;d=b;const r={x:i[0].x+d.x,y:i[0].y+d.y};if(r.x<0||r.x>=m||r.y<0||r.y>=x||i.some(t=>t.x===r.x&&t.y===r.y)){S=!0,y(!0),C();return}i.unshift(r),r.x===s.x&&r.y===s.y?(R++,u(R),A()):i.pop(),C()}function C(){a.stage.removeChildren();const r=new k;r.lineStyle(1,3355443,.3);for(let o=0;o<=m;o++)r.moveTo(o*e,0),r.lineTo(o*e,x*e);for(let o=0;o<=x;o++)r.moveTo(0,o*e),r.lineTo(m*e,o*e);a.stage.addChild(r),i.forEach((o,h)=>{const l=new k;h===0?(l.beginFill(65280),l.drawRoundedRect(2,2,e-4,e-4,6),l.endFill(),l.beginFill(0),l.drawCircle(e*.3,e*.3,3),l.drawCircle(e*.7,e*.3,3),l.endFill()):(l.beginFill(39168),l.drawRoundedRect(3,3,e-6,e-6,4),l.endFill()),l.x=o.x*e,l.y=o.y*e,a.stage.addChild(l)});const t=new k;t.beginFill(16729943),t.drawCircle(e/2,e/2,e/2.5),t.endFill(),t.beginFill(65280),t.drawRect(e/2-2,e/4,4,8),t.endFill(),t.x=s.x*e,t.y=s.y*e,a.stage.addChild(t)}function E(r){const t=r.key.toLowerCase();if(t in g){const o=g[t];if(i.length>1){const h={x:i[0].x+o.x,y:i[0].y+o.y};if(h.x===i[1].x&&h.y===i[1].y)return}b=o,r.preventDefault()}}return window.addEventListener("keydown",E),D(),()=>{window.removeEventListener("keydown",E),f&&clearInterval(f),a.destroy(!0,{children:!0})}},[w,v]);const G=()=>{z(!0),y(!1),u(0)},B=()=>{y(!1),u(0)};return v?w?n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("h1",{style:{color:"#ff4757",fontSize:"3rem",marginBottom:"1rem"},children:"GAME OVER"}),n.jsxs("p",{style:{fontSize:"1.5rem",marginBottom:"2rem"},children:["Puntuaci√≥n Final: ",j]}),n.jsx("button",{onClick:B,style:{fontSize:"1.2rem",padding:"1rem 2rem",backgroundColor:"#00ff00",color:"black",border:"none",borderRadius:"8px",cursor:"pointer",marginRight:"1rem",fontWeight:"bold"},children:"üîÑ Jugar de Nuevo"}),n.jsx("button",{onClick:()=>window.history.back(),style:{fontSize:"1.2rem",padding:"1rem 2rem",backgroundColor:"#747d8c",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"üè† Volver al Men√∫"})]}):n.jsxs("div",{style:{textAlign:"center",padding:"1rem"},children:[n.jsx("h1",{style:{marginBottom:"1rem",color:"#00ff00"},children:"üêç Snake"}),n.jsxs("div",{style:{marginBottom:"1rem",fontSize:"1.5rem",fontWeight:"bold"},children:["Puntuaci√≥n: ",j]}),n.jsx("div",{style:{marginBottom:"1rem",color:"#666"},children:"Usa las flechas o WASD para moverte"}),n.jsx("div",{ref:p,style:{display:"inline-block",border:"3px solid #00ff00",borderRadius:"8px",overflow:"hidden"}})]}):n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("h1",{style:{color:"#00ff00",fontSize:"3rem",marginBottom:"1rem"},children:"üêç SNAKE"}),n.jsx("p",{style:{fontSize:"1.2rem",marginBottom:"2rem",color:"#666"},children:"Usa las flechas o WASD para mover la serpiente"}),n.jsx("button",{onClick:G,style:{fontSize:"1.2rem",padding:"1rem 2rem",backgroundColor:"#00ff00",color:"black",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"‚ñ∂Ô∏è Comenzar Juego"})]})};export{T as default};
