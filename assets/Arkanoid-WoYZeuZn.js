import{r as w,A as h,G as c,j as u}from"./index-CSoRfwyt.js";const p=()=>{const a=w.useRef(null);return w.useEffect(()=>{const n=new h({width:800,height:600,backgroundColor:2236962});a.current&&n.view instanceof Node&&a.current.appendChild(n.view);const t=new c;t.beginFill(16777215),t.drawRect(-50,-10,100,20),t.endFill(),t.x=400,t.y=570,n.stage.addChild(t);const e=new c;e.beginFill(16711680),e.drawCircle(0,0,10),e.endFill(),e.x=400,e.y=400,n.stage.addChild(e);const d=[];for(let i=0;i<5;i++)for(let r=0;r<10;r++){const l=new c;l.beginFill(65484),l.drawRect(0,0,70,20),l.endFill(),l.x=20+r*76,l.y=40+i*28,n.stage.addChild(l),d.push(l)}let o={x:4,y:-4},s=!1,y=!1;const f=i=>{i.key==="ArrowLeft"&&(s=!0),i.key==="ArrowRight"&&(y=!0)},x=i=>{i.key==="ArrowLeft"&&(s=!1),i.key==="ArrowRight"&&(y=!1)};return window.addEventListener("keydown",f),window.addEventListener("keyup",x),n.ticker.add(()=>{s&&(t.x-=7),y&&(t.x+=7),t.x=Math.max(50,Math.min(750,t.x)),e.x+=o.x,e.y+=o.y,(e.x<10||e.x>790)&&(o.x*=-1),e.y<10&&(o.y*=-1),e.y+10>t.y-10&&e.x>t.x-50&&e.x<t.x+50&&o.y>0&&(o.y*=-1,e.y=t.y-20);for(let i=d.length-1;i>=0;i--){const r=d[i];if(e.x>r.x&&e.x<r.x+70&&e.y>r.y&&e.y<r.y+20){n.stage.removeChild(r),d.splice(i,1),o.y*=-1;break}}e.y>600&&(e.x=400,e.y=400,o={x:4,y:-4})}),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",x),n.destroy(!0,{children:!0})}},[]),u.jsx("div",{ref:a,style:{width:800,height:600,margin:"auto"}})};export{p as default};
