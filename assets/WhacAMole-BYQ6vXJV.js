import{r as C,j as S}from"./index-DoJw4DYn.js";import{A as I,G as k,T as c}from"./HTMLText-B7qMmob_.js";const M=600,u=400,w=60,h=[{x:100,y:100},{x:300,y:100},{x:500,y:100},{x:200,y:300},{x:400,y:300}],G=()=>{const d=C.useRef(null);return C.useEffect(()=>{const e=new I({width:M,height:u,backgroundColor:2263842});d.current&&e.view instanceof Node&&d.current.appendChild(e.view);let f=0,a=-1,t=null,o=!1,r=30*60;function l(){t&&e.stage.removeChild(t),a=Math.floor(Math.random()*h.length);const n=h[a];t=new k,t.beginFill(9127187),t.drawCircle(0,0,w/2),t.endFill(),t.x=n.x,t.y=n.y,e.stage.addChild(t)}function m(){t&&(e.stage.removeChild(t),t=null,a=-1)}function v(){e.stage.children.filter(i=>i instanceof c).forEach(i=>e.stage.removeChild(i));const n=new c(`Score: ${f}`,{fill:16777215,fontSize:32});n.x=10,n.y=10,e.stage.addChild(n);const s=new c(`Tiempo: ${Math.ceil(r/60)}`,{fill:16777215,fontSize:28});if(s.x=400,s.y=10,e.stage.addChild(s),o){const i=new c("Â¡Fin del juego! Pulsa espacio para reiniciar",{fill:16711680,fontSize:28});i.x=60,i.y=u/2-30,e.stage.addChild(i)}}function T(){o||(r--,r%60===0&&l(),r<=0&&(o=!0,m()),v())}e.ticker.add(T);function x(n){if(o||!t||!(e.view instanceof HTMLCanvasElement))return;const s=e.view.getBoundingClientRect(),i=n.clientX-s.left,L=n.clientY-s.top,g=h[a],y=i-g.x,E=L-g.y;y*y+E*E<w/2*(w/2)&&(f++,m(),l())}e.view instanceof HTMLCanvasElement&&e.view.addEventListener("mousedown",x);const p=n=>{o&&n.code==="Space"&&(f=0,r=30*60,o=!1,l())};return window.addEventListener("keydown",p),l(),v(),()=>{window.removeEventListener("keydown",p),e.view instanceof HTMLCanvasElement&&e.view.removeEventListener("mousedown",x),e.destroy(!0,{children:!0})}},[]),S.jsx("div",{ref:d,style:{width:M,height:u,margin:"auto"}})};export{G as default};
