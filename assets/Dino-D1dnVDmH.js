import{r as j,j as r}from"./index-4gVcdWrt.js";import{A as Q,C as X,G as T,T as L}from"./HTMLText-Crqep0LH.js";const p=800,l=400,a=50,d=60,ie=()=>{const w=j.useRef(null),[R,S]=j.useState("start"),[A,B]=j.useState(0),[v,P]=j.useState(()=>{const t=localStorage.getItem("dino-highscore");return t?parseInt(t):0});j.useEffect(()=>{if(R!=="playing")return;const t=new Q({width:p,height:l,backgroundColor:8900331});w.current&&t.view instanceof Node&&w.current.appendChild(t.view);let y=!0,s=0,M=8,I=0,O=0;const G=new X;t.stage.addChild(G);function Y(){const n=new T;return n.beginFill(16777215,.8),n.drawCircle(0,0,15),n.drawCircle(20,0,18),n.drawCircle(40,0,15),n.drawCircle(10,-8,12),n.drawCircle(30,-8,12),n.endFill(),n.x=p+Math.random()*200,n.y=50+Math.random()*100,n.alpha=.7,G.addChild(n),n}const g=new T;g.beginFill(9127187),g.drawRect(0,l-d,p,d),g.endFill(),g.lineStyle(2,6636321);for(let n=0;n<p;n+=40)g.moveTo(n,l-d),g.lineTo(n+20,l-d+10);t.stage.addChild(g);let F=l-d-a,k=0,x=!1,h=!1;const i=new T;function z(){i.clear(),h?(i.beginFill(2263842),i.drawRoundedRect(0,20,a+10,a-20,5),i.endFill(),i.beginFill(0),i.drawCircle(a-15,25,3),i.endFill(),i.beginFill(3329330),i.drawRoundedRect(-10,25,15,15,3),i.endFill()):(i.beginFill(2263842),i.drawRoundedRect(0,0,a,a,8),i.endFill(),i.beginFill(0),i.drawCircle(a-15,15,4),i.endFill(),x||(i.beginFill(3329330),i.drawRect(10,a,8,10),i.drawRect(a-18,a,8,10),i.endFill()),i.beginFill(3329330),i.drawRoundedRect(-8,15,12,20,3),i.endFill())}i.x=80,i.y=F,t.stage.addChild(i),z();let C=[],u=[];function _(){const n=["cactus","rock","bird"],o=n[Math.floor(Math.random()*n.length)],e=new T;let b=30,c=50,m=l-d-c;if(o==="cactus"){e.beginFill(2263842),e.drawRect(0,0,25,60),e.drawRect(-10,20,15,4),e.drawRect(25,30,15,4),e.endFill(),e.beginFill(3329330);for(let f=0;f<6;f++)e.drawRect(5+f*3,f*10,2,8);e.endFill(),b=25,c=60}else o==="rock"?(e.beginFill(6908265),e.drawCircle(20,20,20),e.drawCircle(5,25,12),e.drawCircle(35,25,15),e.endFill(),e.beginFill(8421504),e.drawCircle(15,15,5),e.drawCircle(30,20,3),e.endFill(),b=40,c=40,m=l-d-c):(e.beginFill(9127187),e.drawEllipse(0,0,25,15),e.endFill(),e.beginFill(10506797),e.drawEllipse(-15,-5,20,8),e.drawEllipse(15,-5,20,8),e.endFill(),e.beginFill(16766720),e.drawPolygon([25,0,35,-3,35,3]),e.endFill(),b=50,c=30,m=l-d-120-Math.random()*60);return e.x=p,e.y=m,t.stage.addChild(e),{sprite:e,x:p,y:m,width:b,height:c,type:o}}const E=new L("Score: 0",{fontSize:24,fill:0,fontWeight:"bold",stroke:16777215,strokeThickness:2});E.x=20,E.y=20,t.stage.addChild(E);const D=new L("Speed: 1x",{fontSize:18,fill:0,fontWeight:"bold",stroke:16777215,strokeThickness:2});D.x=p-120,D.y=20,t.stage.addChild(D);function V(){!x&&!h&&y&&(x=!0,k=-16)}function N(n){!x&&y&&(h=n,z())}function Z(){if(!y)return;O++,O>120+Math.random()*180&&(u.push(Y()),O=0);for(let o=u.length-1;o>=0;o--)u[o].x-=2,u[o].x<-100&&(G.removeChild(u[o]),u.splice(o,1));I++;const n=Math.max(60,120-Math.floor(s/10)*5);I>n&&(C.push(_()),I=0);for(let o=C.length-1;o>=0;o--){const e=C[o];e.x-=M,e.sprite.x=e.x,e.x<-e.width&&(t.stage.removeChild(e.sprite),C.splice(o,1),s++,B(s),s%10===0&&(M+=.5))}x&&(F+=k,k+=.8,F>=l-d-a&&(F=l-d-a,x=!1,k=0,z()),i.y=F);for(const o of C){const e=i.x+5,b=i.x+(h?a+5:a-5),c=i.y+(h?20:5),m=i.y+(a-5),f=o.x+5,$=o.x+o.width-5,q=o.y+5,J=o.y+o.height-5;if(b>f&&e<$&&m>q&&c<J){y=!1,S("gameOver"),s>v&&(P(s),localStorage.setItem("dino-highscore",s.toString()));break}}E.text=`Score: ${s}`,D.text=`Speed: ${(M/8).toFixed(1)}x`}function W(n){switch(n.code){case"Space":case"ArrowUp":case"KeyW":n.preventDefault(),V();break;case"ArrowDown":case"KeyS":n.preventDefault(),N(!0);break}}function H(n){switch(n.code){case"ArrowDown":case"KeyS":n.preventDefault(),N(!1);break}}return window.addEventListener("keydown",W),window.addEventListener("keyup",H),t.ticker.add(Z),()=>{y=!1,window.removeEventListener("keydown",W),window.removeEventListener("keyup",H),w.current&&t.view instanceof Node&&w.current.removeChild(t.view),t.destroy()}},[R]);const U=()=>{S("playing"),B(0)},K=()=>{S("playing"),B(0)};if(R==="start")return r.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",background:"linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)",fontFamily:"Arial, sans-serif",color:"#2F4F4F",padding:"2rem"},children:r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"3rem",maxWidth:"600px",textAlign:"center",border:"3px solid #228B22",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},children:[r.jsx("h1",{style:{fontSize:"4rem",margin:"0 0 1rem 0",background:"linear-gradient(45deg, #228B22, #32CD32, #98FB98, #00FF00)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"ü¶ï DINO RUN"}),r.jsx("p",{style:{fontSize:"1.2rem",margin:"1rem 0",opacity:.8},children:"¬°Ayuda al dinosaurio a sobrevivir esquivando obst√°culos!"}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",margin:"2rem 0"},children:[r.jsxs("div",{style:{background:"rgba(34, 139, 34, 0.1)",borderRadius:"15px",padding:"1.5rem",border:"1px solid rgba(34, 139, 34, 0.3)"},children:[r.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#228B22"},children:"üéÆ Controles"}),r.jsx("p",{children:"Espacio/‚Üë/W: Saltar"}),r.jsx("p",{children:"‚Üì/S: Agacharse"}),r.jsx("p",{children:"(Mantener presionado para agacharse)"})]}),r.jsxs("div",{style:{background:"rgba(34, 139, 34, 0.1)",borderRadius:"15px",padding:"1.5rem",border:"1px solid rgba(34, 139, 34, 0.3)"},children:[r.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#8B4513"},children:"üèÜ Puntuaci√≥n"}),r.jsxs("p",{children:["R√©cord actual: ",r.jsx("strong",{children:v})]}),r.jsx("p",{children:"1 punto por obst√°culo evitado"}),r.jsx("p",{children:"La velocidad aumenta cada 10 puntos"})]}),r.jsxs("div",{style:{background:"rgba(34, 139, 34, 0.1)",borderRadius:"15px",padding:"1.5rem",border:"1px solid rgba(34, 139, 34, 0.3)"},children:[r.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#8B4513"},children:"üåµ Obst√°culos"}),r.jsx("p",{children:"üåµ Cactus: Salta por encima"}),r.jsx("p",{children:"ü™® Rocas: Salta por encima"}),r.jsx("p",{children:"ü¶Ö P√°jaros: Ag√°chate o salta"})]})]}),r.jsx("button",{onClick:U,style:{padding:"1rem 3rem",fontSize:"1.5rem",background:"linear-gradient(45deg, #228B22, #32CD32)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseOver:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)"},onMouseOut:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:"üèÉ‚Äç‚ôÇÔ∏è ¬°EMPEZAR A CORRER!"})]})});if(R==="gameOver"){const t=A===v&&A>0;return r.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:t?"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)":"linear-gradient(135deg, #CD853F 0%, #8B4513 100%)",fontFamily:"Arial, sans-serif",color:"white",padding:"2rem"},children:r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"3rem",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[r.jsx("h1",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:t?"üèÜ ¬°NUEVO R√âCORD!":"üí• ¬°GAME OVER!"}),r.jsxs("div",{style:{fontSize:"1.5rem",margin:"2rem 0"},children:[r.jsxs("p",{children:["üéØ Puntuaci√≥n: ",r.jsx("strong",{children:A})]}),r.jsxs("p",{children:["üèÜ R√©cord: ",r.jsx("strong",{children:v})]}),t&&r.jsx("p",{style:{color:"#FFD700"},children:"¬°Incre√≠ble nueva marca personal!"}),!t&&r.jsx("p",{style:{color:"#DEB887"},children:"El dinosaurio ha sido capturado..."})]}),r.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[r.jsx("button",{onClick:K,style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #228B22, #32CD32)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"üîÑ Correr de Nuevo"}),r.jsx("button",{onClick:()=>S("start"),style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #8B4513, #CD853F)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"üè† Men√∫ Principal"})]})]})})}return r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",background:"linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)",minHeight:"100vh",fontFamily:"Arial, sans-serif",color:"#2F4F4F"},children:[r.jsx("h1",{style:{margin:"0 0 20px 0",fontSize:"2.5rem"},children:"ü¶ï DINO RUN"}),r.jsx("div",{ref:w,style:{border:"3px solid #228B22",borderRadius:"10px"}}),r.jsx("div",{style:{marginTop:"20px",fontSize:"1.2rem"},children:r.jsx("p",{children:"Espacio/‚Üë/W saltar, ‚Üì/S agacharse"})})]})};export{ie as default};
