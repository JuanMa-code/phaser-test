import{r as L,j as G}from"./index-CJB0W8ET.js";import{A as H,G as E,a as P}from"./HTMLText-Cx_dGUxy.js";const r=400,i=600,c=68,T=16,n=32,O=.4,b=-10,I=8,_=()=>{const h=L.useRef(null);return L.useEffect(()=>{const a=new H({width:r,height:i,backgroundColor:15658734});h.current&&a.view instanceof Node&&h.current.appendChild(a.view);let e={x:r/2-n/2,y:i-n-10,vy:0},l=[],w=0,d=!1;function A(){e={x:r/2-n/2,y:i-n-10,vy:0},l=[],w=0,d=!1,l.push({x:e.x+n/2-c/2,y:e.y+n+2});for(let t=1;t<I;t++)l.push({x:Math.random()*(r-c),y:i-t*(i/I)-T});F()}function F(){a.stage.removeChildren(),l.forEach(y=>{const o=new E;o.beginFill(49151),o.drawRect(0,0,c,T),o.endFill(),o.x=y.x,o.y=y.y,a.stage.addChild(o)});const t=new E;t.beginFill(65280),t.drawEllipse(n/2,n/2,n/2,n/2),t.endFill(),t.x=e.x,t.y=e.y,a.stage.addChild(t);const s=new P(`Score: ${w}`,{fill:"#222",fontSize:18});if(s.x=8,s.y=8,a.stage.addChild(s),d){const y="Game Over! Pulsa espacio para reiniciar",o=new P(y,{fill:"#ff0000",fontSize:24}),p=o.width,v=o.height,x=16,u=new E;u.beginFill(16777215,.85),u.drawRect((r-p)/2-x,(i-v)/2-x,p+x*2,v+x*2),u.endFill(),a.stage.addChild(u),o.x=(r-p)/2,o.y=(i-v)/2,a.stage.addChild(o)}}function k(){if(!d){if(e.y+=e.vy,e.vy+=O,d||(g&&(e.x-=5),m&&(e.x+=5)),e.x<-n&&(e.x=r),e.x>r&&(e.x=-n),e.vy>0)for(const t of l)e.x+n>t.x&&e.x<t.x+c&&e.y+n>t.y&&e.y+n<t.y+T+8&&(e.vy=b,w++);if(e.y<i/2){const t=i/2-e.y;e.y=i/2,l.forEach(s=>{s.y+=t,s.y>i&&(s.x=Math.random()*(r-c),s.y=0)})}e.y>i&&(d=!0),F()}}let g=!1,m=!1;function f(t){if(d&&t.code==="Space"){A();return}if(d){g=!1,m=!1;return}t.code==="ArrowLeft"&&(g=t.type==="keydown"),t.code==="ArrowRight"&&(m=t.type==="keydown")}window.addEventListener("keydown",f),window.addEventListener("keyup",f),A();let R;function C(){k(),R=requestAnimationFrame(C)}return C(),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",f),cancelAnimationFrame(R),a.destroy(!0,{children:!0})}},[]),G.jsx("div",{ref:h,style:{width:r,height:i+48,margin:"auto"}})};export{_ as default};
