import{r as a,j as e}from"./index-m1GFXamH.js";import{A as Z,C as A,G as k,T as S}from"./HTMLText-BtEAuASx.js";const M=720,R=540,m=80,z=70,Q=()=>{const g=a.useRef(null),[f,u]=a.useState("start"),[C,j]=a.useState(0),[q,T]=a.useState(60),[l,D]=a.useState("medium"),[b,I]=a.useState(()=>{const r=localStorage.getItem("whac-highscore");return r?parseInt(r):0});a.useEffect(()=>{if(f!=="playing")return;const r=new Z({width:M,height:R,backgroundColor:3046706});g.current&&r.view instanceof Node&&g.current.appendChild(r.view);let p=!0,d=0,h=60,s=0;const F={easy:{moleShowTime:120,spawnRate:.02,maxMoles:2},medium:{moleShowTime:90,spawnRate:.03,maxMoles:3},hard:{moleShowTime:60,spawnRate:.04,maxMoles:4}}[l],E=new A;r.stage.addChild(E);for(let o=0;o<50;o++){const i=new k;i.beginFill(5025616,Math.random()*.3+.7),i.drawRect(0,0,15,8),i.endFill(),i.x=Math.random()*M,i.y=Math.random()*R,i.rotation=Math.random()*Math.PI,E.addChild(i)}const v=[],B=3,O=3,G=120,L=100,P=180,Y=140;for(let o=0;o<B;o++)for(let i=0;i<O;i++){const t=G+i*P,c=L+o*Y,n=new k;n.beginFill(1793568),n.drawEllipse(0,0,m/2,m/3),n.endFill(),n.beginFill(3046706),n.drawEllipse(0,-5,m/2+5,m/3+3),n.endFill(),n.beginFill(1793568),n.drawEllipse(0,0,m/2,m/3),n.endFill(),n.x=t,n.y=c,r.stage.addChild(n),v.push({x:t,y:c,hasMole:!1,holeSprite:n,timer:0,showTime:0})}function N(o){const i=new A,t=new k;t.beginFill(9268835),t.drawEllipse(0,0,z/2,z/2.5),t.endFill(),t.beginFill(7951688),t.drawEllipse(0,15,15,8),t.endFill(),t.beginFill(0),t.drawCircle(-12,-8,4),t.drawCircle(12,-8,4),t.endFill(),t.beginFill(16777215),t.drawCircle(-10,-10,1.5),t.drawCircle(14,-10,1.5),t.endFill(),t.beginFill(0),t.drawEllipse(0,12,3,2),t.endFill(),t.lineStyle(2,0),t.moveTo(-20,8),t.lineTo(-35,5),t.moveTo(-20,15),t.lineTo(-35,18),t.moveTo(20,8),t.lineTo(35,5),t.moveTo(20,15),t.lineTo(35,18),t.beginFill(7162945),t.drawEllipse(-18,-20,8,6),t.drawEllipse(18,-20,8,6),t.endFill(),i.addChild(t),i.x=o.x,i.y=o.y,i.interactive=!0,i.cursor="pointer",i.on("pointerdown",()=>{!p||!o.hasMole||_(o)}),r.stage.addChild(i),o.moleSprite=i,o.hasMole=!0,o.showTime=F.moleShowTime}function _(o){if(!o.hasMole||!o.moleSprite)return;r.stage.removeChild(o.moleSprite),o.moleSprite=void 0,o.hasMole=!1,o.timer=Math.random()*180+60,s++;const i=s>5?15:s>3?10:5;d+=i,j(d);const t=new S(`+${i}`,{fontSize:32,fill:s>5?16766720:s>3?16737095:5025616,fontWeight:"bold"});t.anchor.set(.5),t.x=o.x,t.y=o.y-50,r.stage.addChild(t);let c=60;const n=()=>{c>0?(t.y-=2,t.alpha=c/60,c--,setTimeout(n,16)):r.stage.removeChild(t)};n()}function $(o){o.moleSprite&&(r.stage.removeChild(o.moleSprite),o.moleSprite=void 0),o.hasMole=!1,o.timer=Math.random()*120+30,s=0}const y=new S("Score: 0",{fontSize:32,fill:16777215,fontWeight:"bold",stroke:0,strokeThickness:3});y.x=20,y.y=20,r.stage.addChild(y);const w=new S("Time: 60",{fontSize:32,fill:16777215,fontWeight:"bold",stroke:0,strokeThickness:3});w.x=M-180,w.y=20,r.stage.addChild(w);const x=new S("Combo: 0",{fontSize:24,fill:16766720,fontWeight:"bold",stroke:0,strokeThickness:2});x.x=20,x.y=70,r.stage.addChild(x);const U=setInterval(()=>{p&&h>0&&(h--,T(h),h<=0&&(p=!1,u("gameOver"),d>b&&(I(d),localStorage.setItem("whac-highscore",d.toString()))))},1e3);function X(){if(!p)return;const o=v.filter(i=>i.hasMole).length;for(const i of v)i.hasMole&&i.moleSprite?(i.showTime--,i.showTime<=0&&$(i)):i.hasMole||(i.timer--,i.timer<=0&&o<F.maxMoles&&Math.random()<F.spawnRate&&N(i));y.text=`Score: ${d}`,w.text=`Time: ${h}`,x.text=`Combo: ${s}`,x.style.fill=s>5?16766720:s>3?16737095:s>0?5025616:16777215}return r.ticker.add(X),()=>{p=!1,clearInterval(U),g.current&&r.view instanceof Node&&g.current.removeChild(r.view),r.destroy()}},[f,l]);const W=()=>{u("playing"),j(0),T(60)},H=()=>{u("playing"),j(0),T(60)};if(f==="start")return e.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #2E7D32 0%, #4CAF50 100%)",fontFamily:"Arial, sans-serif",padding:"1rem",overflowY:"auto"},children:e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"2rem",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",maxWidth:"500px",width:"95%",textAlign:"center",color:"white",margin:"1rem auto"},children:[e.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem",background:"linear-gradient(45deg, #8D6E63, #D7CCC8)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 30px rgba(141, 110, 99, 0.5)"},children:"üî® WHAC-A-MOLE"}),e.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"1.5rem",opacity:.9,lineHeight:"1.4"},children:"¬°Golpea a los topos antes de que se escondan!"}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"üéØ Selecciona Dificultad"}),e.jsx("div",{style:{display:"flex",gap:"0.8rem",justifyContent:"center",flexWrap:"wrap"},children:["easy","medium","hard"].map(r=>e.jsxs("button",{onClick:()=>D(r),style:{padding:"0.6rem 1rem",fontSize:"0.9rem",background:l===r?"linear-gradient(45deg, #4CAF50, #45a049)":"rgba(255, 255, 255, 0.2)",border:l===r?"2px solid #4CAF50":"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",color:"white",cursor:"pointer",fontWeight:"bold",transition:"all 0.3s ease",textAlign:"center"},children:[e.jsx("div",{children:r.charAt(0).toUpperCase()+r.slice(1)}),e.jsxs("div",{style:{fontSize:"0.7rem",opacity:.8},children:[r==="easy"&&"2 topos max",r==="medium"&&"3 topos max",r==="hard"&&"4 topos max"]})]},r))})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"üéÆ Controles y Puntuaci√≥n"}),e.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[e.jsx("p",{style:{marginBottom:"0.5rem"},children:"üñ±Ô∏è Click en los topos para golpearlos"}),e.jsxs("p",{style:{marginBottom:"0.5rem"},children:["üèÜ R√©cord actual: ",e.jsx("strong",{children:b})]}),e.jsx("p",{children:"‚ö° Sistema de combos: m√°s hits seguidos = m√°s puntos"})]})]}),e.jsx("button",{onClick:W,style:{fontSize:"1.2rem",padding:"0.8rem 2rem",background:"linear-gradient(45deg, #8D6E63, #A1887F)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 15px rgba(141, 110, 99, 0.3)",transition:"all 0.3s ease",transform:"translateY(0)",marginBottom:"1.5rem"},onMouseOver:r=>{r.currentTarget.style.transform="translateY(-2px)",r.currentTarget.style.boxShadow="0 6px 20px rgba(141, 110, 99, 0.4)"},onMouseOut:r=>{r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="0 4px 15px rgba(141, 110, 99, 0.3)"},children:"üî® ¬°Comenzar a Golpear!"}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"üí° Consejos Pro"}),e.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[e.jsx("p",{style:{marginBottom:"0.5rem"},children:"‚Ä¢ Mant√©n la vista en todo el campo"}),e.jsx("p",{style:{marginBottom:"0.5rem"},children:"‚Ä¢ Los combos dan puntos extra"}),e.jsx("p",{children:"‚Ä¢ ¬°Reacciona r√°pido pero con precisi√≥n!"})]})]})]})});if(f==="gameOver"){const r=C===b&&C>0;return e.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:r?"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)":"linear-gradient(135deg, #8D6E63 0%, #5D4037 100%)",fontFamily:"Arial, sans-serif",color:"white",padding:"2rem"},children:e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"3rem",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h1",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:r?"üèÜ ¬°NUEVO R√âCORD!":"‚è∞ ¬°TIEMPO AGOTADO!"}),e.jsxs("div",{style:{fontSize:"1.5rem",margin:"2rem 0"},children:[e.jsxs("p",{children:["üéØ Puntuaci√≥n Final: ",e.jsx("strong",{children:C})]}),e.jsxs("p",{children:["üèÜ R√©cord: ",e.jsx("strong",{children:b})]}),e.jsxs("p",{children:["üéÆ Dificultad: ",e.jsx("strong",{children:l.charAt(0).toUpperCase()+l.slice(1)})]}),r&&e.jsx("p",{style:{color:"#FFD700"},children:"¬°Incre√≠ble precisi√≥n con el martillo!"}),!r&&e.jsx("p",{style:{color:"#D7CCC8"},children:"Los topos fueron m√°s r√°pidos..."})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[e.jsx("button",{onClick:H,style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #8D6E63, #A1887F)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"üîÑ Intentar de Nuevo"}),e.jsx("button",{onClick:()=>u("start"),style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #4CAF50, #2E7D32)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"üè† Men√∫ Principal"})]})]})})}return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",background:"linear-gradient(135deg, #2E7D32 0%, #4CAF50 100%)",minHeight:"100vh",fontFamily:"Arial, sans-serif",color:"white"},children:[e.jsx("h1",{style:{margin:"0 0 20px 0",fontSize:"2.5rem"},children:"üî® WHAC-A-MOLE"}),e.jsx("div",{ref:g,style:{border:"3px solid #8D6E63",borderRadius:"10px"}}),e.jsx("div",{style:{marginTop:"20px",fontSize:"1.2rem"},children:e.jsx("p",{children:"¬°Click en los topos para golpearlos!"})})]})};export{Q as default};
