import{r as c,j as r}from"./index-Cg4ALjnl.js";import{A as ae,C as se,G as M,T as H}from"./HTMLText-DvwlAgNv.js";const v=800,b=600,u=40,x=30,g=6,U=5,Z=10,pe=()=>{const h=c.useRef(null),[$,B]=c.useState(0),[oe,T]=c.useState(3),[K,z]=c.useState(1),[I,w]=c.useState(!1),[F,G]=c.useState(!1),[S,D]=c.useState(!1);c.useEffect(()=>{if(!F||I)return;const n=new ae({width:v,height:b,backgroundColor:657946});h.current&&n.view instanceof Node&&h.current.appendChild(n.view);let p=!0,W=0,j=3,y=1;const O=new se;n.stage.addChild(O);for(let t=0;t<100;t++){const e=new M;e.beginFill(16777215),e.drawCircle(0,0,Math.random()*2),e.endFill(),e.x=Math.random()*v,e.y=Math.random()*b,e.alpha=Math.random()*.8+.2,O.addChild(e)}const a={sprite:new M,x:v/2,y:b-60};a.sprite.beginFill(65416),a.sprite.moveTo(0,-u/2),a.sprite.lineTo(-u/2,u/2),a.sprite.lineTo(u/2,u/2),a.sprite.closePath(),a.sprite.endFill(),a.sprite.lineStyle(2,65450),a.sprite.drawCircle(0,0,u/3),a.sprite.x=a.x,a.sprite.y=a.y,n.stage.addChild(a.sprite);let o=[],l=[],f=[],C=1,L=1,X=20;const k=new H("Score: 0",{fontSize:24,fill:16777215}),A=new H("Lives: 3",{fontSize:24,fill:16711680}),R=new H("Wave: 1",{fontSize:24,fill:65280});k.x=20,k.y=20,A.x=200,A.y=20,R.x=350,R.y=20,n.stage.addChild(k),n.stage.addChild(A),n.stage.addChild(R);function ee(t,e,s){const i={sprite:new M,x:t,y:e,width:x,height:x,active:!0},m=[16729156,16755268,4521796,4474111,16729343],E=m[s%m.length];return i.sprite.beginFill(E),i.sprite.drawRoundedRect(-x/2,-x/2,x,x,5),i.sprite.endFill(),i.sprite.beginFill(16777215),i.sprite.drawCircle(-8,-8,3),i.sprite.drawCircle(8,-8,3),i.sprite.endFill(),i.sprite.x=t,i.sprite.y=e,n.stage.addChild(i.sprite),i}function V(t,e,s){const i={sprite:new M,x:t,y:e,vy:s?-8:4,width:g,height:g*2,active:!0};return i.sprite.beginFill(s?65535:16711680),s?i.sprite.drawRoundedRect(-g/2,-g,g,g*2,2):i.sprite.drawCircle(0,0,g/2),i.sprite.endFill(),i.sprite.x=t,i.sprite.y=e,n.stage.addChild(i.sprite),i}function N(){o=[];for(let t=0;t<U;t++)for(let e=0;e<Z;e++){const s=80+e*60,i=80+t*50;o.push(ee(s,i,t))}}function te(){let t=!1;for(let e of o)if(e.active&&(e.x<=30&&C===-1||e.x>=v-30&&C===1)){t=!0;break}if(t){C*=-1;for(let e of o)if(e.active&&(e.y+=X,e.sprite.y=e.y,e.y>b-100)){p=!1,w(!0);return}L+=.2}else for(let e of o)e.active&&(e.x+=C*L,e.sprite.x=e.x);if(Math.random()<.005){const e=o.filter(s=>s.active);if(e.length>0){const s=e[Math.floor(Math.random()*e.length)];f.push(V(s.x,s.y+20,!1))}}}function re(){for(let t=l.length-1;t>=0;t--){const e=l[t];e.active&&(e.y+=e.vy,e.sprite.y=e.y,e.y<0&&(e.active=!1,n.stage.removeChild(e.sprite),l.splice(t,1)))}for(let t=f.length-1;t>=0;t--){const e=f[t];e.active&&(e.y+=e.vy,e.sprite.y=e.y,e.y>b&&(e.active=!1,n.stage.removeChild(e.sprite),f.splice(t,1)))}}function ie(){for(let t=l.length-1;t>=0;t--){const e=l[t];if(e.active)for(let s=o.length-1;s>=0;s--){const i=o[s];if(!i.active)continue;const m=e.x-i.x,E=e.y-i.y;if(Math.sqrt(m*m+E*E)<20){if(e.active=!1,i.active=!1,n.stage.removeChild(e.sprite),n.stage.removeChild(i.sprite),l.splice(t,1),W+=(U-Math.floor(s/Z))*10,B(W),o.every(ne=>!ne.active)&&(y++,z(y),L=1+y*.5,N(),y>10)){p=!1,D(!0);return}break}}}for(let t=f.length-1;t>=0;t--){const e=f[t];if(!e.active)continue;const s=e.x-a.x,i=e.y-a.y;if(Math.sqrt(s*s+i*i)<25){e.active=!1,n.stage.removeChild(e.sprite),f.splice(t,1),j--,T(j),j<=0&&(p=!1,w(!0));break}}}function _(){p&&(te(),re(),ie(),k.text=`Score: ${W}`,A.text=`Lives: ${j}`,R.text=`Wave: ${y}`,requestAnimationFrame(_))}const d={};function P(t){d[t.key]=!0,(t.key===" "||t.key==="ArrowUp"||t.key==="w"||t.key==="W")&&p&&l.length<3&&l.push(V(a.x,a.y-20,!0))}function Y(t){d[t.key]=!1}function q(){p&&((d.ArrowLeft||d.a||d.A)&&(a.x=Math.max(30,a.x-5)),(d.ArrowRight||d.d||d.D)&&(a.x=Math.min(v-30,a.x+5)),a.sprite.x=a.x,requestAnimationFrame(q))}return window.addEventListener("keydown",P),window.addEventListener("keyup",Y),N(),_(),q(),()=>{p=!1,window.removeEventListener("keydown",P),window.removeEventListener("keyup",Y),h.current&&n.view instanceof Node&&h.current.removeChild(n.view),n.destroy()}},[F,I]);const J=()=>{G(!0),w(!1),D(!1),B(0),T(3),z(1)},Q=()=>{w(!1),D(!1),B(0),T(3),z(1)};return F?I||S?r.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:S?"linear-gradient(135deg, #0a1a0a 0%, #1a3a1a 100%)":"linear-gradient(135deg, #1a0a0a 0%, #3a1a1a 100%)",fontFamily:"Arial, sans-serif",color:"white",padding:"2rem"},children:r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"3rem",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[r.jsx("h1",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:S?"🏆 ¡VICTORIA!":"💥 ¡GAME OVER!"}),r.jsxs("div",{style:{fontSize:"1.5rem",margin:"2rem 0"},children:[r.jsxs("p",{children:["🎯 Puntuación Final: ",r.jsx("strong",{children:$})]}),r.jsxs("p",{children:["🌊 Oleadas Completadas: ",r.jsx("strong",{children:K-1})]}),S&&r.jsx("p",{style:{color:"#00ff80"},children:"¡Has salvado la Tierra!"})]}),r.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[r.jsx("button",{onClick:Q,style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #ff0080, #00ff80)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"🔄 Reintentar"}),r.jsx("button",{onClick:()=>G(!1),style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #0a0a1a, #1a1a3a)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"🏠 Menú Principal"})]})]})}):r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",background:"linear-gradient(135deg, #0a0a1a 0%, #1a1a3a 100%)",minHeight:"100vh",fontFamily:"Arial, sans-serif",color:"white"},children:[r.jsx("h1",{style:{margin:"0 0 20px 0",fontSize:"2.5rem"},children:"👾 SPACE INVADERS"}),r.jsx("div",{ref:h,style:{border:"2px solid #444",borderRadius:"10px"}}),r.jsx("div",{style:{marginTop:"20px",fontSize:"1.2rem"},children:r.jsx("p",{children:"← → A D para mover, Espacio ↑ W para disparar"})})]}):r.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #0a0a1a 0%, #1a1a3a 100%)",fontFamily:"Arial, sans-serif",padding:"1rem",overflowY:"auto"},children:r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"2rem",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",maxWidth:"500px",width:"95%",textAlign:"center",color:"white",margin:"1rem auto"},children:[r.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem",background:"linear-gradient(45deg, #ff0080, #00ff80, #0080ff)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 30px rgba(255, 0, 128, 0.5)"},children:"👾 SPACE INVADERS"}),r.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"1.5rem",opacity:.9,lineHeight:"1.4"},children:"¡Defiende la Tierra de la invasión alienígena!"}),r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[r.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"🚀 Controles"}),r.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[r.jsx("p",{style:{marginBottom:"0.5rem"},children:"🎮 ← → A D: Mover nave espacial"}),r.jsx("p",{style:{marginBottom:"0.5rem"},children:"💥 Espacio ↑ W: Disparar láser"}),r.jsx("p",{children:"⚡ Máximo 3 balas simultáneas"})]})]}),r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[r.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"🎯 Sistema de Puntuación"}),r.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[r.jsx("p",{style:{marginBottom:"0.5rem"},children:"👾 Alienígenas superiores: 50 puntos"}),r.jsx("p",{style:{marginBottom:"0.5rem"},children:"👾 Alienígenas inferiores: 10 puntos"}),r.jsx("p",{children:"🌊 Más oleadas = más puntos bonus"})]})]}),r.jsx("button",{onClick:J,style:{fontSize:"1.2rem",padding:"0.8rem 2rem",background:"linear-gradient(45deg, #ff0080, #00ff80)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 15px rgba(255, 0, 128, 0.3)",transition:"all 0.3s ease",transform:"translateY(0)",marginBottom:"1.5rem"},onMouseOver:n=>{n.currentTarget.style.transform="translateY(-2px)",n.currentTarget.style.boxShadow="0 6px 20px rgba(255, 0, 128, 0.4)"},onMouseOut:n=>{n.currentTarget.style.transform="translateY(0)",n.currentTarget.style.boxShadow="0 4px 15px rgba(255, 0, 128, 0.3)"},children:"🛸 ¡Comenzar Batalla!"}),r.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[r.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"⚠️ Misión de Supervivencia"}),r.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[r.jsx("p",{style:{marginBottom:"0.5rem"},children:"❤️ Tienes 3 vidas para empezar"}),r.jsx("p",{style:{marginBottom:"0.5rem"},children:"🚫 Evita las balas enemigas"}),r.jsx("p",{children:"🏆 ¡Sobrevive 10 oleadas para ganar!"})]})]})]})})};export{pe as default};
