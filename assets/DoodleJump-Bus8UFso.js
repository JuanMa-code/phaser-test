import{r as S,j as t}from"./index-O27dvlZI.js";import{A as se,C as K,G as H,T as V}from"./HTMLText-CrzmLAmH.js";const g=400,u=600,d=40,a=70,m=15,pe=()=>{const F=S.useRef(null),[v,E]=S.useState("start"),[R,O]=S.useState(0),[M,X]=S.useState(()=>{const n=localStorage.getItem("doodlejump-highscore");return n?parseInt(n):0});S.useEffect(()=>{if(v!=="playing")return;const n=new se({width:g,height:u,backgroundColor:8900331});F.current&&n.view instanceof Node&&F.current.appendChild(n.view);let P=!0,x=0,p=g/2-d/2,h=u-150,b=0,B=0,f=0,c=[],y=[],k=0,w={},j=0,T=0,D=0;const Z=.4,Q=-12,G=5,W=80,U=new K;n.stage.addChild(U);const Y=[];for(let o=0;o<8;o++){const r=new H;r.beginFill(16777215,.7),r.drawCircle(0,0,20),r.drawCircle(25,0,25),r.drawCircle(50,0,20),r.drawCircle(15,-10,15),r.drawCircle(35,-8,18),r.endFill(),r.x=Math.random()*g,r.y=Math.random()*u*3,U.addChild(r),Y.push(r)}const i=new H;function ee(){i.clear(),i.beginFill(j>0?16739125:9498256),i.drawEllipse(0,0,d*.6,d*.8),i.endFill(),i.beginFill(0),i.drawCircle(-8,-12,3),i.drawCircle(8,-12,3),i.endFill(),i.beginFill(16777215),i.drawCircle(-7,-13,1),i.drawCircle(9,-13,1),i.endFill(),i.beginFill(2263842),i.drawEllipse(0,-5,3,2),i.endFill(),i.beginFill(3329330),i.drawEllipse(-12,15,6,10),i.drawEllipse(12,15,6,10),i.endFill(),i.beginFill(2263842),i.drawEllipse(-15,22,8,4),i.drawEllipse(15,22,8,4),i.endFill(),j>0&&(i.beginFill(16729344,.8),i.drawEllipse(-20,10,8,15),i.drawEllipse(20,10,8,15),i.endFill(),i.beginFill(16766720,.6),i.drawEllipse(-20,25,6,12),i.drawEllipse(20,25,6,12),i.endFill()),D>0&&(i.lineStyle(3,49151,.7),i.drawCircle(0,0,d*.7))}function I(o,r){const s=["normal","spring","moving","breakable"],l=r<-500&&Math.random()<.3?s[Math.floor(Math.random()*s.length)]:"normal",e=new H;switch(l){case"normal":e.beginFill(2263842),e.drawRoundedRect(0,0,a,m,7),e.endFill(),e.lineStyle(2,3329330);for(let C=5;C<a-5;C+=8)e.moveTo(C,2),e.lineTo(C+2,-2),e.lineTo(C+4,2);break;case"spring":e.beginFill(2263842),e.drawRoundedRect(0,0,a,m,7),e.endFill(),e.beginFill(16739125),e.drawEllipse(a/2,m/2,12,8),e.endFill(),e.beginFill(16766720),e.drawEllipse(a/2,m/2,8,5),e.endFill();break;case"moving":e.beginFill(4286945),e.drawRoundedRect(0,0,a,m,7),e.endFill(),e.beginFill(16777215),e.drawPolygon([10,7,15,3,15,11]),e.drawPolygon([a-10,7,a-15,3,a-15,11]),e.endFill();break;case"breakable":e.beginFill(9127187),e.drawRoundedRect(0,0,a,m,7),e.endFill(),e.lineStyle(2,6636321),e.moveTo(20,2),e.lineTo(30,m-2),e.moveTo(40,2),e.lineTo(50,m-2);break}return e.x=o,e.y=r,n.stage.addChild(e),{x:o,y:r,type:l,sprite:e,broken:!1,direction:l==="moving"?Math.random()>.5?1:-1:0}}function N(o,r){const s=["jetpack","spring","shield"],l=s[Math.floor(Math.random()*s.length)],e=new H;switch(l){case"jetpack":e.beginFill(16739125),e.drawRoundedRect(-8,-12,16,24,4),e.endFill(),e.beginFill(16766720),e.drawCircle(-4,-8,3),e.drawCircle(4,-8,3),e.endFill();break;case"spring":e.beginFill(3329330),e.drawEllipse(0,0,15,10),e.endFill(),e.beginFill(16766720),e.drawEllipse(0,0,10,6),e.endFill();break;case"shield":e.lineStyle(3,49151),e.beginFill(8900331,.5),e.drawCircle(0,0,12),e.endFill();break}return e.x=o,e.y=r,n.stage.addChild(e),{x:o,y:r,type:l,sprite:e}}function re(){c=[],y=[],x=0,k=0,f=0,c.push(I(g/2-a/2,u-50));for(let o=1;o<20;o++){const r=Math.random()*(g-a),s=u-50-o*W;c.push(I(r,s)),o>3&&Math.random()<.15&&y.push(N(r+a/2,s-30))}}function te(){w.ArrowLeft||w.KeyA?B=-G:w.ArrowRight||w.KeyD?B=G:B*=.8,p+=B,p<-d/2?p=g+d/2:p>g+d/2&&(p=-d/2),j>0?(b=-8,j--):b+=Z,T>0&&(b=-18,T=0),h+=b,D>0&&D--;const o=Math.max(0,-h+u);o>k&&(k=o,x=Math.floor(k/10),O(x)),h<f+200&&(f=h-200),h>f+u+100&&(P=!1,E("gameOver"),x>M&&(X(x),localStorage.setItem("doodlejump-highscore",x.toString())))}function ie(){for(const r of c)r.type==="moving"&&!r.broken&&(r.x+=r.direction*2,(r.x<=0||r.x>=g-a)&&(r.direction*=-1),r.sprite.x=r.x),r.y>f+u+100&&(n.stage.removeChild(r.sprite),c.splice(c.indexOf(r),1));const o=c.reduce((r,s)=>s.y<r.y?s:r,c[0]);if(o&&o.y>f-400)for(let r=0;r<5;r++){const s=Math.random()*(g-a),l=o.y-W*(r+1);c.push(I(s,l)),Math.random()<.1&&y.push(N(s+a/2,l-30))}}function ne(){const o=h+d/2,r=p,s=p+d;if(b>0){for(const l of c)if(!l.broken&&o>=l.y&&o<=l.y+m+10&&s>=l.x&&r<=l.x+a){l.type==="breakable"?(l.broken=!0,l.sprite.alpha=.3,setTimeout(()=>{n.stage.children.includes(l.sprite)&&n.stage.removeChild(l.sprite)},500)):l.type==="spring"?T=1:b=Q;break}}for(const l of y)if(Math.sqrt(Math.pow(p+d/2-l.x,2)+Math.pow(h+d/2-l.y,2))<25)switch(n.stage.removeChild(l.sprite),y.splice(y.indexOf(l),1),l.type){case"jetpack":j=120;break;case"spring":T=1;break;case"shield":D=300;break}}function oe(){n.stage.y=-f,Y.forEach((o,r)=>{o.y=r*200+f*.3})}function le(){ee(),i.x=p+d/2,i.y=h+d/2}const A=new V("Score: 0",{fontSize:24,fill:16777215,fontWeight:"bold",stroke:0,strokeThickness:3});A.x=10,A.y=10;const z=new V("Height: 0m",{fontSize:20,fill:16777215,fontWeight:"bold",stroke:0,strokeThickness:3});z.x=10,z.y=40;const L=new K;L.addChild(A),L.addChild(z);function ae(){P&&(te(),ie(),ne(),oe(),le(),A.text=`Score: ${x}`,z.text=`Height: ${Math.floor(k/10)}m`)}function _(o){w[o.code]=!0}function J(o){w[o.code]=!1}return window.addEventListener("keydown",_),window.addEventListener("keyup",J),n.stage.addChild(i),n.stage.addChild(L),re(),n.ticker.add(ae),()=>{P=!1,window.removeEventListener("keydown",_),window.removeEventListener("keyup",J),F.current&&n.view instanceof Node&&F.current.removeChild(n.view),n.destroy()}},[v]);const $=()=>{E("playing"),O(0)},q=()=>{E("playing"),O(0)};if(v==="start")return t.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)",fontFamily:"Arial, sans-serif",padding:"1rem",overflowY:"auto"},children:t.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"2rem",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",maxWidth:"500px",width:"95%",textAlign:"center",color:"white",margin:"1rem auto"},children:[t.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem",background:"linear-gradient(45deg, #32CD32, #98FB98, #87CEEB)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 30px rgba(50, 205, 50, 0.5)"},children:"ü¶ò DOODLE JUMP"}),t.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"1.5rem",opacity:.9,lineHeight:"1.4"},children:"¬°Salta tan alto como puedas sin caer!"}),t.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[t.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"üéÆ Controles"}),t.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[t.jsx("p",{style:{marginBottom:"0.5rem"},children:"‚¨ÖÔ∏è‚û°Ô∏è Flechas o A/D: Mover horizontalmente"}),t.jsx("p",{style:{marginBottom:"0.5rem"},children:"üîÑ Los bordes te teletransportan"}),t.jsxs("p",{children:["üèÜ R√©cord actual: ",t.jsx("strong",{children:M})," puntos"]})]})]}),t.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[t.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"ü™ú Tipos de Plataformas"}),t.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[t.jsx("p",{style:{marginBottom:"0.5rem"},children:"üü¢ Normales: Salto est√°ndar"}),t.jsx("p",{style:{marginBottom:"0.5rem"},children:"üîµ M√≥viles: Se mueven de lado a lado"}),t.jsx("p",{style:{marginBottom:"0.5rem"},children:"üü† Resorte: Super salto hacia arriba"}),t.jsx("p",{children:"üü§ Fr√°giles: Se rompen al tocarlas"})]})]}),t.jsx("button",{onClick:$,style:{fontSize:"1.2rem",padding:"0.8rem 2rem",background:"linear-gradient(45deg, #32CD32, #98FB98)",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 15px rgba(50, 205, 50, 0.3)",transition:"all 0.3s ease",transform:"translateY(0)",marginBottom:"1.5rem"},onMouseOver:n=>{n.currentTarget.style.transform="translateY(-2px)",n.currentTarget.style.boxShadow="0 6px 20px rgba(50, 205, 50, 0.4)"},onMouseOut:n=>{n.currentTarget.style.transform="translateY(0)",n.currentTarget.style.boxShadow="0 4px 15px rgba(50, 205, 50, 0.3)"},children:"ü¶ò ¬°Comenzar a Saltar!"}),t.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px",padding:"1.2rem",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[t.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"1rem",color:"#fff"},children:"üéÅ Power-ups Especiales"}),t.jsxs("div",{style:{fontSize:"0.95rem",textAlign:"left",lineHeight:"1.4"},children:[t.jsx("p",{style:{marginBottom:"0.5rem"},children:"üöÄ Jetpack: Vuelo temporal autom√°tico"}),t.jsx("p",{style:{marginBottom:"0.5rem"},children:"‚ö° S√∫per Salto: Impulso extra potente"}),t.jsx("p",{children:"üõ°Ô∏è Escudo: Protecci√≥n contra ca√≠das"})]})]})]})});if(v==="gameOver"){const n=R===M&&R>0;return t.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:n?"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)":"linear-gradient(135deg, #DC143C 0%, #B22222 100%)",fontFamily:"Arial, sans-serif",color:"white",padding:"2rem"},children:t.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"20px",padding:"3rem",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)"},children:[t.jsx("h1",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:n?"üèÜ ¬°NUEVO R√âCORD!":"üíî ¬°CA√çDA LIBRE!"}),t.jsxs("div",{style:{fontSize:"1.5rem",margin:"2rem 0"},children:[t.jsxs("p",{children:["üéØ Puntuaci√≥n Final: ",t.jsx("strong",{children:R})]}),t.jsxs("p",{children:["üìè Altura M√°xima: ",t.jsxs("strong",{children:[Math.floor(R*10),"m"]})]}),t.jsxs("p",{children:["üèÜ R√©cord Personal: ",t.jsx("strong",{children:M})]}),n&&t.jsx("p",{style:{color:"#FFD700"},children:"¬°Has alcanzado las nubes!"}),!n&&t.jsx("p",{style:{color:"#FFB6C1"},children:"¬°Sigue saltando hacia las estrellas!"})]}),t.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[t.jsx("button",{onClick:q,style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #32CD32, #98FB98)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"üîÑ Saltar de Nuevo"}),t.jsx("button",{onClick:()=>E("start"),style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #87CEEB, #4169E1)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",fontWeight:"bold"},children:"üè† Men√∫ Principal"})]})]})})}return t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",background:"linear-gradient(135deg, #87CEEB 0%, #98FB98 100%)",minHeight:"100vh",fontFamily:"Arial, sans-serif",color:"white"},children:[t.jsx("h1",{style:{margin:"0 0 20px 0",fontSize:"2.5rem"},children:"ü¶ò DOODLE JUMP"}),t.jsx("div",{ref:F,style:{border:"3px solid #32CD32",borderRadius:"10px"}}),t.jsx("div",{style:{marginTop:"20px",fontSize:"1.2rem",textAlign:"center"},children:t.jsx("p",{children:"‚Üê‚Üí o A/D para mover ‚Ä¢ ¬°Atrapa los power-ups!"})})]})};export{pe as default};
