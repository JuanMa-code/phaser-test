import{r as C,j as r}from"./index-4gVcdWrt.js";import{A as te,G as O}from"./HTMLText-Crqep0LH.js";const ne=()=>{const X=C.useRef(null),[z,G]=C.useState("instructions"),[W,Y]=C.useState(0),[P,L]=C.useState(0),[H,F]=C.useState(null);C.useEffect(()=>{if(z!=="playing"||!X.current)return;const t=800,o=600,l=35,d=15,i=320,I=20,c=new te({width:t,height:o,backgroundColor:30654,antialias:!0});X.current.appendChild(c.view);let _=t/2,D=o-100,B=!1;const n=new O;n.beginFill(19855),n.drawRect(0,0,t,o),n.endFill(),n.lineStyle(3,16777215),n.moveTo(0,o/2),n.lineTo(t,o/2),n.lineStyle(3,16777215),n.drawCircle(t/2,o/2,50),n.lineStyle(5,16711680),n.moveTo((t-i)/2,0),n.lineTo((t+i)/2,0),n.lineStyle(5,16711680),n.moveTo((t-i)/2,o),n.lineTo((t+i)/2,o),n.lineStyle(3,16777215),n.moveTo((t-i)/2,0),n.lineTo((t-i)/2,I),n.moveTo((t+i)/2,0),n.lineTo((t+i)/2,I),n.moveTo((t-i)/2,o),n.lineTo((t-i)/2,o-I),n.moveTo((t+i)/2,o),n.lineTo((t+i)/2,o-I),c.stage.addChild(n);const v=new O;v.beginFill(65280),v.drawCircle(0,0,l),v.endFill(),v.x=t/2,v.y=o-80,c.stage.addChild(v);const x=new O;x.beginFill(16711680),x.drawCircle(0,0,l),x.endFill(),x.x=t/2,x.y=80,c.stage.addChild(x);const e=new O;e.beginFill(3355443),e.drawCircle(0,0,d),e.endFill(),e.x=t/2,e.y=o/2,c.stage.addChild(e);let f=0,h=0,b=t/2,p=80;const Q=(m,s,g,a,y,S)=>{const w=a-m,M=y-s;return Math.sqrt(w*w+M*M)<g+S},U=(m,s,g=!1)=>{if(Q(e.x,e.y,d,m,s,l)){const a=e.x-m,y=e.y-s,S=Math.sqrt(a*a+y*y);if(S>0){const w=a/S,M=y/S,j=d+l-S;e.x+=w*j,e.y+=M*j;const u=g?12:15;if(g&&e.y<o/2){const T=t/2,R=o-50;if(e.y<100){const k=t/2;f=(e.x<k?-1:1)*u*.8,h=u*.6}else{const k=Math.atan2(R-e.y,T-e.x),E=(Math.random()-.5)*.6;f=Math.cos(k+E)*u,h=Math.sin(k+E)*u}}else f=w*u,h=M*u}}},$=()=>{const m=(t-i)/2,s=(t+i)/2;return e.y<=d&&e.x>=m&&e.x<=s?(Y(g=>{const a=g+1;return a>=7&&(F("player"),G("gameOver"),B=!0),a}),V(),!0):e.y>=o-d&&e.x>=m&&e.x<=s?(L(g=>{const a=g+1;return a>=7&&(F("bot"),G("gameOver"),B=!0),a}),V(),!0):!1},V=()=>{e.x=t/2,e.y=o/2,f=0,h=0},ee=()=>{const s=Math.sqrt((e.x-x.x)**2+(e.y-x.y)**2),g=Math.sqrt(f**2+h**2),a=e.y<o/2,y=e.y<100,S=t/2;if(a&&y&&s<150)b=e.x<S?S+100:S-100,p=Math.max(80,e.y+40);else if(a&&s<120&&g<4&&!y){const u=t/2,T=o-30,R=Math.atan2(T-e.y,u-e.x),A=l+d+15,k=R+Math.PI;b=e.x+Math.cos(k)*A,p=e.y+Math.sin(k)*A;const E=Math.sin(Date.now()*.005)*25;b+=E}else if(a&&g>.8)y?(b=e.x,p=Math.max(120,e.y+50)):(b=e.x+f*.7,p=e.y+h*.7,p=Math.max(60,p-25));else if(a&&g<.8)y?(b=e.x+(Math.random()-.5)*30,p=Math.max(100,e.y+40)):(b=e.x+(Math.random()-.5)*50,p=Math.max(60,e.y-35));else if(h<-2&&e.y<o/2+50){const u=(e.y-100)/Math.abs(h),T=e.x+f*u;b=Math.max(l,Math.min(t-l,T)),p=100}else b=t/2+(e.x-t/2)*.4,p=90;p=Math.max(50,Math.min(o/2-l,p)),b=Math.max(l,Math.min(t-l,b));const w=b-x.x,M=p-x.y,j=Math.sqrt(w*w+M*M);if(j>3){const T=a&&s<100&&!y?6*1.5:6,R=w/j*T,A=M/j*T;x.x+=R,x.y+=A}},J=m=>{const s=c.view.getBoundingClientRect();_=m.clientX-s.left,D=m.clientY-s.top},K=()=>{},Z=()=>{};return c.view.addEventListener("mousemove",J),c.view.addEventListener("mousedown",K),c.view.addEventListener("mouseup",Z),c.ticker.add(()=>{if(B)return;if(D>o/2){const g=Math.max(l,Math.min(t-l,_)),a=Math.max(o/2+l,Math.min(o-l,D));v.x=g,v.y=a}ee(),e.x+=f,e.y+=h,f*=.995,h*=.995,(e.x<=d||e.x>=t-d)&&(f=-f,e.x=Math.max(d,Math.min(t-d,e.x)));const m=(t-i)/2,s=(t+i)/2;(e.y<=d&&(e.x<m||e.x>s)||e.y>=o-d&&(e.x<m||e.x>s))&&(h=-h,e.y=Math.max(d,Math.min(o-d,e.y))),U(v.x,v.y,!1),U(x.x,x.y,!0),$()}),()=>{c.view.removeEventListener("mousemove",J),c.view.removeEventListener("mousedown",K),c.view.removeEventListener("mouseup",Z),c.destroy(!0)}},[z]);const N=()=>{G("playing"),Y(0),L(0),F(null)},q=()=>{G("instructions"),Y(0),L(0),F(null)};return z==="instructions"?r.jsx("div",{style:{width:"100vw",height:"100vh",background:"linear-gradient(45deg, #0077be 0%, #00a0d6 50%, #4fc3f7 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif",color:"white",overflowY:"auto"},children:r.jsxs("div",{style:{maxWidth:"600px",width:"90%",padding:"2rem",textAlign:"center",background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",margin:"2rem auto"},children:[r.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"1.5rem",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.5)",color:"#e3f2fd"},children:"üèí AIR HOCKEY"}),r.jsxs("div",{style:{background:"rgba(0, 119, 190, 0.2)",borderRadius:"15px",padding:"1.5rem",marginBottom:"1.5rem",border:"1px solid rgba(0, 119, 190, 0.4)"},children:[r.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#e3f2fd",fontSize:"1.3rem"},children:"üéØ Objetivo"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"Golpea el disco negro hacia la porter√≠a del oponente para anotar goles"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"¬°Primer jugador en anotar 7 goles gana!"})]}),r.jsxs("div",{style:{background:"rgba(0, 119, 190, 0.2)",borderRadius:"15px",padding:"1.5rem",marginBottom:"1.5rem",border:"1px solid rgba(0, 119, 190, 0.4)"},children:[r.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#e3f2fd",fontSize:"1.3rem"},children:"üïπÔ∏è Controles"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"‚Ä¢ Mueve el mouse para controlar tu paddle verde"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"‚Ä¢ Solo puedes moverte en tu mitad de la mesa"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"‚Ä¢ Golpea el disco para cambiar su direcci√≥n"})]}),r.jsxs("div",{style:{background:"rgba(0, 119, 190, 0.2)",borderRadius:"15px",padding:"1.5rem",marginBottom:"2rem",border:"1px solid rgba(0, 119, 190, 0.4)"},children:[r.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#e3f2fd",fontSize:"1.3rem"},children:"üí° Estrategia"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"‚Ä¢ Defiende tu porter√≠a cuando el disco se acerque"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"‚Ä¢ Aprovecha los rebotes de las paredes"}),r.jsx("p",{style:{margin:"0.5rem 0",fontSize:"1rem"},children:"‚Ä¢ El bot rojo es tu oponente - ¬°ser√° dif√≠cil vencerlo!"})]}),r.jsx("button",{onClick:N,style:{padding:"1rem 2.5rem",fontSize:"1.3rem",background:"linear-gradient(45deg, #0077be, #00a0d6)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseOver:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)"},onMouseOut:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:"üèí ¬°JUGAR AIR HOCKEY!"})]})}):z==="gameOver"?r.jsx("div",{style:{width:"100vw",height:"100vh",background:"linear-gradient(45deg, #0077be 0%, #00a0d6 50%, #4fc3f7 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif",color:"white"},children:r.jsxs("div",{style:{maxWidth:"500px",width:"90%",padding:"3rem",textAlign:"center",background:"rgba(255, 255, 255, 0.15)",borderRadius:"20px",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"},children:[r.jsx("h1",{style:{fontSize:"3rem",marginBottom:"2rem",color:H==="player"?"#4caf50":"#f44336"},children:H==="player"?"üèÜ ¬°VICTORIA!":"üò¢ DERROTA"}),r.jsxs("div",{style:{fontSize:"2rem",marginBottom:"2rem",padding:"1rem",background:"rgba(255, 255, 255, 0.1)",borderRadius:"15px"},children:[r.jsxs("p",{children:["Jugador: ",W]}),r.jsxs("p",{children:["Bot: ",P]})]}),r.jsx("button",{onClick:q,style:{padding:"1rem 2rem",fontSize:"1.2rem",background:"linear-gradient(45deg, #0077be, #00a0d6)",border:"none",borderRadius:"50px",color:"white",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",fontWeight:"bold"},onMouseOver:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)"},onMouseOut:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:"üîÑ Jugar de Nuevo"})]})}):r.jsxs("div",{style:{width:"100vw",height:"100vh",background:"linear-gradient(45deg, #0077be 0%, #00a0d6 50%, #4fc3f7 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"Arial, sans-serif",gap:"1rem"},children:[r.jsxs("div",{style:{display:"flex",gap:"3rem",fontSize:"2rem",fontWeight:"bold",color:"white",background:"rgba(255, 255, 255, 0.15)",padding:"1rem 2rem",borderRadius:"20px",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)"},children:[r.jsxs("div",{style:{color:"#4caf50"},children:["Jugador: ",W]}),r.jsxs("div",{style:{color:"#f44336"},children:["Bot: ",P]})]}),r.jsx("div",{ref:X,style:{border:"4px solid white",borderRadius:"10px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)"}}),r.jsx("button",{onClick:q,style:{padding:"0.8rem 1.5rem",fontSize:"1rem",background:"rgba(255, 255, 255, 0.2)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"25px",color:"white",cursor:"pointer",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},onMouseOver:t=>{t.currentTarget.style.background="rgba(255, 255, 255, 0.3)"},onMouseOut:t=>{t.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},children:"‚Üê Volver al Men√∫"})]})};export{ne as default};
